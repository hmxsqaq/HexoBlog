<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ã€ŒLeetCodeã€ç®—æ³•ç»ƒä¹ è®°å½•</title>
    <url>/posts/102/</url>
    <content><![CDATA[<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202309090059804.png" alt="leetcode"></p>
<blockquote>
<p><strong>åŠ›æ‰£ä¸ªäººä¸»é¡µï¼š<a href="https://leetcode.cn/u/nervous-i3elllb6/">https://leetcode.cn/u/nervous-i3elllb6/</a></strong></p>
</blockquote>
<hr>
<h2 id="templateï¼š">templateï¼š</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">## date</span><br><span class="line"></span><br><span class="line">### title</span><br><span class="line"></span><br><span class="line">#### æ€è·¯</span><br><span class="line"></span><br><span class="line">#### é¢˜è§£</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="230905">230905</h2>
<h3 id="2605-ä»ä¸¤ä¸ªæ•°å­—æ•°ç»„é‡Œç”Ÿæˆæœ€å°æ•°å­—"><a href="https://leetcode.cn/problems/form-smallest-number-from-two-digit-arrays/">2605. ä»ä¸¤ä¸ªæ•°å­—æ•°ç»„é‡Œç”Ÿæˆæœ€å°æ•°å­—</a></h3>
<h4 id="æ€è·¯">æ€è·¯</h4>
<ul>
<li>å“ˆå¸Œï¼šé€šè¿‡å“ˆå¸Œè¡¨ç­›å‡ºä¸¤ä¸ªæ•°ç»„çš„é‡å¤æ•°ä¸æœ€å°æ•°</li>
</ul>
<h4 id="é¢˜è§£">é¢˜è§£</h4>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å“ˆå¸Œ</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minNumber</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums1, vector&lt;<span class="type">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> result = <span class="number">10</span>;</span><br><span class="line">        <span class="function">unordered_set&lt;<span class="type">int</span>&gt; <span class="title">hash</span><span class="params">(nums<span class="number">1.</span>begin(), nums<span class="number">1.</span>end())</span></span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums2)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (hash.<span class="built_in">find</span>(num) != hash.<span class="built_in">end</span>())</span><br><span class="line">                result = <span class="built_in">min</span>(result, num);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (result &lt; <span class="number">10</span>)</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        <span class="type">int</span> num1 = *<span class="built_in">min_element</span>(nums<span class="number">1.</span><span class="built_in">begin</span>(), nums<span class="number">1.</span><span class="built_in">end</span>());</span><br><span class="line">        <span class="type">int</span> num2 = *<span class="built_in">min_element</span>(nums<span class="number">2.</span><span class="built_in">begin</span>(), nums<span class="number">2.</span><span class="built_in">end</span>());</span><br><span class="line">        result = num1 &lt; num2 ? num1 * <span class="number">10</span> + num2 : num2 * <span class="number">10</span> + num1;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="1-ä¸¤æ•°ä¹‹å’Œ"><a href="https://leetcode.cn/problems/two-sum/">1. ä¸¤æ•°ä¹‹å’Œ</a></h3>
<h4 id="æ€è·¯-2">æ€è·¯</h4>
<ul>
<li>éå†çˆ†æœï¼šæŠŠæ‰€æœ‰ä¸¤ä¸¤ç»„åˆå…¨è¯•ä¸€é</li>
<li>å“ˆå¸Œï¼šç”±<code>x + y = target</code>å¾—<code>target - x = y</code>ï¼Œå»ºç«‹å“ˆå¸Œè¡¨è¿›è¡Œç´¢å¼•ï¼Œéå†è¿‡ç¨‹ä¸­ï¼Œè®¾éå†åˆ°çš„æ•°ä¸º<code>x</code>ï¼Œåœ¨å“ˆå¸Œè¡¨ä¸­å¯»æ‰¾<code>target - x</code>ï¼Œå¦‚æœæ‰¾ä¸åˆ°å°±æŠŠ<code>x</code>åŠ å…¥å“ˆå¸Œè¡¨</li>
</ul>
<h4 id="é¢˜è§£-2">é¢˜è§£</h4>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// éå†çˆ†æœ</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">twoSum</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; nums.<span class="built_in">size</span>(); ++j)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[i] + nums[j] == target)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">return</span> &#123; i, j &#125;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(<span class="literal">NULL</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å“ˆå¸Œ</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">twoSum</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span> </span>&#123;</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; hash;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">auto</span> iterator = hash.<span class="built_in">find</span>(target - nums[i]);</span><br><span class="line">            <span class="keyword">if</span> (iterator != hash.<span class="built_in">end</span>())</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> &#123; iterator-&gt;second, i&#125;;</span><br><span class="line">            &#125;</span><br><span class="line">            hash[nums[i]] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(<span class="literal">NULL</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="230906">230906</h2>
<h3 id="2-ä¸¤æ•°ç›¸åŠ "><a href="https://leetcode.cn/problems/add-two-numbers/">2. ä¸¤æ•°ç›¸åŠ </a></h3>
<h4 id="æ€è·¯-3">æ€è·¯</h4>
<p>é“¾è¡¨é¢˜</p>
<ul>
<li>è¿­ä»£æ¨¡æ‹Ÿï¼šæ¨¡æ‹ŸåŠ æ³•çš„è¿‡ç¨‹ï¼Œéå†å³å¯ï¼Œéœ€è¦æ³¨æ„è¾¹ç•Œæ£€æŸ¥ç­‰ç»†èŠ‚ï¼Œéœ€è¦é‡‡ç”¨ä¸€ä¸ª<code>dummy head</code>ï¼ˆå‚€å„¡å¤´æŒ‡é’ˆï¼‰å¯¹é“¾è¡¨å¤´è¿›è¡Œæ ‡è®°</li>
<li>é€’å½’ï¼š<code>sum = l1 + l2 + carry_bit</code>ï¼Œä½¿ç”¨é€’å½’è¿›è¡Œé“¾è¡¨çš„é€’æ¨</li>
</ul>
<h4 id="é¢˜è§£-3">é¢˜è§£</h4>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ¨¡æ‹Ÿ</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">addTwoNumbers</span><span class="params">(ListNode* l1, ListNode* l2)</span> </span>&#123;</span><br><span class="line">        ListNode* tail = <span class="literal">nullptr</span>;</span><br><span class="line">        ListNode* head = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="type">int</span> carry_bit = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (l1 || l2 )</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> add1 = l1 ? l1-&gt;val : <span class="number">0</span>;</span><br><span class="line">            <span class="type">int</span> add2 = l2 ? l2-&gt;val : <span class="number">0</span>;</span><br><span class="line">            <span class="type">int</span> sum = add1 + add2 + carry_bit;</span><br><span class="line">            carry_bit = sum / <span class="number">10</span>;</span><br><span class="line">            <span class="keyword">if</span> (head == <span class="literal">nullptr</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                tail = <span class="keyword">new</span> <span class="built_in">ListNode</span>(sum % <span class="number">10</span>);</span><br><span class="line">                head = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">0</span>, tail);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                tail-&gt;next = <span class="keyword">new</span> <span class="built_in">ListNode</span>(sum % <span class="number">10</span>);</span><br><span class="line">                tail = tail-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (l1) l1 = l1-&gt;next;</span><br><span class="line">            <span class="keyword">if</span> (l2) l2 = l2-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (carry_bit &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            tail-&gt;next = <span class="keyword">new</span> <span class="built_in">ListNode</span>(carry_bit);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> head-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€’å½’</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">add</span><span class="params">(ListNode* l1, ListNode* l2, <span class="type">int</span> carry)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l1 == <span class="literal">nullptr</span> &amp;&amp; l2 == <span class="literal">nullptr</span> &amp;&amp; carry == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="type">int</span> sum = (l1 ? l1-&gt;val : <span class="number">0</span>) + (l2 ? l2-&gt;val : <span class="number">0</span>) + carry;</span><br><span class="line">        ListNode* node = <span class="keyword">new</span> <span class="built_in">ListNode</span>(sum % <span class="number">10</span>);</span><br><span class="line">        node-&gt;next = <span class="built_in">add</span>(l1 ? l1-&gt;next : <span class="literal">nullptr</span>, l2 ? l2-&gt;next : <span class="literal">nullptr</span>, sum / <span class="number">10</span>);</span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">ListNode* <span class="title">addTwoNumbers</span><span class="params">(ListNode* l1, ListNode* l2)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">add</span>(l1, l2, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="230908">230908</h2>
<h3 id="3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"><a href="https://leetcode.cn/problems/longest-substring-without-repeating-characters/">3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</a></h3>
<h4 id="æ€è·¯-4">æ€è·¯</h4>
<ul>
<li>æ»‘åŠ¨çª—å£ï¼šä½¿ç”¨ä¸€å·¦ä¸€å³ä¸¤ä¸ªç´¢å¼•â€œæŒ‡é’ˆâ€ï¼Œåˆ›é€ ä¸€ä¸ªâ€œçª—å£â€ï¼Œçª—å£ä¸­çš„å…ƒç´ æ˜¯ç¬¦åˆè¦æ±‚çš„ï¼Œä½¿å…¶åœ¨å­—ç¬¦ä¸²/æ•°ç»„ä¸Šç§»åŠ¨ï¼Œå®Œæˆéå†</li>
</ul>
<h4 id="é¢˜è§£-4">é¢˜è§£</h4>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ»‘åŠ¨çª—å£</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(string s)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        unordered_set&lt;<span class="type">char</span>&gt; hash;</span><br><span class="line">        <span class="type">int</span> right = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> left = <span class="number">0</span>;left &lt; s.<span class="built_in">length</span>();left++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span> (right &lt; s.<span class="built_in">length</span>() &amp;&amp; hash.<span class="built_in">find</span>(s[right]) == hash.<span class="built_in">end</span>())</span><br><span class="line">            &#123;</span><br><span class="line">                hash.<span class="built_in">insert</span>(s[right]);</span><br><span class="line">                right++;</span><br><span class="line">            &#125;</span><br><span class="line">            ans = <span class="built_in">max</span>(ans, right - left);</span><br><span class="line">            hash.<span class="built_in">erase</span>(s[left]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="230909">230909</h2>
<p>çœ‹äº†ä¿©é¢˜éƒ½åšå¯„äº†ï¼Œæ‘†ï¼å¾…æˆ‘å­¦æˆã€Šç®—æ³•4ã€‹å½’æ¥</p>
<hr>
]]></content>
      <categories>
        <category>Notes</category>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>C/C++</tag>
        <tag>Algorithm</tag>
        <tag>Note</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŒC#-æ³›å‹çº¦æŸã€å­¦ä¹ ç¬”è®°</title>
    <url>/posts/103/</url>
    <content><![CDATA[<h1>æ³›å‹çº¦æŸ</h1>
<blockquote>
<p>æ³›å‹çº¦æŸï¼šå¯¹æ³›å‹ç±»å‹å‚æ•°æ–½åŠ é™åˆ¶ï¼Œç”¨äºé™åˆ¶å¯ä»¥ä¼ é€’åˆ°è¯¥ç±»å‹å‚æ•°çš„ç±»å‹ç§ç±»ï¼Œå…±æœ‰6ç§</p>
</blockquote>
<p><strong>åŸºæœ¬è¯­æ³•</strong>ï¼š</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">MyGeneric</span>&lt;<span class="title">T</span>&gt; <span class="keyword">where</span> <span class="title">T</span> : <span class="title">struct</span>/<span class="keyword">class</span>/<span class="title">new</span>()/&lt;<span class="title">base</span> <span class="title">class</span> <span class="title">name</span>&gt;/&lt;<span class="title">interface</span> <span class="title">name</span>&gt;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="ç»“æ„çº¦æŸ-where-T-struct">ç»“æ„çº¦æŸ <code>where T : struct</code></h2>
<p>Tå¿…é¡»æ˜¯<strong>å€¼ç±»å‹</strong>ï¼Œå¯ä»¥æŒ‡å®šé™¤ Nullable ä»¥å¤–çš„ä»»ä½•å€¼ç±»å‹</p>
<p>ï¼ˆå€¼ç±»å‹æœ‰intã€floatã€charã€boolã€structã€enumã€byteç­‰ï¼Œå€¼ç±»å‹å£°æ˜åè¢«ç›´æ¥åˆ†é…å†…å­˜ï¼‰</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyGeneric</span>&lt;<span class="title">T</span>&gt; <span class="keyword">where</span> <span class="title">T</span> : <span class="title">struct</span> &#123; &#125;</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    MyGeneric&lt;<span class="built_in">int</span>&gt; myGenericint = <span class="keyword">new</span> MyGeneric&lt;<span class="built_in">int</span>&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="ç±»å…³é”®è¯çº¦æŸ-where-T-class">ç±»å…³é”®è¯çº¦æŸ <code>where T : class</code></h2>
<p>Tå¿…é¡»æ˜¯<strong>å¼•ç”¨ç±»å‹</strong>ï¼ŒåŒ…æ‹¬ä»»ä½•ç±»ã€æ¥å£ã€å§”æ‰˜æˆ–æ•°ç»„ç±»å‹</p>
<p>ï¼ˆå¼•ç”¨ç±»å‹æœ‰stringå’Œclassï¼Œå¼•ç”¨ç±»å‹è¢«å£°æ˜æ—¶åªåœ¨æ ˆä¸­åˆ†é…ä¸€å°ç‰‡å†…å­˜ç”¨äºå®¹çº³ä¸€ä¸ªåœ°å€ï¼Œå…¶å®ä¾‹è¢«åˆ›å»ºæ—¶ï¼Œæ‰ä¼šä¸ºå…¶åœ¨å †ä¸­åˆ†é…å†…å­˜ï¼Œå¹¶å°†å †ä¸­è¢«åˆ†é…çš„å†…å­˜åœ°å€ä¿å­˜åˆ°æ ˆä¸­ï¼‰</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyGeneric</span>&lt;<span class="title">T</span>&gt; <span class="keyword">where</span> <span class="title">T</span> : <span class="keyword">class</span> &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    MyGeneric&lt;<span class="built_in">string</span>&gt; myGenericstring = <span class="keyword">new</span> MyGeneric&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="æ¥å£åçº¦æŸ-where-T-interface-name">æ¥å£åçº¦æŸ <code>where T : &lt;interface name&gt;</code></h2>
<p>Tå¿…é¡»<strong>ç»§æ‰¿æ‰€ç»™åç§°çš„æŒ‡å®šæ¥å£</strong>ï¼Œå¹¶å®ç°å…¶ä¸­çš„æ‰€æœ‰æ–¹æ³•</p>
<p>å¯ä»¥æŒ‡å®šå¤šä¸ªæ¥å£çº¦æŸ</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IMyInterface</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="built_in">int</span> <span class="title">Add</span>(<span class="params"><span class="built_in">int</span> a,<span class="built_in">int</span> b</span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Show</span>()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">A</span> : <span class="title">IMyInterface</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Add</span>(<span class="params"><span class="built_in">int</span> a,<span class="built_in">int</span> b</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> a + b</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Show</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(<span class="string">&quot;This is a test.&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyGeneric</span>&lt;<span class="title">T</span>&gt; <span class="keyword">where</span> <span class="title">T</span> : <span class="title">IMyInterface</span> &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    MyGeneric&lt;A&gt; myGenericA = <span class="keyword">new</span> MyGeneric&lt;A&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="ç±»åçº¦æŸ-where-T-base-class-name">ç±»åçº¦æŸ <code>where T : &lt;base class name&gt;</code></h2>
<p>Tå¿…é¡»<strong>æ˜¯è¯¥ç±»æœ¬èº«æˆ–æ˜¯è¯¥ç±»çš„å­ç±»</strong></p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">A</span> &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">B</span> : <span class="title">A</span> &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyGeneric</span>&lt;<span class="title">T</span>&gt; <span class="keyword">where</span> <span class="title">T</span> : <span class="title">A</span> &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">    MyGeneric&lt;A&gt; myGenericA = <span class="keyword">new</span> MyGeneric&lt;A&gt;();</span><br><span class="line">    MyGeneric&lt;B&gt; myGenericB = <span class="keyword">new</span> MyGeneric&lt;B&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="æ„é€ çº¦æŸ-where-T-new">æ„é€ çº¦æŸ <code>where T : new()</code></h2>
<p>Tå¿…é¡»å…·<strong>æœ‰æ— å‚æ•°çš„å…¬å…±æ„é€ å‡½æ•°</strong></p>
<p>å½“ä¸å…¶ä»–çº¦æŸä¸€èµ·ä½¿ç”¨æ—¶ï¼Œnew() çº¦æŸå¿…é¡»æœ€åæŒ‡å®š</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">A</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyGeneric</span>&lt;<span class="title">T</span>&gt; <span class="keyword">where</span> <span class="title">T</span> : <span class="title">A</span>,<span class="title">new</span>() &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">    MyGeneric&lt;A&gt; myGenericA = <span class="keyword">new</span> MyGeneric&lt;A&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h1>æ³›å‹çº¦æŸçš„åº”ç”¨</h1>
<h2 id="ä¾‹ï¼š">ä¾‹ï¼š</h2>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyBaseGeneric</span>&lt;<span class="title">T</span>&gt; <span class="keyword">where</span> <span class="title">T</span> : <span class="title">MyGeneric</span>&lt;<span class="title">T</span>&gt; &#123; &#125;</span><br></pre></td></tr></table></figure>
<p>é‡‡ç”¨äº†**â€œç±»åçº¦æŸâ€**</p>
<p>æ ¹æ®å®šä¹‰ï¼šTå¿…é¡»æ˜¯è¯¥ç±»æœ¬èº«æˆ–æ˜¯è¯¥ç±»çš„å­ç±»ï¼Œå³Tå¿…é¡»æ˜¯MyBaseGeneric<T>æœ¬èº«æˆ–æ˜¯MyBaseGeneric<T>çš„å­ç±»</p>
<p>æ•…å½“æœ‰å…¶ä»–ç±»MyGenericæƒ³è¦ç»§æ‰¿MyBaseGeneric<T>æ—¶ï¼ŒTä¾¿åªèƒ½ä¸ºMyGenericæœ¬èº«æˆ–å…¶ä»–å·²ç»ç»§æ‰¿äº†MyBaseGeneric<T>çš„ç±»</p>
<p>å†™æ³•ä¸ºï¼š</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyGeneric</span> : <span class="title">MyBaseGeneric</span>&lt;<span class="title">MyGeneric</span>&gt; &#123; &#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·ä¾¿é€šè¿‡ç±»åæ³›å‹çº¦æŸé™åˆ¶äº†æ³›å‹T</p>
]]></content>
      <categories>
        <category>Notes</category>
        <category>C#</category>
      </categories>
      <tags>
        <tag>Note</tag>
        <tag>C#</tag>
        <tag>Generic</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŒC#-åå°„ã€å­¦ä¹ ç¬”è®°</title>
    <url>/posts/104/</url>
    <content><![CDATA[<h1>åå°„</h1>
<h2 id="å‰è¨€">å‰è¨€</h2>
<p>åå°„ï¼ˆReflectionï¼‰æ˜¯C#ä¸­çš„ä¸€ç§å¼ºå¤§ç‰¹æ€§ï¼Œå…¶åœ¨Unityä¸æ¸¸æˆå¼€å‘ä¸­è¢«è¿ç”¨äºè¯¸å¤šæ–¹é¢ï¼Œè€Œæˆ‘ä¹‹å‰å¯¹å…¶æ—©æœ‰è€³é—»ï¼Œä½†ä¸€ç›´æ˜¯ä¸€çŸ¥åŠè§£ã€æœ›è€Œç”Ÿç•ï¼Œå…³äºä»€ä¹ˆæ˜¯åå°„ï¼Œä»¥åŠåå°„çš„å…·ä½“ä½œç”¨ä¸€ç›´æ²¡æœ‰ä¸€ä¸ªæ¸…æ™°çš„è®¤çŸ¥ã€‚</p>
<p>è€Œæœ¬æ–‡æ˜¯æˆ‘è¾ƒä¸ºç³»ç»Ÿçš„å­¦ä¹ åå°„çš„ä¸€äº›ç¬”è®°ï¼Œå¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©ğŸ˜†</p>
<hr>
<h2 id="C-ä¸­çš„å†…å­˜å¸ƒå±€ï¼šç±»ä¸ç±»çš„å®ä¾‹åŒ–">C#ä¸­çš„å†…å­˜å¸ƒå±€ï¼šç±»ä¸ç±»çš„å®ä¾‹åŒ–</h2>
<p>ç±»æ˜¯C#ä¸­æœ€ä¸ºé‡è¦çš„æ¦‚å¿µä¹‹ä¸€ï¼ŒUnityçš„æ¯ä¸ªè„šæœ¬éƒ½æ˜¯ä¸€ä¸ªç±»ï¼Œç¼–å†™C#ä»£ç æ—¶ï¼Œå‡ ä¹æ— æ—¶æ— åˆ»éƒ½åœ¨å’Œç±»æ‰“äº¤é“ã€‚</p>
<p>è€Œå…³äºç±»çš„æœ¬è´¨ï¼Œå…¶å¯ä»¥è¢«ç§°ä¸ºä¸€ç§**â€œå¯¹ç±»å‹çš„æè¿°â€æˆ–æ˜¯â€œå­—æ®µä¸æ–¹æ³•çš„é›†åˆâ€**ï¼Œç±»æœ¬èº«åªæ˜¯ä¸€ç§æè¿°ã€ä¸€ç§å£°æ˜ï¼Œå…¶è¯´æ˜äº†è¿™ä¸ªç±»å‹ç”±é‚£äº›æ•°æ®å’Œæ–¹æ³•ç»„æˆï¼Œä»…æ­¤è€Œå·²ï¼Œå…¶å¹¶ä¸æŒ‡å‘ä»»ä½•ä¸€ç‰‡å…·ä½“çš„å†…å­˜ã€‚</p>
<p>è€Œâ€œç±»çš„å®ä¾‹åŒ–â€è¿‡ç¨‹åˆ™æ‰¿æ‹…äº†å°†å…·ä½“çš„å†…å­˜ä¸ç›¸å…³è”çš„ä»»åŠ¡ï¼Œæ‰€è°“â€œå®ä¾‹åŒ–â€ä¾¿æ˜¯æ ¹æ®ç±»çš„å£°æ˜ä¸ºå…·ä½“çš„å®ä¾‹åˆ†é…å†…å­˜ç©ºé—´çš„è¿‡ç¨‹ï¼›å¯¹äºæ™®é€šçš„ç±»ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡newæ–¹æ³•å¯¹å…¶è¿›è¡Œå®ä¾‹åŒ–ï¼›è€Œåœ¨Unityä¸­ï¼ŒUnityä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬å®ä¾‹åŒ–æŒ‚è½½åœ¨<code>GameObject</code>ä¸Šå¹¶ç»§æ‰¿äº†<code>Monobehavior</code>çš„ç±»ã€‚</p>
<p>åœ¨æˆ‘ä»¬å®ä¾‹åŒ–ä¸€ä¸ªç±»æ—¶ï¼Œä¸€å—å…·ä½“çš„å†…å­˜ä¼šè¢«åˆ†é…ç»™ç±»çš„æ•°æ®æˆå‘˜ï¼Œè€Œç±»çš„æˆå‘˜å‡½æ•°åˆ™å±äºä»£ç æŒ‡ä»¤ï¼Œä¼šè¢«å…±åŒç¼–è¯‘æˆä¸ºæŒ‡ä»¤é›†ï¼Œå­˜å…¥ä»£ç æ®µï¼Œæ‰€æœ‰è¿™ä¸€ç±»çš„å®ä¾‹å…¨å±€å…±ç”¨ä¸€ä»½ã€‚</p>
<hr>
<h2 id="åå°„çš„åŸç†ï¼šç±»çš„å¿’ä¼‘æ–¯ä¹‹èˆ¹">åå°„çš„åŸç†ï¼šç±»çš„å¿’ä¼‘æ–¯ä¹‹èˆ¹</h2>
<h3 id="ç±»çš„æè¿°ä¸è§£æ„">ç±»çš„æè¿°ä¸è§£æ„</h3>
<p>åœ¨Unityä¸­ï¼Œå¾€å¾€å­˜åœ¨ç€è¿™æ ·ä¸€ç§åœºæ™¯ï¼Œæˆ‘ä»¬å°†ä¸€ä¸ªè„šæœ¬â€œ<code>GameManager</code>â€æŒ‚è½½åœ¨äº†â€œ<code>Game</code>â€ç‰©ä½“ä¸Šï¼Œå¹¶åœ¨Inspectorç•Œé¢ä¸­å°†<code>GameManager</code>ä¸­çš„<code>int</code>ç±»å‹çš„å˜é‡<code>a</code>çš„å€¼æ”¹ä¸ºäº†1ï¼Œä¹‹åæˆ‘ä»¬å…³é—­äº†Unityå·¥ç¨‹ï¼Œåœ¨é‡æ–°æ‰“å¼€è¯¥å·¥ç¨‹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°<code>GameManager</code>ä»ç„¶åœ¨<code>Game</code>ä¸Šï¼Œä¸”å˜é‡aä»ç„¶æ˜¯1ã€‚</p>
<p>ä¸Šè¿°åœºæ™¯çœ‹èµ·æ¥ç¨€æ¾å¹³å¸¸ï¼Œä½†è‹¥ç»†ç©¶å…¶ä¸­çš„åŸç†ä¾¿ä¼šå‘ç°å…¶ä¸å¯»å¸¸ã€‚</p>
<p>â€œæŒ‚è½½è„šæœ¬â€œå®é™…ä¸Šæ˜¯ä¸€ä¸ªâ€œå®ä¾‹åŒ–â€çš„è¿‡ç¨‹ï¼Œå½“æˆ‘ä»¬æŠŠä¸€ä¸ªè„šæœ¬æŒ‚è½½åˆ°æ¸¸æˆç‰©ä½“ä¸Šçš„æ—¶å€™ï¼Œå®é™…å‘ç”Ÿçš„è¿‡ç¨‹æ˜¯é€šè¿‡è„šæœ¬ä¸­çš„ç±»å®ä¾‹åŒ–äº†ä¸€ä¸ªå¯¹è±¡æŒ‚è½½åˆ°æ¸¸æˆç‰©ä½“ä¸Šï¼Œè€Œå½“é¡¹ç›®è¢«å…³é—­ï¼Œå…¶å®ä¾‹è‡ªç„¶ä¹Ÿä¼šè¢«é”€æ¯ï¼Œè€Œæ•°æ®ä¼šä»¥å­—ç¬¦ä¸²çš„å½¢å¼è¢«ä¿å­˜åœ¨<code>scene</code>æ–‡ä»¶ä¸­ï¼Œå½“æˆ‘ä»¬å†æ¬¡æ‰“å¼€é¡¹ç›®æ—¶ï¼Œå¦‚æœè¦å®ç°ä¸Šè¿°åœºæ™¯ï¼Œé‚£ä¹ˆUnityä¾¿éœ€è¦æ ¹æ®ä¸Šæ¬¡ä¿å­˜çš„å­—ç¬¦ä¸²åŠ¨æ€çš„ä¸ºæˆ‘ä»¬çš„è„šæœ¬è¿›è¡Œå®ä¾‹åŒ–ï¼Œè¿™å¹¶ä¸å®¹æ˜“ã€‚åœ¨æ­£å¸¸åœºæ™¯ä¸­ï¼Œè‹¥è¦æ ¹æ®å­—ç¬¦ä¸²è¿›è¡Œå®ä¾‹åŒ–ï¼Œé‚£ä¹ˆä»£ç å¾€å¾€ä¼šå˜æˆä¸‹é¢è¿™æ ·ï¼š</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (name == <span class="string">&quot;GameManager&quot;</span>)&#123;</span><br><span class="line">    Game.AddComponent&lt;GameManager&gt;();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (...)</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (...)</span><br></pre></td></tr></table></figure>
<p>å¦‚æœç”¨è¿™ç§æ–¹å¼å®ç°ä¸Šè¿°åœºæ™¯ï¼Œä¾¿æ„å‘³ç€æ¯æ¬¡ç”¨æˆ·æ›´æ”¹è„šæœ¬ï¼Œå¼•æ“åº•å±‚éƒ½éœ€è¦è¿›è¡Œæ›´æ”¹ä¸é‡æ–°ç¼–è¯‘ï¼Œè¿™å°†æ˜¯æå…¶ç¾éš¾æ€§çš„</p>
<p>è€Œé—®é¢˜çš„å®è´¨ä¾¿æ˜¯ï¼š<strong>æ¯ä¸ªç±»éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„æè¿°ï¼Œæ¯ä¸ªç±»éƒ½æ˜¯ä¸åŒçš„ç±»å‹ï¼Œè€Œæˆ‘ä»¬æ— æ³•é€šè¿‡ç»Ÿä¸€çš„æ–¹å¼æ¥å¤„ç†ä¸åŒçš„æè¿°ã€ä¸åŒçš„ç±»å‹</strong></p>
<p>è‹¥æˆ‘ä»¬èƒ½æ‰¾åˆ°ä¸€ç§ç»Ÿä¸€çš„æ–¹å¼æ¥æè¿°ä»»æ„çš„ç±»ï¼Œé‚£ä¹ˆè¿™ä¸€é—®é¢˜ä¾¿å¯ä»¥è¿åˆƒè€Œè§£ï¼Œè¿™ä¾¿æ˜¯â€œåå°„â€çš„æ ¸å¿ƒï¼Œæˆ‘å°†å…¶ç§°ä¹‹ä¸º<strong>ç±»çš„å¿’ä¼‘æ–¯ä¹‹èˆ¹</strong></p>
<p>ä»»ä¸€ç±»éƒ½å¯ä»¥è½¬åŒ–ä¸ºè¿™æ ·ä¸€ç§æè¿°ï¼š</p>
<ul>
<li>ç±»å®ä¾‹çš„å†…å­˜å¤§å°ï¼šç±»çš„å®ä¾‹ä¾¿æ˜¯ä¸€å—å†…å­˜ç©ºé—´ï¼Œæˆ‘ä»¬åœ¨ç¼–è¯‘æ—¶å¯ä»¥è·å¾—å…¶å¤§å°</li>
<li>æ•°æ®æˆå‘˜ä¿¡æ¯ï¼šé€šè¿‡æ•°ç»„æˆ–å…¶ä»–æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç±»çš„æ•°æ®æˆå‘˜çš„åå­—ã€ç±»å‹ã€åœ°å€åç§»ç­‰ä¿¡æ¯ä¿å­˜èµ·æ¥</li>
</ul>
<p>å¦‚ï¼š<code>&#123;â€œnameâ€,type string,1&#125;,&#123;â€œdamageâ€,type int,2&#125;</code></p>
<ul>
<li>æˆå‘˜å‡½æ•°ä¿¡æ¯ï¼šé€šè¿‡æ•°ç»„æˆ–å…¶ä»–æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç±»ä¸­çš„æ–¹æ³•çš„åå­—ã€ç±»å‹ã€åœ°å€ç­‰ä¿¡æ¯ä¿å­˜èµ·æ¥</li>
</ul>
<p>å¦‚ï¼š<code>&#123;â€œaddâ€,type func,0xaa&#125;</code></p>
<p>é€šè¿‡è¿™ç§æè¿°ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å…¶æ¥è¡¨è¾¾ä»»æ„ä¸åŒçš„ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¡¨è¾¾ä»»æ„ä¸åŒçš„ç±»ï¼Œè¿™æ ·ç»Ÿä¸€çš„å¤„ç†ä¸åŒç±»ä¾¿æˆä¸ºäº†å¯èƒ½ã€‚</p>
<h3 id="ç±»çš„é‡æ–°å®ä¾‹åŒ–-Typeç±»çš„å¼•å…¥">ç±»çš„é‡æ–°å®ä¾‹åŒ–-Typeç±»çš„å¼•å…¥</h3>
<p>è€Œåœ¨C#ä¸­æˆ‘ä»¬ä¼šé€šè¿‡<code>System</code>å‘½åç©ºé—´ä¸‹çš„<code>Type</code>ç±»å‹æ¥å¯¹å…·ä½“ç±»çš„ä¿¡æ¯è¿›è¡Œå­˜å‚¨ï¼Œéœ€è¦è¿›è¡Œå®ä¾‹åŒ–æ—¶æ ¹æ®<code>Type</code>å®ä¾‹ä¸­çš„æ•°æ®å¯¹å…·ä½“ç±»è¿›è¡Œå®ä¾‹åŒ–ã€‚</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">FiledData</span> &#123;</span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line">    <span class="built_in">int</span> type;</span><br><span class="line">    <span class="built_in">int</span> offset;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title">MethodData</span> &#123;</span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line">    <span class="built_in">int</span> type;</span><br><span class="line">    <span class="built_in">int</span> offset;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title">Type</span> &#123;</span><br><span class="line">    <span class="built_in">int</span> size;</span><br><span class="line">    List&lt;FiledData&gt; datas;</span><br><span class="line">    List&lt;MethodData&gt; funcs;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šæè¿°äº†<code>Type</code>ç±»å¤§è‡´çš„ç»„ç»‡æ–¹å¼ï¼Œå…¶ä¸­å­˜å‚¨äº†å…·ä½“ç±»çš„å„ä¸ªä¿¡æ¯ï¼Œé€šè¿‡è¿™äº›ä¿¡æ¯æˆ‘ä»¬ä¾¿å¯ä»¥å®Œæ•´çš„æè¿°ä¸€ä¸ªç±»</p>
<p>æ ¹æ®<code>Type</code>ç±»ä¸­çš„æ•°æ®ï¼Œå¼•æ“çš„åº•å±‚ä¾¿å¯ä»¥é€šè¿‡è°ƒç”¨OSç­‰APIï¼ŒåŠ¨æ€çš„åˆ†é…å†…å­˜ï¼Œæ„å»ºä¸åŒçš„ç±»å‹</p>
<p>ä»¥ä¸‹æ˜¯é€šè¿‡<code>Type</code>ç±»æ„å»ºå¯¹è±¡çš„æµç¨‹ï¼š</p>
<ol>
<li>
<p>ç¼–è¯‘æŸä¸ªç±»æ—¶ï¼Œå¯ä»¥ä¸ºè¯¥ç±»ç”Ÿæˆä¸€ä¸ª<code>Type</code>ç±»å‹çš„å…¨å±€æ•°æ®ï¼Œå…¶ä¸­å­˜æ”¾äº†è¯¥ç±»çš„æè¿°æ•°æ®</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>System.Type.GetType(â€œç±»åâ€)/typeof(T)</code>ç­‰APIï¼Œæ ¹æ®ç±»å‹/ç±»åè·å–ç±»çš„æè¿°å¯¹è±¡å®ä¾‹ï¼ˆå³Typeæ•°æ®ï¼‰</p>
</li>
<li>
<p><code>Type</code>ç±»å‹ä¸­ï¼Œç³»ç»Ÿå·²ç»å°è£…å¥½äº†æè¿°ä¸€ä¸ªç±»éœ€è¦çš„ä¿¡æ¯ï¼ŒåŒ…å«ï¼š<code>FieldsInfos</code>ï¼ˆæ•°æ®æˆå‘˜ä¿¡æ¯ï¼‰ã€<code>MethodInfos</code>ï¼ˆæˆå‘˜æ–¹æ³•ä¿¡æ¯ï¼‰ç­‰</p>
</li>
<li>
<p>é€šè¿‡åå°„APIï¼ˆ<code>Activator.CreateInstance</code>ï¼‰ï¼Œä¾¿å¯ä»¥æ ¹æ®<code>Type</code>æ•°æ®æ„å»ºå¯¹è±¡</p>
</li>
<li>
<p>åœ¨Typeä¸­å¯ä»¥è¯´æ‹¥æœ‰ç±»çš„ä¸€åˆ‡æ•°æ®ï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥æ„å»ºç±»ï¼ŒåŒæ—¶ä¹Ÿèƒ½æ›´æ”¹ã€è°ƒç”¨å®ƒä»¬</p>
</li>
</ol>
<hr>
<h2 id="åå°„çš„åº”ç”¨ï¼šä»¥Unityä¸­çš„åå°„ä¸ºä¾‹">åå°„çš„åº”ç”¨ï¼šä»¥Unityä¸­çš„åå°„ä¸ºä¾‹</h2>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Reflection;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç±»ï¼Œé€šè¿‡åå°„å¯¹Dataç±»è¿›è¡Œæ“ä½œ</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Data</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Value;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Data</span>(<span class="params"><span class="built_in">string</span> name, <span class="built_in">int</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>.Name = name;</span><br><span class="line">        <span class="keyword">this</span>.Value = <span class="keyword">value</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Show</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(<span class="string">&quot;Value:&quot;</span> + Value);</span><br><span class="line">        Debug.Log(<span class="string">&quot;Name:&quot;</span> + Name);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="built_in">int</span> <span class="title">Add</span>(<span class="params"><span class="built_in">int</span> a, <span class="built_in">int</span> b</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TestClass</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// æ„å»ºDataç±»çš„Typeå¯¹è±¡</span></span><br><span class="line">        Type type = Type.GetType(<span class="string">&quot;Data&quot;</span>);</span><br><span class="line">        ShowConstructor(type);</span><br><span class="line">        ShowPublicMethod(type);</span><br><span class="line">        CreateObjectByConstructor(type);</span><br><span class="line">        CreateObjectByActivator(type);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–æ„é€ å‡½æ•°çš„æ‰€æœ‰å‚æ•°ä¸ç±»å‹</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ShowConstructor</span>(<span class="params">Type type</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// é€šè¿‡Typeè·å–Dataç±»ä¸­æ‰€æœ‰æ„é€ å‡½æ•°çš„ä¿¡æ¯</span></span><br><span class="line">        ConstructorInfo[] constructorInfos = type.GetConstructors();</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> constructorInfo <span class="keyword">in</span> constructorInfos)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// è·å–æ¯ä¸ªæ„é€ å‡½æ•°çš„æ‰€æœ‰å‚æ•°</span></span><br><span class="line">            ParameterInfo[] parameterInfos = constructorInfo.GetParameters();</span><br><span class="line">            <span class="keyword">foreach</span> (<span class="keyword">var</span> parameterInfo <span class="keyword">in</span> parameterInfos)</span><br><span class="line">            &#123;</span><br><span class="line">                Debug.Log(<span class="string">$&quot;ç±»å‹:<span class="subst">&#123;parameterInfo.ParameterType&#125;</span>, å˜é‡å:<span class="subst">&#123;parameterInfo.Name&#125;</span>;&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è·å–ç±»ä¸­çš„å…¬å¼€æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ShowPublicMethod</span>(<span class="params">Type type</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        MethodInfo[] methodInfos = type.GetMethods();</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> methodInfo <span class="keyword">in</span> methodInfos)</span><br><span class="line">        &#123;</span><br><span class="line">            Debug.Log(<span class="string">$&quot;æ–¹æ³•:<span class="subst">&#123;methodInfo&#125;</span>&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// é€šè¿‡åå°„ç”¨æ„é€ å‡½æ•°åŠ¨æ€ç”Ÿæˆå¯¹è±¡</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">CreateObjectByConstructor</span>(<span class="params">Type type</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        ConstructorInfo constructorInfo = type.GetConstructor(<span class="keyword">new</span> []&#123;<span class="keyword">typeof</span>(<span class="built_in">string</span>),<span class="keyword">typeof</span>(<span class="built_in">int</span>)&#125;);</span><br><span class="line">        <span class="built_in">object</span>[] parameters = &#123; <span class="string">&quot;Hmxs&quot;</span>, <span class="number">100</span> &#125;;</span><br><span class="line">        <span class="built_in">object</span> obj = constructorInfo!.Invoke(parameters);</span><br><span class="line">        ((Data)obj).Show();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// é€šè¿‡åå°„ç”¨Activatoré™æ€ç”Ÿæˆå¯¹è±¡</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">CreateObjectByActivator</span>(<span class="params">Type type</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">object</span>[] parameters = &#123; <span class="string">&quot;Hmxs2&quot;</span>, <span class="number">200</span> &#125;;</span><br><span class="line">        <span class="built_in">object</span> obj = Activator.CreateInstance(type, parameters);</span><br><span class="line">        ((Data)obj).Show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œé€šè¿‡C#æä¾›çš„åå°„APIå¯¹Dataç±»è¿›è¡Œäº†è¯»å–ã€æ„å»º</p>
<blockquote>
<p>æ€»çš„æ¥è¯´ï¼Œåå°„ç”±äºAPIè´¼é•¿ï¼Œä¸”è¾ƒä¸ºç¹æ‚ï¼Œç»™äººä»¥éå¸¸å¤æ‚çš„ç¬¬ä¸€å°è±¡ï¼Œä½†å®é™…ä¸Šï¼Œåå°„å¹¶ä¸éš¾ä»¥ç†è§£</p>
</blockquote>
]]></content>
      <categories>
        <category>Notes</category>
        <category>C#</category>
      </categories>
      <tags>
        <tag>Note</tag>
        <tag>C#</tag>
        <tag>Reflection</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŒUnityã€åŸºäºæŸæ—å™ªå£°çš„ç¨‹åºåŒ–åœ°å½¢ç”Ÿæˆ</title>
    <url>/posts/107/</url>
    <content><![CDATA[<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281303069.jpg" alt=""></p>
<h1>åŸºäºæŸæ—å™ªå£°çš„ç¨‹åºåŒ–åœ°å½¢ç”Ÿæˆ</h1>
<h2 id="å‰è¨€">å‰è¨€</h2>
<p>éšç€å›¾å½¢å­¦æŠ€æœ¯çš„é«˜é€Ÿå‘å±•ï¼Œç¨‹åºåŒ–ç”ŸæˆæŠ€æœ¯ï¼ˆProcedural Generationï¼‰åœ¨æ¸¸æˆå¼€å‘ä¸­çš„åº”ç”¨æ­£åœ¨å˜å¾—è¶Šæ¥è¶Šå¹¿æ³›ï¼Œä»ã€Šæˆ‘çš„ä¸–ç•Œã€‹ï¼ˆMinecraftï¼‰ã€ã€Šæ–‡æ˜ã€‹ç³»åˆ—ï¼ˆCivilizationï¼‰åˆ°å„ç±»ç±» Rogue æ¸¸æˆï¼Œç¨‹åºåŒ–ç”ŸæˆæŠ€æœ¯å±•ç¤ºäº†å…¶å·¨å¤§çš„æ½œåŠ›ä¸æ— é™çš„å¯èƒ½æ€§ï¼Œå…¶å¾ˆå¤§ç¨‹åº¦ä¸Šè§£æ”¾äº†ç”Ÿäº§åŠ›ï¼Œè®©è‰ºæœ¯å®¶æ— éœ€ä¸ºåºæ‚ç¹ççš„åœºæ™¯ç¼–è¾‘è€Œçƒ¦æ¼ï¼Œä¹Ÿä¸ºæ¸¸æˆæä¾›äº†æ— ä¸ä¼¦æ¯”çš„é‡ç©ä»·å€¼ï¼Œè®©æ¯ä¸€æ¬¡â€œæ–°æ¸¸æˆâ€éƒ½å……æ»¡äº†æƒŠå–œã€‚</p>
<p>åœ¨ä¼—å¤šçš„ç¨‹åºåŒ–ç”ŸæˆæŠ€æœ¯ä¸­ï¼Œç”± Ken Perlin äº 1983 å¹´æå‡ºçš„æŸæ—å™ªå£°ç®—æ³•ï¼ˆPerlin Noiseï¼‰å› å…¶å¯ä»¥ç”Ÿæˆå¹³æ»‘ã€è‡ªç„¶çš„å™ªå£°å›¾åƒè€Œå¤‡å—é’çï¼›å…¶ç‹¬ç‰¹çš„å¹³æ»‘è¿‡æ¸¡çš„ç‰¹æ€§ï¼Œä½¿å…¶åœ¨æ¨¡æ‹Ÿè‡ªç„¶ç°è±¡ã€ç”Ÿæˆåœ°å½¢å’Œçº¹ç†æ–¹é¢è¡¨ç°åœ°å°¤ä¸ºå‡ºè‰²ï¼›åœ¨ç»ä¹…ä¸è¡°çš„æ²™ç›’æ¸¸æˆã€Šæˆ‘çš„ä¸–ç•Œã€‹çš„åœ°å›¾ç”Ÿæˆç®—æ³•ä¸­å°±å¤§é‡è¿ç”¨åˆ°äº†æŸæ—å™ªå£°ã€‚</p>
<p>æœ¬æ–‡æ—¨åœ¨ä»¥ä¸€ä¸ªåˆå­¦è€…çš„è§†è§’æ¢ç´¢æŸæ—å™ªå£°ç®—æ³•çš„åŸç†ã€å®ç°ä¸å…¶åœ¨ç¨‹åºåŒ–ç”Ÿæˆä¸­çš„å®é™…åº”ç”¨ï¼›ç¬”è€…å°†ä½¿ç”¨ Unity æ¸¸æˆå¼•æ“ä¸ C# è¯­è¨€å®é™…å®ç°å…·ä½“çš„ç®—æ³•å¹¶å°†ç®—æ³•åº”ç”¨åœ¨å®é™…çš„ç¨‹åºåŒ–ç”Ÿæˆä¸­ï¼Œå¦‚ 2D Tilemap çš„åœ°å›¾ç”Ÿæˆã€ 3D ç±»å±±åœ°åœ°å½¢ç”Ÿæˆç­‰ï¼›æ­¤å¤–ï¼Œä¸ºè¿›ä¸€æ­¥æå‡ç¨‹åºåŒ–ç”Ÿæˆçš„æ•ˆæœï¼Œæœ¬æ–‡è¿˜å°†ç»§ç»­æ¢è®¨ä¸€äº›æŸæ—å™ªå£°çš„è¿›é˜¶åº”ç”¨ä¸æ•ˆæœä¼˜åŒ–ï¼Œå¦‚åˆ†å½¢æŸæ—å™ªå£°ã€æ¸è¿›æ¢¯åº¦ç®—æ³•ã€ä¾µèš€ç®—æ³•ç­‰ã€‚åŒæ—¶ï¼Œä¸ºäº†æ›´åŠ å…¨é¢åœ°äº†è§£ç¨‹åºåŒ–ç”ŸæˆæŠ€æœ¯ï¼Œæœ¬æ–‡è¿˜å°†ç®€è¦ä»‹ç»å…¶å®ƒå‡ ç§å¸¸è§çš„ç®—æ³•ï¼Œå¦‚ Simplex å™ªå£°ç®—æ³•ä¸ DLA ç®—æ³•ã€‚</p>
<p>é€šè¿‡æœ¬æ–‡çš„æ¢ç´¢ï¼Œç¬”è€…æ—¨åœ¨å¯¹ç¨‹åºåŒ–ç”ŸæˆæŠ€æœ¯å½¢æˆä¸€ä¸ªæ•´ä½“çš„è®¤è¯†ï¼Œå¹¶äº†è§£å…¶ä¸­çš„ä¸€äº›æŠ€æœ¯ä¸ç®—æ³•çš„å®ç°ã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯æŸæ—å™ªå£°">ä»€ä¹ˆæ˜¯æŸæ—å™ªå£°</h2>
<h3 id="æ¦‚è¿°">æ¦‚è¿°</h3>
<p>åœ¨ç¨‹åºåŠŸèƒ½çš„å®ç°ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šä½¿ç”¨ rand() å‡½æ•°æ¥ç”Ÿæˆéšæœºå€¼æ¥å®ç°ä¸€äº›åŠŸèƒ½ï¼Œä½†åœ¨è¿™ç§ç®€å•çš„éšæœºä¸‹ï¼Œæ¯æ¬¡ç”Ÿæˆçš„å€¼éƒ½æœ‰äº›å¤ªè¿‡â€œéšæœºâ€äº†ï¼Œå…¶å¾—åˆ°çš„ç»“æœå¾€å¾€å‚å·®ä¸é½ï¼Œè€Œæˆ‘ä»¬çš„ä¸–ç•Œå¹¶ä¸æ˜¯è¿™æ ·ï¼Œå±±å·æ²³æµéƒ½æœ‰å…¶èµ°åŠ¿æµå‘ï¼Œå½“æˆ‘ä»¬éœ€è¦ç”Ÿæˆéšæœºçš„åœ°å½¢æˆ–å®ç°å…¶ä»–ç±»ä¼¼åŠŸèƒ½æ—¶ï¼Œç®€å•çš„éšæœºå¾€å¾€ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚ã€‚è€Œåœ¨è®¡ç®—æœºå›¾å½¢å­¦ä¸­ï¼Œå™ªå£°å¯ä»¥è¢«æè¿°ä¸ºä¸€ç§éšæœºçš„ä¿¡å·ï¼›ä½¿ç”¨ä¸€äº›ç‰¹å®šçš„å™ªå£°ç®—æ³•ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥å¾—åˆ°éšæœºä½†è¿‡æ¸¡å¹³ç¼“çš„ä¿¡å·ã€‚</p>
<p>è€ŒæŸæ—å™ªå£°ï¼ˆPerlin Noiseï¼‰é¡¾åæ€ä¹‰ä¹Ÿæ˜¯å™ªå£°çš„ä¸€ç§ï¼Œå…¶ç‰¹ç‚¹åœ¨äºå…¶æ˜¯ä¸€ç§å¯ä»¥äº§ç”Ÿè¿ç»­å¹³æ»‘çš„å¯å“ˆå¸Œçš„éšæœºå€¼çš„å™ªå£°ç”Ÿæˆç®—æ³•ï¼Œé¿å…äº†ä¼ ç»Ÿå™ªå£°å‡½æ•°ä¸­å¸¸è§çš„å°–é”è¾¹ç•Œå’Œä¸è‡ªç„¶çš„è¿‡æ¸¡ã€‚å…¶æœ€æ—©ç”± Ken Perlin äº 1983 å¹´å‘æ˜ï¼Œæœ€åˆè¢«ç”¨äºç”µå½±ã€Šç”µå­ä¸–ç•Œäº‰éœ¸æˆ˜ã€‹ä¸­çš„ç‰¹æ•ˆåˆ¶ä½œï¼Œå¹¶åœ¨ 1985 å¹´è·å¾—äº†å¥¥æ–¯å¡ç§‘å­¦æŠ€æœ¯å¥–ã€‚</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281315736.png" alt="image3" style="zoom:25%;" />
<p>æŸæ—å™ªå£°çš„æœ‰ç€ä¸¤ç‚¹æå…¶é‡è¦çš„ç‰¹æ€§ï¼š</p>
<ul>
<li>æ¢¯åº¦æ€§ï¼šå½“å…¶å…¥å‚è¿ç»­æ—¶ï¼Œå…¶è¿”å›çš„éšæœºå™ªå£°å€¼ä¹Ÿè¿ç»­</li>
<li>å¯å“ˆå¸Œæ€§ï¼šå½“å…¥å‚ç›¸åŒæ—¶ï¼Œè¿”å›å€¼ä¹Ÿç›¸åŒ</li>
</ul>
<p>è¿™ä¸¤ç‚¹ç»™äºˆäº†æŸæ—å™ªå£°æ— ä¸ä¼¦æ¯”çš„çµæ´»æ€§ä¸æ³›ç”¨æ€§ã€‚</p>
<h3 id="åŸç†">åŸç†</h3>
<p>å®ç°æŸæ—å™ªå£°çš„æ ¸å¿ƒæ€æƒ³å®é™…å¹¶ä¸å¤æ‚ï¼šé€šè¿‡æ’å€¼å®ç°å¹³æ»‘è¿‡æ¸¡çš„æ¢¯åº¦ï¼›ä»¥ä¸‹æ˜¯å…·ä½“çš„å®ç°åŸç†ï¼š</p>
<ol>
<li>å®šä¹‰æ™¶æ ¼å¹¶åˆ†é…æ¢¯åº¦</li>
</ol>
<p>åœ¨æŸä¸€ç»´åº¦çš„ç©ºé—´ä¸­ï¼Œä»¥ä¸€å®šå›ºå®šé—´éš”å®šä¹‰ä¸€ä¸ªæ™¶æ ¼ï¼Œé€šè¿‡ä¸€å®šè§„åˆ™ä¸ºæ¯ä¸ªæ™¶æ ¼ç‚¹åˆ†é…ä¸€ä¸ªéšæœºæ¢¯åº¦å‘é‡</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281319049.png" alt="image4" style="zoom:33%;" />
<ol start="2">
<li>è®¡ç®—ç»™å®šåæ ‡ç‚¹æ‰€å¤„æ™¶æ ¼</li>
</ol>
<p>æ ¹æ®ç»™å®šç‚¹å¯ä»¥å¾—åˆ°å…¶æ‰€å¤„çš„æ™¶æ ¼ï¼Œåœ¨äºŒç»´ç©ºé—´ä¸­å³ä¸º4ä¸ªç›¸é‚»æ™¶æ ¼ç‚¹ï¼Œå¯ä»¥å¾—åˆ°æ™¶æ ¼ç‚¹åˆ°ç»™å®šåæ ‡ç‚¹çš„å‘é‡</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281320386.png" alt="image5" style="zoom:33%;" />
<ol start="3">
<li>è®¡ç®—æ¢¯åº¦å€¼</li>
</ol>
<p>å¯¹äºæ¯ä¸ªæ™¶æ ¼ç‚¹ï¼Œè®¡ç®—å…¶æ¢¯åº¦å‘é‡ä¸æ­¥éª¤2å¾—åˆ°å‘é‡çš„ç‚¹ç§¯ï¼Œè¿™äº›ç‚¹ç§¯å€¼è¡¨ç¤ºè¯¥ç‚¹åœ¨æ¯ä¸ªæ™¶æ ¼ç‚¹æ–¹ä¸Šçš„â€œå½±å“â€ï¼Œæ­¤å¤„ç§°ä¸ºâ€œæ¢¯åº¦å€¼â€</p>
<ol start="4">
<li>æ’å€¼å¾—åˆ°å™ªå£°å€¼</li>
</ol>
<p>ä½¿ç”¨æ’å€¼å‡½æ•°ï¼Œå¦‚äºŒç»´å¹³é¢ä¸­çš„åŒçº¿æ€§æ’å€¼ï¼Œå¯¹å¾—åˆ°çš„æ¢¯åº¦å€¼è¿›è¡Œæ’å€¼ï¼Œä¾¿å¯å¾—åˆ°æœ€ç»ˆçš„å™ªå£°å€¼</p>
<h3 id="æŸæ—å™ªå£°çš„ç®—æ³•å®ç°">æŸæ—å™ªå£°çš„ç®—æ³•å®ç°</h3>
<p>åœ¨ä¸Šä¸€ç« ä¸­ï¼Œç¬”è€…ç®€å•ä»‹ç»äº†æŸæ—å™ªå£°çš„åŸç†ï¼Œè¿™çœ‹ä¸Šå»å¹¶ä¸éš¾ï¼Œä½†æ˜¯åœ¨å…¶å®ç°ä¸Šä»ç„¶æœ‰è®¸å¤šå€¼å¾—æ³¨æ„çš„ç‚¹ï¼Œç¬”è€…ä¾æ® Ken Perlin åœ¨ SIGGRAPH 2002 ä¸Šå‘è¡¨çš„è®ºæ–‡ã€ŠImproving Noiseã€‹åœ¨ Unity ä¸­å®ç°äº†æŸæ—å™ªå£°ç®—æ³•çš„ C# ç‰ˆæœ¬ï¼š</p>
<p><a href="https://github.com/hmxsqaq/Unity-ProceduralMapGenerationPerlinNoise/blob/master/Assets/Scripts/PerlinNoise.cs">https://github.com/hmxsqaq/Unity-ProceduralMapGenerationPerlinNoise/blob/master/Assets/Scripts/PerlinNoise.cs</a></p>
<p><em>å®é™…ä¸Š Unity çš„ Mathf åº“ä¸­æä¾›äº†ç›´æ¥è·å–æŸæ—å™ªå£°çš„æ–¹æ³•ï¼Œè¿™é‡Œçš„å®ç°æ˜¯ä¸ºäº†æ›´å¥½åœ°ç†è§£ç®—æ³•ï¼Œå¦‚æœåªæ˜¯å‡ºäºåº”ç”¨ç›®çš„ï¼Œç›´æ¥ä½¿ç”¨åº“å‡½æ•°å³å¯ã€‚</em></p>
<p>åœ¨ç¬”è€…çš„ç‰ˆæœ¬ä¸­ï¼Œç¬”è€…åˆ†åˆ«å®ç°äº†äºŒç»´ç©ºé—´ä¸ä¸‰ç»´ç©ºé—´ä¸­çš„æŸæ—å™ªå£°ï¼ŒäºŒè€…çš„åŸºæœ¬æ€è·¯ç›¸ä¼¼ï¼Œä»¥ä¸‹å°†ä»‹ç» 2D æŸæ—å™ªå£°ç®—æ³•çš„å…·ä½“å®ç°æ–¹å¼ï¼š</p>
<ul>
<li>å“ˆå¸Œåºåˆ—</li>
</ul>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> List&lt;<span class="built_in">int</span>&gt; Permutation256 = <span class="keyword">new</span>(<span class="number">256</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="number">151</span>, <span class="number">160</span>, <span class="number">137</span>, <span class="number">91</span>, <span class="number">90</span>, <span class="number">15</span>, <span class="number">131</span>, <span class="number">13</span>, <span class="number">201</span>, <span class="number">95</span>, <span class="number">96</span>, <span class="number">53</span>, <span class="number">194</span>, <span class="number">233</span>, <span class="number">7</span>, <span class="number">225</span>, <span class="number">140</span>, <span class="number">36</span>, <span class="number">103</span>, <span class="number">30</span>, <span class="number">69</span>, <span class="number">142</span>, <span class="number">8</span>, <span class="number">99</span>, <span class="number">37</span>,</span><br><span class="line">    <span class="number">240</span>, <span class="number">21</span>, <span class="number">10</span>, <span class="number">23</span>, <span class="number">190</span>, <span class="number">6</span>, <span class="number">148</span>, <span class="number">247</span>, <span class="number">120</span>, <span class="number">234</span>, <span class="number">75</span>, <span class="number">0</span>, <span class="number">26</span>, <span class="number">197</span>, <span class="number">62</span>, <span class="number">94</span>, <span class="number">252</span>, <span class="number">219</span>, <span class="number">203</span>, <span class="number">117</span>, <span class="number">35</span>, <span class="number">11</span>, <span class="number">32</span>, <span class="number">57</span>, <span class="number">177</span>,</span><br><span class="line">    <span class="number">33</span>, <span class="number">88</span>, <span class="number">237</span>, <span class="number">149</span>, <span class="number">56</span>, <span class="number">87</span>, <span class="number">174</span>, <span class="number">20</span>, <span class="number">125</span>, <span class="number">136</span>, <span class="number">171</span>, <span class="number">168</span>, <span class="number">68</span>, <span class="number">175</span>, <span class="number">74</span>, <span class="number">165</span>, <span class="number">71</span>, <span class="number">134</span>, <span class="number">139</span>, <span class="number">48</span>, <span class="number">27</span>, <span class="number">166</span>, <span class="number">77</span>, <span class="number">146</span>,</span><br><span class="line">    <span class="number">158</span>, <span class="number">231</span>, <span class="number">83</span>, <span class="number">111</span>, <span class="number">229</span>, <span class="number">122</span>, <span class="number">60</span>, <span class="number">211</span>, <span class="number">133</span>, <span class="number">230</span>, <span class="number">220</span>, <span class="number">105</span>, <span class="number">92</span>, <span class="number">41</span>, <span class="number">55</span>, <span class="number">46</span>, <span class="number">245</span>, <span class="number">40</span>, <span class="number">244</span>, <span class="number">102</span>, <span class="number">143</span>, <span class="number">54</span>, <span class="number">65</span>, <span class="number">25</span>,</span><br><span class="line">    <span class="number">63</span>, <span class="number">161</span>, <span class="number">1</span>, <span class="number">216</span>, <span class="number">80</span>, <span class="number">73</span>, <span class="number">209</span>, <span class="number">76</span>, <span class="number">132</span>, <span class="number">187</span>, <span class="number">208</span>, <span class="number">89</span>, <span class="number">18</span>, <span class="number">169</span>, <span class="number">200</span>, <span class="number">196</span>, <span class="number">135</span>, <span class="number">130</span>, <span class="number">116</span>, <span class="number">188</span>, <span class="number">159</span>, <span class="number">86</span>, <span class="number">164</span>, <span class="number">100</span>,</span><br><span class="line">    <span class="number">109</span>, <span class="number">198</span>, <span class="number">173</span>, <span class="number">186</span>, <span class="number">3</span>, <span class="number">64</span>, <span class="number">52</span>, <span class="number">217</span>, <span class="number">226</span>, <span class="number">250</span>, <span class="number">124</span>, <span class="number">123</span>, <span class="number">5</span>, <span class="number">202</span>, <span class="number">38</span>, <span class="number">147</span>, <span class="number">118</span>, <span class="number">126</span>, <span class="number">255</span>, <span class="number">82</span>, <span class="number">85</span>, <span class="number">212</span>, <span class="number">207</span>, <span class="number">206</span>,</span><br><span class="line">    <span class="number">59</span>, <span class="number">227</span>, <span class="number">47</span>, <span class="number">16</span>, <span class="number">58</span>, <span class="number">17</span>, <span class="number">182</span>, <span class="number">189</span>, <span class="number">28</span>, <span class="number">42</span>, <span class="number">223</span>, <span class="number">183</span>, <span class="number">170</span>, <span class="number">213</span>, <span class="number">119</span>, <span class="number">248</span>, <span class="number">152</span>, <span class="number">2</span>, <span class="number">44</span>, <span class="number">154</span>, <span class="number">163</span>, <span class="number">70</span>, <span class="number">221</span>, <span class="number">153</span>,</span><br><span class="line">    <span class="number">101</span>, <span class="number">155</span>, <span class="number">167</span>, <span class="number">43</span>, <span class="number">172</span>, <span class="number">9</span>, <span class="number">129</span>, <span class="number">22</span>, <span class="number">39</span>, <span class="number">253</span>, <span class="number">19</span>, <span class="number">98</span>, <span class="number">108</span>, <span class="number">110</span>, <span class="number">79</span>, <span class="number">113</span>, <span class="number">224</span>, <span class="number">232</span>, <span class="number">178</span>, <span class="number">185</span>, <span class="number">112</span>, <span class="number">104</span>, <span class="number">218</span>,</span><br><span class="line">    <span class="number">246</span>, <span class="number">97</span>, <span class="number">228</span>, <span class="number">251</span>, <span class="number">34</span>, <span class="number">242</span>, <span class="number">193</span>, <span class="number">238</span>, <span class="number">210</span>, <span class="number">144</span>, <span class="number">12</span>, <span class="number">191</span>, <span class="number">179</span>, <span class="number">162</span>, <span class="number">241</span>, <span class="number">81</span>, <span class="number">51</span>, <span class="number">145</span>, <span class="number">235</span>, <span class="number">249</span>, <span class="number">14</span>, <span class="number">239</span>, <span class="number">107</span>,</span><br><span class="line">    <span class="number">49</span>, <span class="number">192</span>, <span class="number">214</span>, <span class="number">31</span>, <span class="number">181</span>, <span class="number">199</span>, <span class="number">106</span>, <span class="number">157</span>, <span class="number">184</span>, <span class="number">84</span>, <span class="number">204</span>, <span class="number">176</span>, <span class="number">115</span>, <span class="number">121</span>, <span class="number">50</span>, <span class="number">45</span>, <span class="number">127</span>, <span class="number">4</span>, <span class="number">150</span>, <span class="number">254</span>, <span class="number">138</span>, <span class="number">236</span>, <span class="number">205</span>,</span><br><span class="line">    <span class="number">93</span>, <span class="number">222</span>, <span class="number">114</span>, <span class="number">67</span>, <span class="number">29</span>, <span class="number">24</span>, <span class="number">72</span>, <span class="number">243</span>, <span class="number">141</span>, <span class="number">128</span>, <span class="number">195</span>, <span class="number">78</span>, <span class="number">66</span>, <span class="number">215</span>, <span class="number">61</span>, <span class="number">156</span>, <span class="number">180</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> List&lt;<span class="built_in">int</span>&gt; Permutation512 = <span class="keyword">new</span>(<span class="number">512</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="title">PerlinNoise</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    Permutation512.AddRange(Permutation256);</span><br><span class="line">    Permutation512.AddRange(Permutation256);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°æ‰€ç¤ºæ•°ç»„ <code>Permutation256</code> ä¸ <code>Permutation512</code> ä¸ºéšæœºå“ˆå¸Œåºåˆ—ï¼Œå…¶ä¸­ <code>Permutation256</code> ä¸­å­˜å‚¨äº†éšæœºé¡ºåºçš„ 0 ~ 255ï¼Œè€Œ <code>Permutation512</code> åˆ™ä¸º 256 æ•°ç»„çš„å¤åˆ¶å¡«å……ï¼Œç›®çš„æ˜¯ä¸ºäº†æ–¹ä¾¿åç»­è®¿é—®ã€‚</p>
<p>éšæœºå“ˆå¸Œæ•°åˆ—æä¾›äº†èµ‹äºˆæ™¶æ ¼ç‚¹éšæœºæ¢¯åº¦å‘é‡çš„èƒ½åŠ›ï¼Œå…¶å†³å®šäº†æ¢¯åº¦å‘é‡çš„åˆ†é…æƒ…å†µï¼Œç†è®ºä¸Šè¯´è¿™ä¸€å“ˆå¸Œæ•°åˆ—çš„å…ƒç´ é¡ºåºæ˜¯å¯ä»¥éšæœºåˆ†é…çš„ï¼Œè€Œä¸Šè¿°ä»£ç ä¸­æ‰‹åŠ¨å®šä¹‰çš„æ˜¯ Ken Perlin æ•™æˆè®ºæ–‡ä¸­å®šä¹‰çš„ç»å…¸åˆå§‹å€¼ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ä¸Šé¢è¯´çš„â€œå¯ä»¥éšæœºåˆ†é…â€æ˜¯æŒ‡å¯ä»¥æ¯æ¬¡åˆå§‹åŒ–æ—¶é‡æ–°éšæœºï¼Œä½†æ˜¯åœ¨åŒä¸€è½®æŸæ—å™ªå£°çš„è®¡ç®—ä¸­ï¼Œå…¶ä¸åº”è¯¥è¢«æ”¹å˜ï¼Œæ”¹å˜æ”¹æ•°ç»„ä¼šå¼•èµ·æ¢¯åº¦å‘é‡çš„å˜åŒ–ï¼Œè¿™å’ŒæŸæ—å™ªå£°å¸Œæœ›çš„â€œä¼ªéšæœºâ€ï¼Œå³è¾“å…¥å€¼ç›¸åŒã€è¿”å›çš„éšæœºå€¼ä¹Ÿåº”ç›¸åŒçš„ç†å¿µèƒŒé“è€Œé©°ã€‚</p>
<ul>
<li><code>Lerp</code> ä¸ <code>Floor</code> å‡½æ•°</li>
</ul>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">Floor</span>(<span class="params"><span class="built_in">float</span> x</span>)</span> =&gt; x &gt; <span class="number">0</span> ? (<span class="built_in">int</span>)x : (<span class="built_in">int</span>)x - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">float</span> <span class="title">Lerp</span>(<span class="params"><span class="built_in">float</span> a, <span class="built_in">float</span> b, <span class="built_in">float</span> t</span>)</span> =&gt; a + (b - a) * t;</span><br></pre></td></tr></table></figure>
<p><code>Lerp</code> å‡½æ•°å®ç°äº†çº¿æ€§æ’å€¼ï¼Œè€Œ <code>Floor</code> å‡½æ•°å®ç°äº†å‘ä¸‹å–æ•´ï¼Œä¸¤ä¸ªå‡½æ•°éƒ½ä¸ºç®€å•åŠŸèƒ½å‡½æ•°ï¼Œå®ƒä»¬ä¹Ÿéƒ½åœ¨ Mathf åº“ä¸­æœ‰å¯¹åº”å®ç°ï¼Œè¿™é‡Œä¸ºäº†å‡å°‘åº“ä¾èµ–ä½¿ç”¨äº†è‡ªå·±å®ç°çš„ç‰ˆæœ¬ã€‚</p>
<ul>
<li><code>Fade</code> å‡½æ•°</li>
</ul>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">float</span> <span class="title">Fade</span>(<span class="params"><span class="built_in">float</span> x</span>)</span> =&gt; x * x * x * (x * (x * <span class="number">6</span> - <span class="number">15</span>) + <span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<p><code>Fade</code> å‡½æ•°çš„å®ç°ä¹Ÿååˆ†ç®€å•ï¼Œä½†å…¶èµ·åˆ°çš„ä½œç”¨å´éå¸¸é‡è¦ã€‚</p>
<p>åœ¨æˆ‘ä»¬è®¡ç®—å¾—åˆ°å„ä¸ªæ™¶æ ¼ç‚¹ä¸ç»™å®šç‚¹çš„æ¢¯åº¦å€¼åï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®ç»™å®šç‚¹çš„ç›¸å¯¹ä½ç½®å°†æ¢¯åº¦å€¼è¿›è¡Œæ’å€¼å¾—åˆ°æœ€åçš„å™ªå£°å€¼ï¼Œè€Œå¦‚æœæˆ‘ä»¬ä»…ä»…ä½¿ç”¨æœ€ç®€å•çš„çº¿æ€§æ’å€¼ï¼Œå¾—åˆ°çš„ç»“æœå¹¶ä¸ä¼šå¾ˆå¹³æ»‘ï¼Œç‰¹åˆ«æ˜¯åœ¨æ™¶æ ¼çš„äº¤ç•Œå¤„ï¼›è€Œ <code>Fade</code> å‡½æ•°å®é™…èµ·åˆ°äº†å‡½æ•°æ˜ å°„çš„åŠŸèƒ½ï¼Œå…¶è¡¨ç¤ºçš„å‡½æ•°ä¸ºï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mn>6</mn><msup><mi>x</mi><mn>5</mn></msup><mo>âˆ’</mo><mn>15</mn><msup><mi>x</mi><mn>4</mn></msup><mo>+</mo><mn>10</mn><msup><mi>x</mi><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">f(x)=6x^5-15x^4+10x^3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">6</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">15</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">10</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span>ï¼Œå…¶å›¾åƒå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281326466.png" alt="image9" style="zoom: 33%;" />
<p>è¿™ä¸€å‡½æ•°çš„æœ€å¤§ç‰¹ç‚¹åœ¨äºå…¶åœ¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>ä¸<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">x=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>å¤„äºŒé˜¶å¯¼éƒ½ä¸º0ï¼Œè¿™ç»™äºˆäº†å…¶å¹³æ»‘è¾¹ç•Œè¿‡æ¸¡çš„åŠŸèƒ½ã€‚</p>
<p>è¿™ä¸€ <code>Fade</code> å‡½æ•°ä¸ä»…ä»…å¯ä»¥è¢«ç”¨äºæŸæ—å™ªå£°çš„å®ç°ï¼Œåœ¨å…¶ä»–ä¾‹å¦‚å€¼å™ªå£°ã€å•å½¢å™ªå£°çš„å®ç°ä¸­ï¼Œå…¶ä¹Ÿå‘æŒ¥ç€é‡è¦çš„ä½œç”¨ã€‚</p>
<ul>
<li><code>Grad</code>å‡½æ•°</li>
</ul>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">float</span> <span class="title">Grad</span>(<span class="params"><span class="built_in">int</span> hash, <span class="built_in">float</span> x, <span class="built_in">float</span> y</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">int</span> h = hash &amp; <span class="number">7</span>; <span class="comment">// convert the hash to 0-7</span></span><br><span class="line">    <span class="built_in">float</span> u = h &lt; <span class="number">4</span> ? x : y;</span><br><span class="line">    <span class="built_in">float</span> v = h &lt; <span class="number">4</span> ? y : x;</span><br><span class="line">    <span class="keyword">return</span> (h &amp; <span class="number">1</span>) == <span class="number">0</span> ? u : -u + (h &amp; <span class="number">2</span>) == <span class="number">0</span> ? v : -v;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Grad</code>å‡½æ•°å®ç°äº†è®¡ç®—ç»™å®šç‚¹çš„æ¢¯åº¦å€¼çš„åŠŸèƒ½ï¼›å…¶ç¬¬ä¸€çœ¼çœ‹ä¸Šå»å¯èƒ½ä¼šä»¤äººæœ‰äº›å›°æƒ‘ï¼Œåœ¨å‰é¢çš„åŸç†å™è¿°ä¸­ï¼Œç¬”è€…æè¿°çš„è®¡ç®—æ¢¯åº¦å€¼çš„æ–¹å¼æ˜¯å…ˆç»™æ™¶æ ¼ç‚¹æŒ‡å®šéšæœºæ¢¯åº¦å‘é‡ï¼Œå†ä½¿ç”¨ç‚¹ä¹˜è®¡ç®—å¯¹åº”æ¢¯åº¦å€¼ï¼Œä½†åœ¨è¿™ä¸ªå‡½æ•°ä¸­ä¼¼ä¹æ—¢æ²¡æœ‰å‘é‡ä¹Ÿæ²¡æœ‰ç‚¹ä¹˜ï¼›å®é™…ä¸Šï¼Œè¿™ä¸ªå‡½æ•°ç¡®å®å®ç°äº†è®¡ç®—æ¢¯åº¦å€¼çš„åŠŸèƒ½ï¼Œä½†åœ¨å…·ä½“è·¯å¾„ä¸Šè¿›è¡Œäº†ä¸€äº›ç®€åŒ–ä¸ä¼˜åŒ–ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬å¯¹è¿”å›å€¼æƒ…å†µè¿›è¡Œæšä¸¾ï¼Œè¿™ä¸ªå‡½æ•°çš„è¯å…¶å®å¯ä»¥å°†å…¶è½¬åŒ–ä¸ºä¸‹é¢çš„è¿™æ ·ï¼š</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">float</span> <span class="title">Grad</span>(<span class="params"><span class="built_in">int</span> hash, <span class="built_in">float</span> x, <span class="built_in">float</span> y</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">int</span> h = hash &amp; <span class="number">7</span>; <span class="comment">// convert the hash to 0-7</span></span><br><span class="line">    <span class="keyword">switch</span> (h)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>: <span class="keyword">return</span> x + y;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>: <span class="keyword">return</span> y - x;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>: <span class="keyword">return</span> x - y;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>: <span class="keyword">return</span> - x - y;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>: <span class="keyword">return</span> x + y;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>: <span class="keyword">return</span> y - x;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>: <span class="keyword">return</span> x - y;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">7</span>: <span class="keyword">return</span> - x - y;</span><br><span class="line">        <span class="literal">default</span>: <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨<code>Grad</code>å‡½æ•°ä¸­ï¼Œ<code>hash</code>å³ä¸ºç»™å®šçš„æ™¶æ ¼ç‚¹ï¼Œè€Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œé¢„è®¾ï¼Œä½¿å¾—æ¢¯åº¦å‘é‡çš„ä¸¤ä¸ªåˆ†é‡çš„ç»å¯¹å€¼éƒ½ä¸º1ï¼Œå³æ¢¯åº¦å‘é‡åªèƒ½ä¸º<code>(1, 1)</code>ã€<code>(1, -1)</code>ã€<code>(-1, 1)</code>ã€<code>(-1, -1)</code>ä¹‹ä¸€ï¼Œè¿™æ ·ä¾¿å¯ä»¥å°†å‘é‡ä¹‹é—´çš„ç‚¹ä¹˜è½¬åŒ–ä¸ºåŠ å‡æ³•è¿ç®—ï¼Œå¯ä»¥æ˜¾è‘—æå‡æ€§èƒ½è¡¨ç°å¹¶ç®€åŒ–ä»£ç ã€‚è€Œè¾“å…¥çš„<code>x</code>ã€<code>y</code>åˆ™ä¸ºç»™å®šç‚¹åˆ°æ™¶æ ¼ç‚¹çš„è·ç¦»å‘é‡ï¼Œå¦‚æ­¤ä¸€æ¥ï¼Œæœ€åçš„æ¢¯åº¦å€¼ä¾¿å¯ä»¥ç®€åŒ–ä¸º<code>x + y</code>ã€<code>x - y</code>ã€<code>y - x</code>ã€<code>- x - y</code></p>
<ul>
<li><code>Noise</code>å‡½æ•°</li>
</ul>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">float</span> <span class="title">GetNoise</span>(<span class="params"><span class="built_in">float</span> x, <span class="built_in">float</span> y</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// the grid cell coordinates</span></span><br><span class="line">    <span class="built_in">int</span> gridX = Floor(x) &amp; <span class="number">255</span>;</span><br><span class="line">    <span class="built_in">int</span> gridY = Floor(y) &amp; <span class="number">255</span>;</span><br><span class="line">    <span class="comment">// the relative coordinates of the point in the cell</span></span><br><span class="line">    <span class="built_in">float</span> dx = x - Floor(x);</span><br><span class="line">    <span class="built_in">float</span> dy = y - Floor(y);</span><br><span class="line">    <span class="comment">// fade the relative coordinates</span></span><br><span class="line">    <span class="built_in">float</span> u = Fade(dx);</span><br><span class="line">    <span class="built_in">float</span> v = Fade(dy);</span><br><span class="line">    <span class="comment">// hash coordinates of the 4 corners</span></span><br><span class="line">    <span class="built_in">int</span> hashA = Permutation512[gridX] + gridY;</span><br><span class="line">    <span class="built_in">int</span> hashB = Permutation512[gridX + <span class="number">1</span>] + gridY;</span><br><span class="line">    <span class="comment">// bilinear interpolation</span></span><br><span class="line">    <span class="built_in">float</span> y0 = Lerp(Grad(Permutation512[hashA], dx, dy), Grad(Permutation512[hashB], dx - <span class="number">1</span>, dy), u);</span><br><span class="line">    <span class="built_in">float</span> y1 = Lerp(Grad(Permutation512[hashA + <span class="number">1</span>], dx, dy - <span class="number">1</span>), Grad(Permutation512[hashB + <span class="number">1</span>], dx - <span class="number">1</span>, dy - <span class="number">1</span>), u);</span><br><span class="line">    <span class="keyword">return</span> Lerp(y0, y1, v);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç»ˆäºåˆ°äº†<code>Noise</code>å‡½æ•°äº†ï¼Œè¿™æ˜¯ç®—æ³•çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œä»ä¸­å¯ä»¥ä¸€çª¥æŸæ—ç®—æ³•çš„è¿ç®—æ–¹å¼ã€‚</p>
<p>å…¶ä¸­æˆ‘ä»¬å…ˆé€šè¿‡<code>Floor</code>å‡½æ•°è·å–äº†ç»™å®šåæ ‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span>æ‰€å¤„æ™¶æ ¼çš„å“ˆå¸Œç´¢å¼•ï¼Œå³<code>gridX</code>ä¸<code>gridY</code>ï¼Œé€šè¿‡å®ƒä»¬æˆ‘ä»¬ä¾¿å¯ä»¥ç¡®å®šæ™¶æ ¼ä¸­å››ä¸ªç‚¹çš„å“ˆå¸Œå€¼ï¼Œå³<code>hashA</code>ã€<code>hashB</code>ã€<code>hashA+1</code>ä¸<code>hashB+1</code>ï¼Œè¿›è€Œå¾—åˆ°å…¶å¯¹åº”æ¢¯åº¦å‘é‡ã€‚</p>
<p>è€Œä¹‹åï¼Œæˆ‘ä»¬è·å¾—äº†<code>dx</code>ä¸<code>dy</code>ï¼Œå®ƒä»¬æ˜¯<code>x</code>ä¸<code>y</code>åœ¨æ™¶æ ¼ä¸­çš„ç›¸å¯¹ä½ç½®ï¼Œå–å€¼èŒƒå›´ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">[0,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>ï¼Œè€Œä¹‹åçš„ç”±<code>Fade</code>å‡½æ•°è®¡ç®—å¾—åˆ°çš„<code>u</code>ã€<code>v</code>ä¾¿æ˜¯<code>dx</code>ã€<code>dy</code>çš„æ˜ å°„å€¼ã€‚</p>
<p>æœ€åä¾¿æ˜¯é€šè¿‡<code>Grad</code>è®¡ç®—æ¢¯åº¦å€¼å¹¶ä½¿ç”¨åŒçº¿æ€§æ’å€¼å¾—åˆ°æœ€åçš„å™ªå£°å€¼ã€‚</p>
<p>ä¸‹å›¾å¯ä»¥æ¸…æ™°è¡¨ç¤ºå‡ºè¿™äº›å˜é‡çš„å…³ç³»ä»¥åŠæ¢¯åº¦å€¼çš„è®¡ç®—æ–¹æ³•ï¼š</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281337769.png" alt="image13" style="zoom:50%;" />
<p>ä»¥ä¸Šä¾¿æ˜¯å…³äºæŸæ—å™ªå£°å…·ä½“å®ç°çš„è®ºè¿°ï¼Œæ¥ä¸‹æ¥ç¬”è€…å°†å°è¯•å°†æŸæ—å‡½æ•°åº”ç”¨åˆ°å®é™…çš„ç¨‹åºåŒ–ç”Ÿæˆä¸­ã€‚</p>
<h2 id="2D-Tilemapç”Ÿæˆ">2D Tilemapç”Ÿæˆ</h2>
<p>åœ¨ç†è§£äº†æŸæ—å™ªå£°çš„åŸç†ï¼Œå¹¶å®ç°äº†è·å–ç›¸åº”æŸæ—å™ªå£°çš„ç®—æ³•ä¹‹åï¼›æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬å°†å…¶åº”ç”¨åˆ°å®é™…åœºæ™¯ä¸­è¯•è¯•å§ï¼</p>
<p>ç¬”è€…åœ¨Unityä¸­å®ç°äº†å‡ ä¸ªä½¿ç”¨æŸæ—å™ªå£°è¿›è¡Œç¨‹åºåŒ–åœ°å›¾ç”Ÿæˆçš„ä¾‹å­ï¼Œå…¶ä¸­åŒ…æ‹¬2D Tilemapç”Ÿæˆã€3Dåœ°å½¢ç”Ÿæˆç­‰ï¼Œä»¥ä¸‹é¡¹ç›®ä¸ä»£ç éƒ½å¯ä»¥åœ¨è¿™ä¸ªGithubä»“åº“ä¸­æ‰¾åˆ°ï¼š</p>
<p><a href="https://github.com/hmxsqaq/Unity-ProceduralMapGenerationPerlinNoise">https://github.com/hmxsqaq/Unity-ProceduralMapGenerationPerlinNoise</a></p>
<h3 id="è·å–å™ªå£°å›¾">è·å–å™ªå£°å›¾</h3>
<p>å¯¹äº2D Tilemapçš„ç”Ÿæˆè€Œè¨€ï¼ŒæŸæ—ç®—æ³•çš„åº”ç”¨éå¸¸ç›´è§‚ï¼Œå…¶å™ªå£°å›¾æœ¬èº«ä¾¿å¯ä»¥è¢«æè¿°ä¸ºä¸€å¼ äºŒç»´å›¾åƒï¼Œå¦‚ä¸‹æ‰€ç¤º</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281338114.png" alt="image14" style="zoom:50%;" />
<p>æˆ‘ä»¬åªéœ€è¦å°†è¿™å¼ äºŒç»´å›¾åƒè½¬åŒ–ä¸ºæ•°æ®ï¼Œå†å°†æ•°æ®æ˜ å°„åˆ°Tilemapä¸Šå³å¯ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦è·å–åˆ°æ‰€éœ€çš„å™ªå£°çš„æ•°æ®ï¼Œä¸‹å›¾æ‰€ç¤ºä»£ç å®ç°äº†è¿™ä¸€åŠŸèƒ½ï¼š</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">float</span>[,] GetNoiseMap(<span class="built_in">int</span> seed, <span class="built_in">int</span> width, <span class="built_in">int</span> height, <span class="built_in">float</span> scale)</span><br><span class="line">&#123;</span><br><span class="line">    Random.InitState(seed);</span><br><span class="line">    <span class="comment">// init map</span></span><br><span class="line">    <span class="built_in">float</span>[,] noiseMap = <span class="keyword">new</span> <span class="built_in">float</span>[width, height];</span><br><span class="line">    <span class="comment">// avoid scale = 0;</span></span><br><span class="line">    scale = scale &lt;= <span class="number">0</span> ? <span class="number">0.0001f</span> : scale;</span><br><span class="line">    <span class="comment">// get offset point</span></span><br><span class="line">    Vector2 offset = <span class="keyword">new</span> Vector2(Random.Range(<span class="number">-9999f</span>, <span class="number">9999f</span>), Random.Range(<span class="number">-9999f</span>, <span class="number">9999</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> y = <span class="number">0</span>; y &lt; height; y++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> x = <span class="number">0</span>; x &lt; width; x++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">float</span> sampleX = x / scale + offset.x;</span><br><span class="line">            <span class="built_in">float</span> sampleY = y / scale + offset.y;</span><br><span class="line">            noiseMap[x, y] = PerlinNoise.GetNoise(sampleX, sampleY);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> noiseMap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å…ˆæŒ‡å®šäº†<code>seed</code>ï¼Œç¡®å®šäº†ä½¿ç”¨çš„éšæœºåºåˆ—ï¼›ä½¿ç”¨<code>offset</code>ä½œä¸ºåç§»é‡ã€<code>scale</code>ä½œä¸ºç¼©æ”¾æ¥è·å–å™ªå£°ï¼Œå¹¶å°†è·å–åˆ°çš„å™ªå£°å€¼å†™å…¥äº†äºŒç»´æ•°ç»„<code>noiseMap</code>ä¸­ï¼›ä¸‹å›¾ç›´è§‚å±•ç¤ºäº†<code>offset</code>ä¸<code>scale</code>çš„å®šä¹‰ï¼š</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281344950.png" alt="image16" style="zoom:50%;" />
<p>åœ¨è·å–å™ªå£°å›¾çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†æŸæ—å™ªå£°å‡½æ•°ç†è§£ä¸ºä¸€å¼ æ— é™å¤§çš„å™ªå£°å›¾ï¼Œè€Œæˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯ä»è¿™ä¸ªåæ ‡ç³»ä¸­æˆªå–ä¸€ä¸ªçŸ©å½¢ï¼ˆé‡‡æ ·ï¼‰ï¼Œè€Œ<code>offset</code>å†³å®šäº†æˆ‘ä»¬æˆªå–ï¼ˆé‡‡æ ·ï¼‰çš„åˆå§‹ç‚¹ï¼Œå…¶ç”±éšæœºæ•°è¿›è¡ŒæŒ‡å®šï¼›<code>scale</code>åˆ™å†³å®šäº†æˆ‘ä»¬ä¼šæˆªå–åŸå™ªå£°å›¾ä¸Šå¤šå¤§çš„é¢ç§¯ï¼ˆå®é™…ä¸Šè¿™å¹¶ä¸å‡†ç¡®ï¼Œé¢ç§¯è¿˜ç”±éœ€è¦ç”Ÿæˆçš„å™ªå£°å›¾çš„å¤§å°å†³å®šï¼Œ<code>scale</code>æœ€å‡†ç¡®çš„æè¿°åº”æ˜¯â€œé‡‡æ ·é¢‘ç‡â€ï¼‰ï¼Œå³æˆ‘ä»¬ä¼šçœ‹åˆ°åŸå™ªå£°å›¾çš„ç»†è‡´ç¨‹åº¦ï¼Œ<code>scale</code>è¶Šå°ï¼Œå¾—åˆ°çš„å™ªå£°å›¾è¶Šç»†è‡´ã€‚</p>
<p>ä¸‹é¢çš„gifå›¾å¾ˆå¥½åœ°å‘ˆç°äº†<code>scale</code>å¯¹äºå™ªå£°å›¾çš„å½±å“ï¼š</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281345680.gif" alt="image17" style="zoom:50%;" />
<h3 id="ç”ŸæˆTilemap">ç”ŸæˆTilemap</h3>
<p>åœ¨è·å–äº†å™ªå£°å›¾ä¹‹åï¼Œæˆ‘ä»¬è¦å¹²çš„äº‹æƒ…å®é™…ä¸Šå°±å¾ˆç®€å•äº†ï¼Œæ ¹æ®å°†å™ªå£°å›¾çš„æ•°æ®æ˜ å°„åˆ°Tilemapä¸Šå³å¯ã€‚æˆ‘åˆ†åˆ«ä½¿ç”¨ç°åº¦å›¾å’Œ<a href="https://beast-pixels.itch.io/overworld-tileset-grass-biome">ç½‘ç»œä¸­çš„ç´ æ</a>å®ç°äº†è¿™ä¸€åŠŸèƒ½ï¼ˆä¸Šé¢çš„gifä¾¿æ˜¯ç”±ç°åº¦å›¾çš„å®ç°ï¼Œè¿™é‡Œä¸å†é‡å¤å±•ç¤ºï¼‰ã€‚</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281345858.png" alt="image18" style="zoom:50%;" />
<p>å¯ä»¥ä½¿ç”¨<code>scale</code>ä¸<code>waterProbability</code>ä¸¤ä¸ªå‚æ•°ä¿®æ”¹éšæœºå‡ºçš„æ•ˆæœã€‚</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281346036.gif" alt="image19" style="zoom:50%;" />
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘æ˜¯ç”¨äº†Unityä¸­çš„<code>Rule Tile</code>åŠŸèƒ½å®ç°äº†ç“¦ç‰‡çš„è‡ªé€‚åº”ã€‚</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281346726.png" alt="image20" style="zoom:50%;" />
<h3 id="ç”Ÿæˆæ•ˆæœä¼˜åŒ–">ç”Ÿæˆæ•ˆæœä¼˜åŒ–</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281346071.png" alt="image21" style="zoom:50%;" />
<p>å¦‚æœæˆ‘ä»¬ä»”ç»†è§‚å¯Ÿæˆ‘ä»¬ç°åœ¨ç”Ÿæˆçš„åœ°å½¢ï¼Œå¯ä»¥å‘ç°ä¸€äº›å› ä¸ºä¸å¤ªå’Œè°çš„åœ°æ–¹ï¼š</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281346646.png" alt="image22"  />
<p>å¦‚ä¸Šå›¾å…¨å‡ºçš„è¿™äº›åœ°æ–¹ï¼Œå®ƒä»¬çš„è§„åˆ™ç“¦ç‰‡å¹¶æ²¡æœ‰è¢«æ­£å¸¸åŒ¹é…ï¼Œè¿™æ˜¯å› ä¸ºç´ æå¹¶æ²¡æœ‰æä¾›å¯¹åº”çš„ç“¦ç‰‡ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥å¯¹å™ªå£°å›¾è¿›è¡Œå¤„ç†æ¥å‰”é™¤æ‰è¿™äº›æ— æ³•åŒ¹é…çš„åŒºå—ã€‚</p>
<p>è¿™äº›åŒºå—ä¸€ä¸ªå¾ˆé‡è¦çš„ç‰¹ç‚¹ä¾¿æ˜¯å»¶ä¼¸è¿‡é•¿ï¼Œæˆ‘ä»¬åªéœ€éå†æ¯ä¸ªç‚¹ï¼Œæ£€æŸ¥å…¶å››å‘¨çš„åŒºå—åˆ†å¸ƒæƒ…å†µå³å¯ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">EliminateSingleWater</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">bool</span> hasSingleWater = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> w = <span class="number">0</span>; w &lt; width; w++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> h = <span class="number">0</span>; h &lt; height; h++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (!(NoiseMap[w, h] &lt; waterProbability) || !CheckAroundHavePairLand(w, h)) <span class="keyword">continue</span>;</span><br><span class="line">                NoiseMap[w, h] = <span class="number">1</span>;</span><br><span class="line">                hasSingleWater = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!hasSingleWater) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="built_in">bool</span> <span class="title">CheckAroundHavePairLand</span>(<span class="params"><span class="built_in">int</span> x, <span class="built_in">int</span> y</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">bool</span> left = <span class="literal">false</span>, right = <span class="literal">false</span>, up = <span class="literal">false</span>, down = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (x &gt; <span class="number">0</span>) left = NoiseMap[x - <span class="number">1</span>, y] &gt; waterProbability;</span><br><span class="line">    <span class="keyword">if</span> (x &lt; width - <span class="number">1</span>) right = NoiseMap[x + <span class="number">1</span>, y] &gt; waterProbability;</span><br><span class="line">    <span class="keyword">if</span> (y &gt; <span class="number">0</span>) up = NoiseMap[x, y - <span class="number">1</span>] &gt; waterProbability;</span><br><span class="line">    <span class="keyword">if</span> (y &lt; height - <span class="number">1</span>) down = NoiseMap[x, y + <span class="number">1</span>] &gt; waterProbability;</span><br><span class="line">    <span class="keyword">return</span> (left &amp;&amp; right) || (up &amp;&amp; down);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œä½¿ç”¨äº†å¾ªç¯è¿›è¡Œä¸€å±‚ä¸€å±‚çš„å‰”é™¤ï¼Œå…¶ä¼šå¸¦æ¥ä¸€äº›é¢å¤–çš„æ€§èƒ½å¼€é”€ï¼Œä½†æ˜¯ç¡®å®å¯ä»¥æå‡ç”Ÿæˆçš„å‡†ç¡®æ€§ã€‚</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281348309.png" alt="image24" style="zoom: 67%;" />
<h3 id="æ€»ç»“">æ€»ç»“</h3>
<p>åœ¨è¿™é‡Œçš„å®è·µä¸­ï¼Œæˆ‘ä½¿ç”¨äº†ä¸€å¼ å™ªå£°å›¾ä¸Tilemapä¸­çš„Rule Tileå®ç°äº†ç”Ÿæˆéšæœº2D Tilemapåœ°å›¾çš„æ•ˆæœï¼Œå¹¶å‰”é™¤äº†Rule Tileæ— æ³•æ”¯æŒçš„ç“¦ç‰‡ï¼Œä½¿å¾—æœ€åçš„åœ°å›¾æ•ˆæœæ›´å¥½ã€‚</p>
<h2 id="3Dç±»å±±åœ°åœ°å½¢ç”Ÿæˆ">3Dç±»å±±åœ°åœ°å½¢ç”Ÿæˆ</h2>
<p>ä»¥ä¸Šæ˜¯å¯¹äºæŸæ—å™ªå£°çš„éå¸¸åŸºç¡€çš„åº”ç”¨ï¼Œå…¶è™½ç„¶ç®€å•ï¼Œä½†æ˜¯å¯ä»¥ä½œä¸ºä¸€ä¸ªå¾ˆå¥½çš„å¼€å§‹ï¼›è€Œåœ¨ã€ŠMinecraftã€‹è¿™äº›æ¸¸æˆä¸­ï¼Œå¯¹ä¸å™ªå£°çš„åº”ç”¨å¾€å¾€æ›´åŠ å¤æ‚æ›´åŠ ç»¼åˆï¼Œå®ƒä»¬å¾€å¾€ä¼šç”¨åˆ°å¤šç§å™ªå£°ç®—æ³•å¹¶ç”Ÿæˆå¤šå¼ å™ªå£°å›¾ä»¥åº”å¯¹å¤šç§ä¸åŒçš„éœ€è¦ï¼Œå¦‚ã€ŠMinecraftã€‹ä¸­å°±ä½¿ç”¨å¤šå¼ åˆ†å½¢æŸæ—å™ªå£°ç”Ÿæˆäº†æ¹¿åº¦å›¾ã€æ¸©åº¦å›¾ã€ç¾¤ç³»å›¾ç­‰å¤šç§ç”¨å¤„ä¸ä¸€çš„å™ªå£°å›¾ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œç¬”è€…å°†æ›´åŠ æ·±å…¥åœ°æ¢ç´¢æŸæ—å™ªå£°çš„åº”ç”¨ï¼Œä»Textureå‡ºå‘ï¼Œå®ç°æ›´åŠ ç¬¦åˆç°å®çš„3Då±±åœ°åœ°å½¢çš„ç¨‹åºåŒ–ç”Ÿæˆã€‚</p>
<p>ä¸‹é¢æ‰€ç”¨åˆ°çš„æ‰€æœ‰ä»£ç ä¹Ÿéƒ½å¯ä»¥åœ¨è¿™ä¸ªGithubä»“åº“ä¸­æ‰¾åˆ°ï¼š</p>
<p><a href="https://github.com/hmxsqaq/Unity-ProceduralMapGenerationPerlinNoise">https://github.com/hmxsqaq/Unity-ProceduralMapGenerationPerlinNoise</a></p>
<h3 id="é«˜åº¦å›¾Textureä¸ç€è‰²Texture">é«˜åº¦å›¾Textureä¸ç€è‰²Texture</h3>
<p>åœ¨åº”å¯¹3Då±±åœ°åœ°å½¢ç”Ÿæˆæ—¶ï¼Œå› ä¸ºç”±åŸå…ˆçš„2Då˜ä¸ºäº†3Dï¼Œç€è‰²å±‚é¢ä¸Šï¼Œæˆ‘ä»¬éœ€è¦å…ˆä¾æ®å™ªå£°å›¾è·å–åˆ°å¯¹åº”Textureæ¥å®ç°å¯¹å±±ä½“çš„ç€è‰²ã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨çš„é€»è¾‘å’Œä¸Šé¢çš„2D Tilemapç”Ÿæˆéå¸¸ç›¸ä¼¼ï¼Œåªæ˜¯å°†Tilemapæ›¿æ¢ä¸ºäº†Textureï¼Œå¾—åˆ°çš„æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281349669.png" alt="image25" style="zoom: 33%;" />
<p>é€šè¿‡æ›´ç»†è‡´åœ°é…ç½®é¢œè‰²æ¢¯åº¦ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥å¾—åˆ°æ›´åŠ å¥½çš„åœ°å½¢å›¾æ•ˆæœã€‚</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281350900.png" alt="image26" style="zoom:50%;" />
<h3 id="åˆ†å½¢æŸæ—å™ªå£°">åˆ†å½¢æŸæ—å™ªå£°</h3>
<p>æˆ‘ä»¬ä½¿ç”¨å¤šå±‚çš„é¢œè‰²åœ°å›¾ä¸æŸæ—å™ªå£°å°è¯•åˆ›é€ äº†åœ°å½¢å›¾ï¼Œå…¶å‘ˆç°äº†ä¸€å®šçš„éšæœºæ¢¯åº¦ï¼Œä½†æ˜¯å…¶å®é™…æ•ˆæœå¹¶ä¸é€¼çœŸï¼Œå…¶æ˜¾å¾—æœ‰äº›å¤ªè¿‡äºâ€œå¹³æ»‘â€äº†ï¼Œç¼ºå°‘äº†è®¸å¤šçš„ç»†èŠ‚ï¼Œè€Œæˆ‘ä»¬çš„è‡ªç„¶ç•Œå®é™…ä¸Šå¹¶ä¸é‚£ä¹ˆå¹³æ»‘ã€‚åˆ†å½¢æŸæ—å™ªå£°å¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šè§£å†³è¿™ä¸€é—®é¢˜ã€‚</p>
<p>åˆ†å½¢æ˜¯æŒ‡å…·æœ‰è‡ªç›¸ä¼¼æ€§çš„å¤æ‚ç»“æ„ï¼Œå³åœ¨ä¸åŒå°ºåº¦ä¸Šçœ‹èµ·æ¥ç›¸ä¼¼çš„å›¾æ¡ˆã€‚åœ¨è‡ªç„¶ç•Œä¸­ï¼Œè®¸å¤šç°è±¡ï¼ˆå¦‚å±±è„‰ã€æµ·å²¸çº¿ã€äº‘å±‚ç­‰ï¼‰éƒ½å…·æœ‰åˆ†å½¢ç‰¹å¾ã€‚åˆ†å½¢æŸæ—å™ªå£°ç»“åˆäº†æŸæ—å™ªå£°å’Œåˆ†å½¢çš„æ¦‚å¿µã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒé€šè¿‡å¤šæ¬¡å åŠ ä¸åŒé¢‘ç‡å’ŒæŒ¯å¹…çš„æŸæ—å™ªå£°æ¥ç”Ÿæˆæ›´åŠ å¤æ‚å’Œè‡ªç„¶çš„å™ªå£°æ¨¡å¼ã€‚è¿™ç§å åŠ é€šå¸¸ç§°ä¸ºâ€œOctavesâ€ï¼ˆå€é¢‘ï¼‰ã€‚æ¯ä¸ªå€é¢‘å±‚æ¬¡çš„æŸæ—å™ªå£°å…·æœ‰ä¸åŒçš„é¢‘ç‡å’ŒæŒ¯å¹…ï¼Œé¢‘ç‡é€šå¸¸æ˜¯å‰ä¸€ä¸ªå±‚æ¬¡çš„ä¸¤å€ï¼ŒæŒ¯å¹…åˆ™æ˜¯å‰ä¸€ä¸ªå±‚æ¬¡çš„ä¸€åŠã€‚é€šè¿‡å åŠ å¤šä¸ªå€é¢‘å±‚æ¬¡ï¼Œåˆ†å½¢æŸæ—å™ªå£°èƒ½å¤Ÿç”Ÿæˆå…·æœ‰å¤šå°ºåº¦ç»†èŠ‚çš„å¤æ‚å›¾æ¡ˆã€‚</p>
<p>æˆ‘ä»¬å°†åœ¨å™ªå£°å›¾ç”Ÿæˆç®—æ³•ä¸­å¼•å…¥ä¸€äº›é¢å¤–å‚æ•°æ¥å®ç°åˆ†å½¢æŸæ—å™ªå£°ï¼š</p>
<ul>
<li>octavesï¼šå€é¢‘ç¨‹æ•°ï¼Œå†³å®šå™ªå£°çš„ç»†èŠ‚å±‚æ¬¡</li>
<li>persistenceï¼šæ¯ä¸ªå€é¢‘ç¨‹çš„æŒ¯å¹…ç¼©å‡å› å­</li>
<li>lacunarityï¼šæ¯ä¸ªå€é¢‘ç¨‹çš„é¢‘ç‡å¢åŠ å› å­</li>
</ul>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281350601.png" alt="image27" style="zoom:50%;" />
<p>æˆ‘çš„å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">float</span>[,] GetNoiseMap(<span class="built_in">int</span> seed, <span class="built_in">int</span> width, <span class="built_in">int</span> height, <span class="built_in">float</span> scale, Vector2 offset,</span><br><span class="line">                                   <span class="built_in">int</span> octaves = <span class="number">1</span>, <span class="built_in">float</span> persistance = <span class="number">1</span>, <span class="built_in">float</span> lacunarity = <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">    Random.InitState(seed);</span><br><span class="line">    <span class="comment">// init map</span></span><br><span class="line">    <span class="built_in">float</span>[,] noiseMap = <span class="keyword">new</span> <span class="built_in">float</span>[width, height];</span><br><span class="line">    <span class="comment">// avoid scale &lt;= 0</span></span><br><span class="line">    scale = scale &lt;= <span class="number">0</span> ? <span class="number">0.0001f</span> : scale;</span><br><span class="line">    <span class="comment">// get offset point</span></span><br><span class="line">    Vector2[] octavesOffsets = <span class="keyword">new</span> Vector2[octaves];</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; octaves; i++)</span><br><span class="line">        octavesOffsets[i] = <span class="keyword">new</span> Vector2(Random.Range(<span class="number">-9999f</span>, <span class="number">9999f</span>), Random.Range(<span class="number">-9999f</span>, <span class="number">9999</span>)) + offset;</span><br><span class="line">    <span class="comment">// store min and max value for normalization</span></span><br><span class="line">    <span class="built_in">float</span> minNoise = <span class="built_in">float</span>.MaxValue;</span><br><span class="line">    <span class="built_in">float</span> maxNoise = <span class="built_in">float</span>.MinValue;</span><br><span class="line">    <span class="comment">// store half width and height for centering the noise map</span></span><br><span class="line">    <span class="built_in">float</span> halfWidth = width / <span class="number">2f</span>;</span><br><span class="line">    <span class="built_in">float</span> halfHeight = height / <span class="number">2f</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> y = <span class="number">0</span>; y &lt; height; y++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> x = <span class="number">0</span>; x &lt; width; x++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">float</span> amplitude = <span class="number">1</span>;</span><br><span class="line">            <span class="built_in">float</span> frequency = <span class="number">1</span>;</span><br><span class="line">            <span class="built_in">float</span> noise = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; octaves; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">float</span> sampleX = (x - halfWidth) / scale * frequency + octavesOffsets[i].x;</span><br><span class="line">                <span class="built_in">float</span> sampleY = (y - halfHeight) / scale * frequency + octavesOffsets[i].y;</span><br><span class="line">                <span class="built_in">float</span> perlinNoise = PerlinNoise.GetNoise(sampleX, sampleY) * <span class="number">2</span> - <span class="number">1</span>;</span><br><span class="line">                noise += perlinNoise * amplitude;</span><br><span class="line"></span><br><span class="line">                amplitude *= persistance;</span><br><span class="line">                frequency *= lacunarity;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// get min and max noise value to lerp</span></span><br><span class="line">            <span class="keyword">if</span> (noise &lt; minNoise) minNoise = noise;</span><br><span class="line">            <span class="keyword">if</span> (noise &gt; maxNoise) maxNoise = noise;</span><br><span class="line">            noiseMap[x, y] = noise;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// normalize the noise map</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> y = <span class="number">0</span>; y &lt; height; y++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> x = <span class="number">0</span>; x &lt; width; x++)</span><br><span class="line">            noiseMap[x, y] = Mathf.InverseLerp(minNoise, maxNoise, noiseMap[x, y]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> noiseMap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶ä½¿ç”¨äº†ç´¯ä¹˜çš„æ–¹å¼å¯¹å™ªå£°å›¾è¿›è¡Œè¿­ä»£ï¼Œæä¾›äº†å¤šä¸ªå¯å¯¹å™ªå£°å›¾è¿›è¡Œè°ƒæ•´çš„å‚æ•°ï¼Œå¦‚<code>octaves</code>ã€<code>persistence</code>ã€<code>lacunarity</code>ã€<code>offset</code>ç­‰ï¼›é€šè¿‡è°ƒæ•´å‚æ•°ï¼Œå¯ä»¥ç”Ÿæˆå„ç§ä¸åŒç‰¹æ€§çš„å™ªå£°çº¹ç†ã€‚</p>
<p>ä¸‹é¢çš„gifå±•ç¤ºäº†å…¶æ•ˆæœï¼š</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281352301.gif" alt="image29" style="zoom:50%;" />
<p>ç°åœ¨ï¼Œåœ¨åˆ†å½¢æŸæ—ç®—æ³•åŠ å…¥åï¼Œåœ°å½¢å›¾çš„ç”Ÿæˆæ•ˆæœæœ‰äº†å¾ˆå¤§çš„æå‡ï¼Œå…¶ç»†èŠ‚æ›´åŠ ä¸°å¯Œï¼Œå±‚æ¬¡ä¹Ÿæ›´åŠ å¤šæ ·ï¼š</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281352481.png" alt="image30" style="zoom:50%;" />
<p>åŒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹å‚æ•°çš„è°ƒæ•´å¾—åˆ°å¤šç§åœ°å½¢é£æ ¼ï¼š</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281353760.gif" alt="image31" style="zoom:50%;" />
<h3 id="ä¸ºåœ°å½¢èµ‹äºˆé«˜åº¦">ä¸ºåœ°å½¢èµ‹äºˆé«˜åº¦</h3>
<p>åœ¨ä¹‹å‰çš„å®è·µä¸­ï¼Œç¬”è€…é€šè¿‡ä¸ºplaneè®¾ç½®Textureå®ç°äº†åŸºäºå™ªå£°å›¾çš„ç€è‰²ï¼Œè€Œæ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬ä¸ºå…¶èµ‹äºˆé«˜åº¦ï¼Œä½¿å…¶æˆä¸ºçœŸæ­£çš„å±±åœ°ã€‚</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¦å®ç°è¿™ç‚¹çš„æ€è·¯éå¸¸ç®€å•ï¼Œæˆ‘ä»¬ä¹‹å‰å·²ç»å¾—åˆ°äº†é«˜åº¦å›¾ï¼Œä¾æ®é«˜åº¦å›¾è®¾ç½®planeçš„meshå³å¯å®ç°åœ°å½¢çš„é«˜åº¦å·®ã€‚</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281353915.png" alt="image32" style="zoom:50%;" />
<p>å¦‚ä¸‹é¢çš„ä»£ç æ‰€ç¤ºï¼Œç¬”è€…ä¾æ®å™ªå£°å›¾è¿›è¡Œäº†<code>mesh</code>æ•°æ®çš„è·å–ï¼š</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> Mesh <span class="title">GenerateTerrainMesh</span>(<span class="params"><span class="built_in">float</span>[,] noiseMap, <span class="built_in">float</span> heightMultiplier, AnimationCurve heightCurve</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">int</span> width = noiseMap.GetLength(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">int</span> height = noiseMap.GetLength(<span class="number">1</span>);</span><br><span class="line">    <span class="comment">// get offset to center the mesh</span></span><br><span class="line">    <span class="built_in">float</span> topLeftX = (width - <span class="number">1</span>) / <span class="number">-2f</span>;</span><br><span class="line">    <span class="built_in">float</span> topLeftZ = (height - <span class="number">1</span>) / <span class="number">2f</span>;</span><br><span class="line"></span><br><span class="line">    MeshData meshData = <span class="keyword">new</span> MeshData(width, height);</span><br><span class="line">    <span class="built_in">int</span> vertexIndex = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> y = <span class="number">0</span>; y &lt; height; y++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> x = <span class="number">0</span>; x &lt; width; x++)</span><br><span class="line">        &#123;</span><br><span class="line">            meshData.Vertices[vertexIndex] = <span class="keyword">new</span> Vector3(topLeftX + x, heightCurve.Evaluate(noiseMap[x, y]) * heightMultiplier, topLeftZ - y);</span><br><span class="line">            meshData.UVs[vertexIndex] = <span class="keyword">new</span> Vector2(x / (<span class="built_in">float</span>)width, y / (<span class="built_in">float</span>)height);</span><br><span class="line">            <span class="keyword">if</span> (x &lt; width - <span class="number">1</span> &amp;&amp; y &lt; height - <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                meshData.AddTriangle(vertexIndex, vertexIndex + width + <span class="number">1</span>, vertexIndex + width);</span><br><span class="line">                meshData.AddTriangle(vertexIndex + width + <span class="number">1</span>, vertexIndex, vertexIndex + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            vertexIndex++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> meshData.CreateMesh();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åŒæ—¶ï¼ŒåŠ å…¥äº†<code>heightMultiplier</code>ä¸<code>heightCurve</code>ä¸¤ä¸ªå‚æ•°ï¼Œå…¶åˆ†åˆ«æ§åˆ¶é«˜åº¦çš„ç³»æ•°ä¸é«˜åº¦çš„å˜åŒ–æ›²çº¿ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥æ›´åŠ ç»†è‡´åœ°æ§åˆ¶ç”Ÿæˆåœ°å½¢çš„æ•ˆæœã€‚</p>
<p>å¦‚æˆ‘ä»¬å¯ä»¥åœ¨<code>heightCurve</code>ä¸­å°†0~0.4éƒ½æ˜ å°„ä¸º0ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æµ·å¹³é¢ä¸ä¼šå‡¸èµ·æˆ–å‡¹é™·ã€‚</p>
<p>å¾—åˆ°çš„æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281355566.gif" alt="image34"></p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281355788.gif" alt="image35"></p>
<h2 id="å…¶ä»–ç¨‹åºåŒ–ç”Ÿæˆç®—æ³•">å…¶ä»–ç¨‹åºåŒ–ç”Ÿæˆç®—æ³•</h2>
<p>åœ¨ç¨‹åºåŒ–åœ°å½¢ç”Ÿæˆä¸­ï¼Œé™¤äº†åŸºç¡€æŸæ—å™ªå£°å¤–ï¼Œè¿˜æœ‰è®¸å¤šå…¶ä»–ç®—æ³•ä¹Ÿè¢«å¹¿æ³›åº”ç”¨ã€‚æœ¬æ–‡å°†ç®€è¦ä»‹ç»å…¶ä¸­çš„ä¸‰ç§ï¼šSimplex å™ªå£°ã€DLAç®—æ³•ä¸ä¾µèš€ç®—æ³•ã€‚</p>
<h3 id="Simplex-å™ªå£°">Simplex å™ªå£°</h3>
<p>Simplex å™ªå£°ä¹Ÿæ˜¯ç”± Ken Perlin äº2001å¹´å‘æ˜çš„ä¸€ç§æ”¹è¿›çš„å™ªå£°å‡½æ•°ï¼Œå®ƒæ—¨åœ¨å…‹æœä¼ ç»ŸæŸæ—å™ªå£°çš„ä¸€äº›ç¼ºç‚¹ã€‚</p>
<p>Simplex å™ªå£°å…·æœ‰ä»¥ä¸‹å‡ ä¸ªæ˜¾è‘—ç‰¹ç‚¹ï¼š</p>
<ul>
<li>è®¡ç®—æ•ˆç‡æ›´é«˜ï¼šæŸæ—å™ªå£°åœ¨è®¡ç®—æ—¶éœ€è¦ä¸ºæ™¶æ ¼èµ‹äºˆéšæœºæ¢¯åº¦ï¼Œè€Œéšç€ç»´åº¦çš„ä¸Šå‡ï¼Œéœ€è¦è®¡ç®—çš„éšæœºæ¢¯åº¦æ•°é‡ä¼šå‘ˆå‡ ä½•çº§ä¸Šå‡ï¼Œè¿™è®©å…¶åœ¨é«˜ç»´åº¦ä¸‹çš„æ€§èƒ½éš¾ä»¥è®©äººæ¥å—ï¼›è€ŒSimplex å™ªå£°åœ¨é«˜ç»´ç©ºé—´ä¸­çš„è®¡ç®—å¤æ‚åº¦åˆ™è¦æ¯”æŸæ—å™ªå£°ä½å¾ˆå¤šï¼Œè¿™ä½¿å¾—å®ƒåœ¨å®æ—¶åº”ç”¨ä¸­æ›´å…·ä¼˜åŠ¿ã€‚</li>
<li>è§†è§‰æ•ˆæœæ›´å¥½ï¼šSimplex å™ªå£°åœ¨ç”Ÿæˆçš„å›¾åƒä¸­æ²¡æœ‰æ˜æ˜¾çš„è½´å¯¹é½ä¼ªå½±ï¼ˆartifactï¼‰ï¼Œè¿™ä½¿å¾—ç”Ÿæˆçš„åœ°å½¢æ›´åŠ è‡ªç„¶å’Œé€¼çœŸ</li>
<li>æ›´å¥½çš„æ¢¯åº¦åˆ†å¸ƒï¼šSimplex å™ªå£°çš„æ¢¯åº¦åˆ†å¸ƒæ›´åŠ å‡åŒ€ï¼Œè¿™æœ‰åŠ©äºç”Ÿæˆå¹³æ»‘è¿‡æ¸¡çš„åœ°å½¢ã€‚</li>
</ul>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281357455.png" alt="image36"></p>
<p>Simplex å™ªå£°çš„å…·ä½“å®ç°ç›¸å¯¹å¤æ‚ï¼Œè¿™é‡Œä¸åšæ·±å…¥çš„ç ”ç©¶ï¼Œå¯ä»¥å‚è€ƒ[è¿™ä¸€è®ºæ–‡](<a href="https://muugumuugu.github.io/bOOkshelF/generative">https://muugumuugu.github.io/bOOkshelF/generative</a> art/simplexnoise.pdf)ä¸­ç»™å‡ºçš„å®ç°ï¼›ä½†å…¶æ ¸å¿ƒæ€æƒ³å¹¶ä¸å¤æ‚ï¼Œæ˜¯é€šè¿‡å°†è¾“å…¥ç©ºé—´åˆ’åˆ†ä¸ºä¸€ç³»åˆ—çš„å•å½¢ï¼ˆå¦‚ä¸‰è§’å½¢æˆ–å››é¢ä½“ï¼‰ï¼Œå¹¶åœ¨è¿™äº›å½¢çŠ¶çš„é¡¶ç‚¹ä¸Šç”Ÿæˆéšæœºæ¢¯åº¦ã€‚ç„¶åï¼Œé€šè¿‡å¯¹è¿™äº›æ¢¯åº¦è¿›è¡Œæ’å€¼ï¼Œç”Ÿæˆæœ€ç»ˆçš„å™ªå£°å€¼ã€‚</p>
<h3 id="DLA-ç®—æ³•">DLA ç®—æ³•</h3>
<p>DLAï¼ˆDiffusion Limited Aggregationï¼Œæ‰©æ•£é™åˆ¶èšé›†ï¼‰ç®—æ³•æ˜¯ä¸€ç§åŸºäºéšæœºæ¸¸èµ°çš„èšé›†æ¨¡å‹ã€‚å®ƒæœ€æ—©ç”± T.A. Witten å’Œ L.M. Sander äº1981å¹´æå‡ºï¼Œç”¨äºæ¨¡æ‹Ÿè‡ªç„¶ç•Œä¸­çš„èšé›†ç°è±¡ï¼Œå¦‚ç”µæ²‰ç§¯ã€æ™¶ä½“ç”Ÿé•¿å’ŒåŸå¸‚æ‰©å±•ç­‰ã€‚</p>
<p>å…¶åŸºæœ¬æ€æƒ³æ˜¯ä»ä¸€ä¸ªåˆå§‹ç§å­ç‚¹å¼€å§‹ï¼Œé€šè¿‡éšæœºæ¸¸èµ°çš„ç²’å­ä¸æ–­é™„ç€åˆ°èšé›†ä½“ä¸Šï¼Œä»è€Œå½¢æˆå¤æ‚çš„åˆ†å½¢ç»“æ„ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼šåœ¨ç©ºé—´ä¸­è®¾ç½®ä¸€ä¸ªç§å­ç‚¹ï¼Œä½œä¸ºèšé›†ä½“çš„èµ·ç‚¹ã€‚</li>
<li>ç²’å­ç”Ÿæˆï¼šåœ¨ç©ºé—´è¾¹ç•Œéšæœºç”Ÿæˆä¸€ä¸ªç²’å­ã€‚</li>
<li>éšæœºæ¸¸èµ°ï¼šç²’å­å¼€å§‹è¿›è¡Œéšæœºæ¸¸èµ°ï¼Œç›´åˆ°å®ƒé‚»è¿‘èšé›†ä½“ã€‚</li>
<li>é™„ç€ï¼šç²’å­é™„ç€åˆ°èšé›†ä½“ä¸Šï¼Œæˆä¸ºèšé›†ä½“çš„ä¸€éƒ¨åˆ†ã€‚</li>
<li>é‡å¤ï¼šé‡å¤æ­¥éª¤2-4ï¼Œç›´åˆ°å½¢æˆæ‰€éœ€çš„èšé›†ä½“ç»“æ„ã€‚</li>
</ol>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281357052.png" alt="image37" style="zoom:33%;" />
<p>DLAç®—æ³•éå¸¸æ“…é•¿ç”Ÿæˆä¸Šå›¾è¿™ç§ç±»ä¼¼æ ‘æ¢¢çš„ç»“æ„ï¼Œè€Œå¦‚æœæˆ‘ä»¬æ ¹æ®å…¶ç›¸å¯¹ä½ç½®ä¸ºå…¶èµ‹äºˆé«˜åº¦ï¼Œå¹¶åŠ ä¸Šä¸€äº›æ¨¡ç³Šæ“ä½œï¼Œå…¶ä¹Ÿèƒ½æˆä¸ºç”Ÿæˆå±±è„‰èµ°å‘çš„è‰¯å¥½ç»“æ„ã€‚</p>
<p>ä½†DLAç®—æ³•ç”±äºéœ€è¦ä¸æ–­è¿­ä»£ï¼Œå…¶æ€§èƒ½å¾ˆæˆé—®é¢˜ï¼Œä¸”ç”±äºç®—æ³•ç‰¹æ€§æ— æ³•æ”¯æŒGPUå¹¶è¡Œè®¡ç®—ï¼Œè¿™è®©å…¶åº”ç”¨æ”¶åˆ°äº†ä¸€å®šç¨‹åº¦çš„é™åˆ¶ã€‚</p>
<h3 id="æ°´ä¾µèš€ç®—æ³•">æ°´ä¾µèš€ç®—æ³•</h3>
<p>è¿™æ˜¯ä¸€ç§åŠ›å›¾ç”¨è®¡ç®—æœºæ¨¡æ‹Ÿè‡ªç„¶è¿‡ç¨‹çš„ç®—æ³•ï¼Œåœ¨è‡ªç„¶åœ°å½¢çš„å½¢æˆçš„è¿‡ç¨‹ä¸­ï¼Œä¾µèš€ä½œç”¨æ˜¯æå…¶é‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œå…¶ä¼šå¯¹åœ°å½¢äº§ç”Ÿæ˜¾è‘—å½±å“ï¼›é€šè¿‡æ¨¡æ‹Ÿè¿™äº›è¿‡ç¨‹ï¼Œå¯ä»¥ç”Ÿæˆå…·æœ‰æ›´é«˜ç»†èŠ‚å’ŒçœŸå®æ„Ÿçš„åœ°å½¢ã€‚</p>
<p>æ°´ä¾µèš€æ¨¡æ‹Ÿäº†é™é›¨å’Œæ²³æµå¯¹åœ°å½¢çš„ä¾µèš€å’Œæ²‰ç§¯è¿‡ç¨‹ã€‚å…¶åŸºæœ¬æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>é™é›¨ï¼šåœ¨åœ°å½¢ä¸Šéšæœºåˆ†å¸ƒé™é›¨</li>
<li>æ°´æµè·¯å¾„ï¼šæ¨¡æ‹Ÿæ°´æµçš„è·¯å¾„ï¼Œè®¡ç®—æ¯ä¸ªç‚¹çš„æ°´æµé‡</li>
<li>ä¾µèš€å’Œæ²‰ç§¯ï¼šæ ¹æ®æ°´æµé‡å’Œåœ°å½¢å¡åº¦ï¼Œè®¡ç®—æ¯ä¸ªç‚¹çš„ä¾µèš€å’Œæ²‰ç§¯é‡ï¼Œæ›´æ–°åœ°å½¢é«˜åº¦</li>
</ol>
<p>å…¶å®ç°å¯ä»¥å‚è€ƒ<a href="https://github.com/SebLague/Hydraulic-Erosion">è¿™ä¸€ä»“åº“</a>ã€‚</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281358473.png" alt="image38" style="zoom:33%;" />
<p>è€Œä¾µèš€ç®—æ³•ä¹Ÿå­˜åœ¨å…¶é—®é¢˜ï¼Œå› ä¸ºä¾µèš€ç®—æ³•æ˜¯ä¸€ç§ç±»ä¼¼â€œåå¤„ç†â€çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬éœ€è¦å…ˆç”Ÿæˆåœ°å½¢åå†è¿›è¡Œä¾µèš€ç®—æ³•çš„è¿­ä»£ï¼Œæ„å‘³ç€è¿™ä¼šè®©æŸæ—å™ªå£°ç”Ÿæˆçš„åœ°å½¢å¤±å»å…¶å¯å“ˆå¸Œæ€§ï¼›åŒæ—¶ï¼Œå› ä¸ºå…¶åŸºäºè¿­ä»£ï¼Œå…¶ä¹Ÿä¼šå¸¦æ¥åºå¤§çš„æ€§èƒ½æ¶ˆè€—ã€‚</p>
]]></content>
      <categories>
        <category>Notes</category>
        <category>Unity</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
        <tag>Note</tag>
        <tag>Unity</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŒGAMES101ã€å­¦ä¹ ç¬”è®°</title>
    <url>/posts/101/</url>
    <content><![CDATA[<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403130823578.jpeg" alt="img"></p>
<h1>Lecture 01 Overview of Computer Graphics</h1>
<blockquote>
<p><strong>Computer Graphics is AWESOME</strong></p>
</blockquote>
<p>è¯¾ç¨‹ä¸»é¢˜ Course Topicsï¼š</p>
<ul>
<li>å…‰æ …åŒ– Rasterization</li>
<li>æ›²çº¿ä¸æ›²é¢ Curves and Meshes</li>
<li>å…‰çº¿è¿½è¸ª Ray Tracing</li>
<li>åŠ¨ç”»ä¸æ¨¡æ‹Ÿ Animation / Simulation</li>
</ul>
<h2 id="å…‰æ …åŒ–-Rasterization">å…‰æ …åŒ– Rasterization</h2>
<p>æŠŠä¸‰ç»´ç©ºé—´çš„å‡ ä½•å½¢ä½“æ˜¾ç¤ºåœ¨å±å¹•ä¸Š</p>
<p>å®æ—¶æ¸²æŸ“ï¼š&gt;30FPS æ¯ç§’ç”Ÿæˆ30å¼ ä»¥ä¸Šçš„å›¾ç‰‡ï¼›å¦åˆ™ä¸ºç¦»çº¿æ¸²æŸ“</p>
<h2 id="æ›²çº¿ä¸æ›²é¢-Curves-and-Meshes">æ›²çº¿ä¸æ›²é¢ Curves and Meshes</h2>
<p>å¦‚ä½•è¡¨ç°æ›²çº¿ä¸æ›²é¢</p>
<h2 id="å…‰çº¿è¿½è¸ª-Ray-Tracing">å…‰çº¿è¿½è¸ª Ray Tracing</h2>
<p>ä»ç›¸æœºä¸­å‘å°„å…‰çº¿ç©¿è¿‡æ¯ä¸ªåƒç´ æ¥è·å–æå°½çœŸå®çš„ç”»é¢æ•ˆæœ</p>
<h2 id="åŠ¨ç”»ä¸æ¨¡æ‹Ÿ-Animation-Simulation">åŠ¨ç”»ä¸æ¨¡æ‹Ÿ Animation / Simulation</h2>
<p>å¸ƒæ–™æ¨¡æ‹Ÿã€å¼¹æ€§æ¨¡æ‹Ÿç­‰ç‰©ç†æ¨¡æ‹Ÿ</p>
<h2 id="GAMES101æ˜¯ä»€ä¹ˆ">GAMES101æ˜¯ä»€ä¹ˆ</h2>
<blockquote>
<p>We learn Graphics, not Graphics API</p>
</blockquote>
<p>ä¸æ•™OpenGL / DirectX / Vulkan</p>
<h1>Lecture 02 Review of Linear Algebra</h1>
<h2 id="ç‚¹ç§¯-Dot-Product">ç‚¹ç§¯ Dot Product</h2>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mover accent="true"><mi>a</mi><mo>âƒ—</mo></mover><mo>â‹…</mo><mover accent="true"><mi>b</mi><mo>âƒ—</mo></mover><mo>=</mo><mi mathvariant="normal">âˆ£</mi><mover accent="true"><mi>a</mi><mo>âƒ—</mo></mover><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">âˆ£</mi><mover accent="true"><mi>b</mi><mo>âƒ—</mo></mover><mi mathvariant="normal">âˆ£</mi><mi>cos</mi><mo>â¡</mo><mi>Î¸</mi><mspace linebreak="newline"></mspace><mover accent="true"><mi>a</mi><mo>âƒ—</mo></mover><mo>â‹…</mo><mover accent="true"><mi>b</mi><mo>âƒ—</mo></mover><mo>=</mo><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><msub><mi>x</mi><mi>a</mi></msub><msub><mi>y</mi><mi>a</mi></msub></mfrac><mo fence="true">)</mo></mrow><mo>â‹…</mo><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><msub><mi>x</mi><mi>b</mi></msub><msub><mi>y</mi><mi>b</mi></msub></mfrac><mo fence="true">)</mo></mrow><mo>=</mo><msub><mi>x</mi><mi>a</mi></msub><msub><mi>x</mi><mi>a</mi></msub><mo>+</mo><msub><mi>y</mi><mi>a</mi></msub><msub><mi>y</mi><mi>b</mi></msub></mrow><annotation encoding="application/x-tex">\vec{a}\cdot\vec{b}=|\vec{a}||\vec{b}| \cos \theta
\newline 
\vec{a}\cdot\vec{b}=\binom{x_a}{y_a}\cdot\binom{x_b}{y_b}=x_ax_a+y_ay_b
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9774em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">b</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2274em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord">âˆ£âˆ£</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">b</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.714em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9774em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">b</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<ul>
<li>æ‰¾åˆ°ä¸¤ä¸ªå‘é‡ä¹‹é—´çš„å¤¹è§’ï¼šç”±ç‚¹ç§¯é™¤ä»¥ä¸¤ä¸ªå‘é‡çš„æ¨¡å³å¯å¾—åˆ°å‘é‡å¤¹è§’çš„ä½™å¼¦å€¼</li>
<li>æ‰¾åˆ°å‘é‡çš„æŠ•å½±ï¼šç”±ä¸€ä¸ªå‘é‡çš„æ¨¡ä¹˜ä»¥å¤¹è§’ä½™å¼¦å€¼å³å¯å¾—åˆ°æŠ•å½±çš„é•¿åº¦ï¼Œä»è€Œå¯ä»¥è¿›è¡Œå‘é‡çš„åˆ†è§£</li>
<li>å¾—åˆ°å‘é‡æ˜¯å¦æ¥è¿‘</li>
<li>å¾—åˆ°å‘é‡çš„æ–¹å‘æ€§</li>
</ul>
<h2 id="å‰ç§¯-Cross-Product">å‰ç§¯ Cross Product</h2>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">âˆ£</mi><mover accent="true"><mi>a</mi><mo>âƒ—</mo></mover><mo>Ã—</mo><mover accent="true"><mi>b</mi><mo>âƒ—</mo></mover><mi mathvariant="normal">âˆ£</mi><mo>=</mo><mi mathvariant="normal">âˆ£</mi><mover accent="true"><mi>a</mi><mo>âƒ—</mo></mover><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">âˆ£</mi><mover accent="true"><mi>b</mi><mo>âƒ—</mo></mover><mi mathvariant="normal">âˆ£</mi><mi>sin</mi><mo>â¡</mo><mi>Î¸</mi><mspace linebreak="newline"></mspace><mover accent="true"><mi>a</mi><mo>âƒ—</mo></mover><mo>Ã—</mo><mover accent="true"><mi>b</mi><mo>âƒ—</mo></mover><mo>=</mo><mo>âˆ’</mo><mover accent="true"><mi>b</mi><mo>âƒ—</mo></mover><mo>Ã—</mo><mover accent="true"><mi>a</mi><mo>âƒ—</mo></mover></mrow><annotation encoding="application/x-tex">|\vec{a} \times \vec{b}| = |\vec{a}||\vec{b}|\sin \theta
\newline
\vec{a} \times  \vec{b} = -\vec{b} \times \vec{a}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2274em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">b</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2274em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord">âˆ£âˆ£</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">b</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.7973em;vertical-align:-0.0833em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9774em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">b</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0608em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">b</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.714em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span></span></span></span></span></p>
<ul>
<li>åˆ¤æ–­å‘é‡çš„å·¦å³</li>
<li>åˆ¤æ–­å‘é‡çš„å†…å¤–</li>
</ul>
<p>ç»™å®šä¸€ä¸ªç‚¹Pï¼Œè¦æ±‚åˆ¤æ–­å…¶æ˜¯å¦åœ¨ä¸‰è§’å½¢ABCå†…éƒ¨</p>
<p>è‹¥<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>A</mi><mi>B</mi></mrow><mo stretchy="true">â†’</mo></mover><mo>Ã—</mo><mover accent="true"><mrow><mi>A</mi><mi>P</mi></mrow><mo stretchy="true">â†’</mo></mover><mtext>ã€</mtext><mover accent="true"><mrow><mi>B</mi><mi>C</mi></mrow><mo stretchy="true">â†’</mo></mover><mo>Ã—</mo><mover accent="true"><mrow><mi>B</mi><mi>P</mi></mrow><mo stretchy="true">â†’</mo></mover><mtext>ã€</mtext><mover accent="true"><mrow><mi>C</mi><mi>A</mi></mrow><mo stretchy="true">â†’</mo></mover><mo>Ã—</mo><mover accent="true"><mrow><mi>C</mi><mi>P</mi></mrow><mo stretchy="true">â†’</mo></mover></mrow><annotation encoding="application/x-tex">\overrightarrow{AB} \times \overrightarrow{AP}ã€\overrightarrow{BC} \times \overrightarrow{BP}ã€\overrightarrow{CA} \times \overrightarrow{CP}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2887em;vertical-align:-0.0833em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2053em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span><span class="svg-align" style="top:-3.6833em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"/></svg></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2887em;vertical-align:-0.0833em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2053em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span><span class="svg-align" style="top:-3.6833em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"/></svg></span></span></span></span></span></span><span class="mord cjk_fallback">ã€</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2053em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">BC</span></span></span><span class="svg-align" style="top:-3.6833em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"/></svg></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2887em;vertical-align:-0.0833em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2053em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">BP</span></span></span><span class="svg-align" style="top:-3.6833em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"/></svg></span></span></span></span></span></span><span class="mord cjk_fallback">ã€</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2053em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">A</span></span></span><span class="svg-align" style="top:-3.6833em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"/></svg></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2053em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2053em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">CP</span></span></span><span class="svg-align" style="top:-3.6833em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"/></svg></span></span></span></span></span></span></span></span></span>â€‹ä¸‰ä¸ªå‰ä¹˜æ‰€å¾—çš„ç¬¦å·ç›¸åŒï¼Œåˆ™Påœ¨ABCå†…éƒ¨</p>
<ul>
<li>å»ºç«‹æ­£äº¤åæ ‡ç³»</li>
</ul>
<h2 id="çŸ©é˜µ-Matrices">çŸ©é˜µ Matrices</h2>
<p>çŸ©é˜µä¹˜æ³•ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>M</mi><mo>Ã—</mo><mi>N</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>N</mi><mo>Ã—</mo><mi>P</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>M</mi><mo>Ã—</mo><mi>P</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(M\times N)(N\times P)=(M\times P)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span></span></span></span>æ‰èƒ½ä¹˜â€‹</p>
<p><strong>æ²¡æœ‰äº¤æ¢å¾‹ Non-commutative</strong></p>
<h1>Lecture 03 Transformation</h1>
<h2 id="äºŒç»´å˜æ¢">äºŒç»´å˜æ¢</h2>
<ul>
<li>ç¼©æ”¾çŸ©é˜µ Scale Matrix</li>
</ul>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403092146666.png" alt="image-20240309214631581" style="zoom:50%;" />
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>s</mi><mi>x</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>s</mi><mi>y</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix}
 x&#x27; \\
 y&#x27;
\end{bmatrix}
=
\begin{bmatrix}
s_{x} &amp; 0 \\
0 &amp; s_{y}
\end{bmatrix}
\begin{bmatrix}
x \\
y
\end{bmatrix}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p>
<ul>
<li>åå°„çŸ©é˜µ Reflection Matrix</li>
</ul>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403092147432.png" alt="image-20240309214700369" style="zoom:50%;" />
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix}
 x&#x27; \\
 y&#x27;
\end{bmatrix}
=
\begin{bmatrix}
-1 &amp; 0 \\
0 &amp; 1
\end{bmatrix}
\begin{bmatrix}
x \\
y
\end{bmatrix}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p>
<ul>
<li>é”™åˆ‡çŸ©é˜µ Shear Matrix</li>
</ul>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403092147093.png" alt="image-20240309214715015" style="zoom:50%;" />
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix}
 x&#x27; \\
 y&#x27;
\end{bmatrix}
=
\begin{bmatrix}
1 &amp; a \\
0 &amp; 1
\end{bmatrix}
\begin{bmatrix}
x \\
y
\end{bmatrix}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p>
<ul>
<li>æ—‹è½¬çŸ©é˜µ Rotation Matrix</li>
</ul>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403092148427.png" alt="image-20240309214808366" style="zoom:50%;" />
<p>é»˜è®¤é€†æ—¶é’ˆæ²¿åŸç‚¹æ—‹è½¬</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>â¡</mo><mi>Î¸</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mi>sin</mi><mo>â¡</mo><mi>Î¸</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>sin</mi><mo>â¡</mo><mi>Î¸</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>â¡</mo><mi>Î¸</mi></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix}
 x&#x27; \\
 y&#x27;
\end{bmatrix}
=
\begin{bmatrix}
\cos\theta &amp; -\sin\theta \\
\sin\theta &amp; \cos\theta
\end{bmatrix}
\begin{bmatrix}
x \\
y
\end{bmatrix}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p>
<blockquote>
<p>çº¿æ€§å˜æ¢ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mi>M</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">x&#x27;=Mx</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7519em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal">x</span></span></span></span></p>
</blockquote>
<h2 id="é½æ¬¡åæ ‡-Homogeneous-Coordinate">é½æ¬¡åæ ‡ Homogeneous Coordinate</h2>
<h3 id="ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦é½æ¬¡åæ ‡">ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦é½æ¬¡åæ ‡</h3>
<p>å¹³ç§»å˜æ¢ä¸èƒ½ç”¨çŸ©é˜µå˜æ¢çš„å½¢å¼è¡¨ç¤ºå‡ºæ¥</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>c</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>d</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>+</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>x</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>y</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix}
 x&#x27; \\
 y&#x27;
\end{bmatrix}
=
\begin{bmatrix}
a &amp; b \\
c &amp; d
\end{bmatrix}
\begin{bmatrix}
x \\
y
\end{bmatrix}
+
\begin{bmatrix}
t_{x} \\
t_{y}
\end{bmatrix}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">c</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p>
<p>è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªçº¿æ€§å˜æ¢</p>
<p>ä½†æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›è®©å¹³ç§»å˜æ¢å˜æˆä¸€ä¸ªç‰¹æ®Šæƒ…å†µ</p>
<blockquote>
<p>é½æ¬¡åæ ‡çš„å¼•å…¥å¯ä»¥è¡¨ç¤ºè¿™ç‚¹</p>
</blockquote>
<h3 id="è§£å†³æ–¹æ³•ï¼šé½æ¬¡åæ ‡">è§£å†³æ–¹æ³•ï¼šé½æ¬¡åæ ‡</h3>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>w</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>x</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>y</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>+</mo><msub><mi>t</mi><mi>x</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>y</mi><mo>+</mo><msub><mi>t</mi><mi>y</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix}
 x&#x27; \\
 y&#x27; \\
 w&#x27;
\end{bmatrix}
=
\begin{bmatrix}
1 &amp; 0 &amp; t_{x} \\
0 &amp; 1 &amp; t_{y} \\
0 &amp; 0 &amp; 1
\end{bmatrix}
\begin{bmatrix}
x \\
y \\
1
\end{bmatrix}
=
\begin{bmatrix}
x + t_{x} \\
y + t_{y} \\
1
\end{bmatrix}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewBox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewBox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewBox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewBox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewBox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewBox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewBox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewBox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>é€šè¿‡å¢åŠ ä¸€ä¸ªç»´åº¦å¯ä»¥å°†å¹³ç§»ä¹Ÿå†™æˆçŸ©é˜µç›¸ä¹˜çš„å½¢å¼</p>
<ul>
<li>2D point = <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">(x,y,1)^T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></li>
<li>2D vector = <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mn>0</mn><msup><mo stretchy="false">)</mo><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">(x,y,0)^T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></li>
</ul>
<h3 id="ä»¿å°„å˜æ¢-Affine-Transformations">ä»¿å°„å˜æ¢ Affine Transformations</h3>
<blockquote>
<p>ä»¿å°„å˜æ¢æ˜¯æŒ‡åœ¨å‡ ä½•ä¸­ï¼Œä¸€ä¸ªå‘é‡ç©ºé—´è¿›è¡Œä¸€æ¬¡çº¿æ€§å˜æ¢å¹¶æ¥ä¸Šä¸€ä¸ªå¹³ç§»ï¼Œå˜æ¢ä¸ºå¦ä¸€ä¸ªå‘é‡ç©ºé—´</p>
</blockquote>
<p>ä»¿å°„å˜æ¢å¯ä»¥é€šè¿‡é½æ¬¡åæ ‡çš„å½¢å¼è½¬æ¢ä¸ºä¸€æ¬¡çº¿æ€§å˜æ¢</p>
<h2 id="å˜æ¢çš„ç»„åˆ-Composing-Transforms">å˜æ¢çš„ç»„åˆ Composing Transforms</h2>
<ul>
<li>å¤æ‚çš„å˜æ¢å¯ä»¥ç”±å¤šä¸ªç®€å•çš„å˜æ¢ç»„åˆè€Œæˆ</li>
<li>å˜æ¢çš„é¡ºåºå¾ˆé‡è¦</li>
</ul>
<h2 id="å˜æ¢çš„åˆ†è§£-Decomposing-Complex-Transforms">å˜æ¢çš„åˆ†è§£ Decomposing Complex Transforms</h2>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403092217260.png" alt="image-20240309221700197" style="zoom:50%;" />
<h2 id="ä¸‰ç»´å˜æ¢">ä¸‰ç»´å˜æ¢</h2>
<ul>
<li>3D point = <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo separator="true">,</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">(x,y,z,1)^T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></li>
<li>3D vector = <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo separator="true">,</mo><mn>0</mn><msup><mo stretchy="false">)</mo><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">(x,y,z,0)^T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></li>
</ul>
<p>ä»¿å°„å˜æ¢å…ˆå˜æ¢å†å¹³ç§»</p>
<p>æ—‹è½¬çŸ©é˜µæ˜¯æ­£äº¤çŸ©é˜µï¼Œå³å…¶è½¬ç½®çŸ©é˜µæ˜¯å…¶é€†çŸ©é˜µ</p>
<h1>Lecture 04 Transformation Cont.</h1>
<h2 id="ä¸‰ç»´å˜æ¢-3D-Transformation">ä¸‰ç»´å˜æ¢ 3D Transformation</h2>
<ul>
<li>Scale</li>
</ul>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>S</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>x</mi></msub><mo separator="true">,</mo><msub><mi>s</mi><mi>y</mi></msub><mo separator="true">,</mo><msub><mi>s</mi><mi>z</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>s</mi><mi>x</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>s</mi><mi>y</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>s</mi><mi>z</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">S(s_{x},s_{y},s_{z}) =
\begin{bmatrix}
s_{x} &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; s_{y} &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; s_{z} &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1 
\end{bmatrix}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<ul>
<li>Translation</li>
</ul>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mi>x</mi></msub><mo separator="true">,</mo><msub><mi>t</mi><mi>y</mi></msub><mo separator="true">,</mo><msub><mi>t</mi><mi>z</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>x</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>y</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>z</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">T(t_{x},t_{y},t_{z}) =
\begin{bmatrix}
1 &amp; 0 &amp; 0 &amp; t_{x} \\
0 &amp; 1 &amp; 0 &amp; t_{y} \\
0 &amp; 0 &amp; 1 &amp; t_{z} \\
0 &amp; 0 &amp; 0 &amp; 1 
\end{bmatrix}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<ul>
<li>Rotate</li>
</ul>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>R</mi><mi>x</mi></msub><mo stretchy="false">(</mo><mi>Î±</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mi>sin</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>sin</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mspace linebreak="newline"></mspace><msub><mi>R</mi><mi>y</mi></msub><mo stretchy="false">(</mo><mi>Î±</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>sin</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mi>sin</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mspace linebreak="newline"></mspace><msub><mi>R</mi><mi>z</mi></msub><mo stretchy="false">(</mo><mi>Î±</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mi>sin</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>sin</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mspace linebreak="newline"></mspace><msub><mi>R</mi><mrow><mi>x</mi><mi>y</mi><mi>z</mi></mrow></msub><mo stretchy="false">(</mo><mi>Î±</mi><mo separator="true">,</mo><mi>Î²</mi><mo separator="true">,</mo><mi>Î³</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>R</mi><mi>x</mi></msub><mo stretchy="false">(</mo><mi>Î±</mi><mo stretchy="false">)</mo><msub><mi>R</mi><mi>y</mi></msub><mo stretchy="false">(</mo><mi>Î²</mi><mo stretchy="false">)</mo><msub><mi>R</mi><mi>z</mi></msub><mo stretchy="false">(</mo><mi>Î³</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R_{x}(\alpha) =
\begin{bmatrix}
1 &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; \cos\alpha &amp; -\sin\alpha &amp; 0 \\
0 &amp; \sin\alpha &amp; \cos\alpha &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1 
\end{bmatrix}
\newline
R_{y}(\alpha) =
\begin{bmatrix}
\cos\alpha &amp; 0 &amp; \sin\alpha &amp; 0 \\
0 &amp; 1 &amp; 0 &amp; 0 \\
-\sin\alpha &amp; 0 &amp; \cos\alpha &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1 
\end{bmatrix}
\newline
R_{z}(\alpha) =
\begin{bmatrix}
\cos\alpha &amp; -\sin\alpha &amp; 0 &amp; 0 \\
\sin\alpha &amp; \cos\alpha &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 1 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1 
\end{bmatrix}
\newline
R_{xyz}(\alpha,\beta,\gamma)=R_{x}(\alpha)R_{y}(\beta)R_{z}(\gamma)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mord mathnormal mtight" style="margin-right:0.04398em;">yz</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="mclose">)</span></span></span></span></span></p>
<p>ä¸Šé¢çš„å˜æ¢å½¢å¼è¢«ç§°ä¸ºæ¬§æ‹‰è§’</p>
<p>å…¶å¸¸è¢«ç”¨äºé£è¡Œæ¨¡æ‹Ÿä¸­ï¼šæ»šè½¬roll, ä¿¯ä»°pitch, åèˆªyaw</p>
<p><strong>ç½—å¾·é‡Œæ ¼æ–¯æ—‹è½¬å…¬å¼</strong></p>
<p>å››å…ƒæ•°(quaternion)å¯ä»¥Lerp</p>
<h2 id="è§‚æµ‹å˜æ¢-Viewing-Transformation">è§‚æµ‹å˜æ¢ Viewing Transformation</h2>
<blockquote>
<p>MVPå˜æ¢ï¼šæ¨¡å‹ï¼ˆmodelï¼‰ï¼Œè§†å›¾ï¼ˆviewï¼‰ï¼ŒæŠ•å½±ï¼ˆprojectionï¼‰</p>
</blockquote>
<h3 id="è§†å›¾å˜æ¢-View-Camera-Transformation">è§†å›¾å˜æ¢ View/Camera Transformation</h3>
<p>å®šä¹‰ç›¸æœº</p>
<ul>
<li>Position <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>e</mi><mo>âƒ—</mo></mover></mrow><annotation encoding="application/x-tex">\vec{e}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">e</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1799em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span></span></span></span></li>
<li>Look-at / gaze direction <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>g</mi><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">\hat{g}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span></span></span></span></li>
<li>Up direction <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>t</mi><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">\hat{t}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8785em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8785em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">t</span></span><span style="top:-3.1841em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span></span></span></span></li>
</ul>
<p>ç›¸æœºæ‹æ‘„çš„æ˜¯ç›¸å¯¹è¿åŠ¨ï¼Œé‚£ä¹ˆä¸ºä½•ä¸è®©ç›¸æœºå›ºå®šä½å‘¢</p>
<ul>
<li><strong>ç›¸æœºæ°¸è¿œåœ¨åŸç‚¹ï¼Œæ°¸è¿œä»¥Yè½´ä¸ºå‘ä¸Šï¼Œç›¸æœºæ°¸è¿œçœ‹å‘-Zæ–¹å‘ï¼ˆçº¦å®šä¿—æˆï¼‰</strong></li>
<li>å…¶ä»–ç‰©ä½“çš„è¿åŠ¨éƒ½æ˜¯ç›¸å¯¹ç›¸æœºçš„è¿åŠ¨</li>
</ul>
<p>å°†ç›¸æœºå˜æ¢åˆ°ä¸Šè¿°å›ºå®šä½ç½®</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>M</mi><mrow><mi>v</mi><mi>i</mi><mi>e</mi><mi>w</mi></mrow></msub><mo>=</mo><mi>R</mi><mrow><mi>v</mi><mi>i</mi><mi>e</mi><mi>w</mi></mrow><mi>T</mi><mrow><mi>v</mi><mi>i</mi><mi>e</mi><mi>w</mi></mrow><mspace linebreak="newline"></mspace><mspace linebreak="newline"></mspace><mtext>è®¾ç›¸æœºåŸç‚¹åœ¨</mtext><mover accent="true"><mi>e</mi><mo>âƒ—</mo></mover><mtext>ï¼Œçœ‹å‘</mtext><mover accent="true"><mi>g</mi><mo>^</mo></mover><mtext>ï¼Œ</mtext><mover accent="true"><mi>t</mi><mo>^</mo></mover><mtext>ä¸ºä¸Š</mtext><mspace linebreak="newline"></mspace><mspace linebreak="newline"></mspace><mover accent="true"><mi>e</mi><mo>âƒ—</mo></mover><mtext>å¹³ç§»è‡³åŸç‚¹ï¼š</mtext><msub><mi>T</mi><mrow><mi>v</mi><mi>i</mi><mi>e</mi><mi>w</mi></mrow></msub><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><msub><mi>x</mi><mi>e</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><msub><mi>y</mi><mi>e</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><msub><mi>z</mi><mi>e</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mspace linebreak="newline"></mspace><mspace linebreak="newline"></mspace><mover accent="true"><mi>g</mi><mo>^</mo></mover><mtext>æ—‹è½¬è‡³</mtext><mo>âˆ’</mo><mi>Z</mi><mtext>ï¼Œ</mtext><mover accent="true"><mi>t</mi><mo>^</mo></mover><mtext>æ—‹è½¬è‡³</mtext><mi>Y</mi><mtext>ï¼Œ</mtext><mo stretchy="false">(</mo><mover accent="true"><mi>g</mi><mo>^</mo></mover><mo>Ã—</mo><mover accent="true"><mi>t</mi><mo>^</mo></mover><mo stretchy="false">)</mo><mtext>æ—‹è½¬è‡³</mtext><mi>X</mi><mspace linebreak="newline"></mspace><mtext>è¿™æ ·çš„æ—‹è½¬çŸ©é˜µå¾ˆéš¾å†™ï¼Œä½†å…¶é€†çŸ©é˜µå¾ˆç®€å•ï¼Œå› ä¸ºæ—‹è½¬çŸ©é˜µæ˜¯æ­£äº¤çŸ©é˜µï¼Œå†™å‡ºå…¶é€†çŸ©é˜µåè½¬ç½®å³å¯å¾—åˆ°è¦æ±‚çš„çŸ©é˜µ</mtext><mspace linebreak="newline"></mspace><mspace linebreak="newline"></mspace><msubsup><mi>R</mi><mrow><mi>v</mi><mi>i</mi><mi>e</mi><mi>w</mi></mrow><mrow><mo>âˆ’</mo><mn>1</mn></mrow></msubsup><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mrow><mover accent="true"><mi>g</mi><mo>^</mo></mover><mo>Ã—</mo><mover accent="true"><mi>t</mi><mo>^</mo></mover></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mi>t</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mrow><mo>âˆ’</mo><mi>g</mi></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mrow><mover accent="true"><mi>g</mi><mo>^</mo></mover><mo>Ã—</mo><mover accent="true"><mi>t</mi><mo>^</mo></mover></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mi>t</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mrow><mo>âˆ’</mo><mi>g</mi></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>z</mi><mrow><mover accent="true"><mi>g</mi><mo>^</mo></mover><mo>Ã—</mo><mover accent="true"><mi>t</mi><mo>^</mo></mover></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>z</mi><mi>t</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>z</mi><mrow><mo>âˆ’</mo><mi>g</mi></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>â†’</mo><msub><mi>R</mi><mrow><mi>v</mi><mi>i</mi><mi>e</mi><mi>w</mi></mrow></msub><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mrow><mover accent="true"><mi>g</mi><mo>^</mo></mover><mo>Ã—</mo><mover accent="true"><mi>t</mi><mo>^</mo></mover></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mrow><mover accent="true"><mi>g</mi><mo>^</mo></mover><mo>Ã—</mo><mover accent="true"><mi>t</mi><mo>^</mo></mover></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>z</mi><mrow><mover accent="true"><mi>g</mi><mo>^</mo></mover><mo>Ã—</mo><mover accent="true"><mi>t</mi><mo>^</mo></mover></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mi>t</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mi>t</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>z</mi><mi>t</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mrow><mo>âˆ’</mo><mi>g</mi></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mrow><mo>âˆ’</mo><mi>g</mi></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>z</mi><mrow><mo>âˆ’</mo><mi>g</mi></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">M_{view}=R{view}T{view} \\ \\
è®¾ç›¸æœºåŸç‚¹åœ¨\vec{e}ï¼Œçœ‹å‘\hat{g}ï¼Œ\hat{t}ä¸ºä¸Š \\ \\
\vec{e}å¹³ç§»è‡³åŸç‚¹ï¼š
T_{view}=
\begin{bmatrix}
1 &amp; 0 &amp; 0 &amp; -x_{e} \\
0 &amp; 1 &amp; 0 &amp; -y_{e} \\
0 &amp; 0 &amp; 1 &amp; -z_{e} \\
0 &amp; 0 &amp; 0 &amp; 1 
\end{bmatrix} \\ \\
\hat{g}æ—‹è½¬è‡³-Zï¼Œ\hat{t}æ—‹è½¬è‡³Yï¼Œ(\hat{g}\times\hat{t})æ—‹è½¬è‡³X \\
è¿™æ ·çš„æ—‹è½¬çŸ©é˜µå¾ˆéš¾å†™ï¼Œä½†å…¶é€†çŸ©é˜µå¾ˆç®€å•ï¼Œå› ä¸ºæ—‹è½¬çŸ©é˜µæ˜¯æ­£äº¤çŸ©é˜µï¼Œå†™å‡ºå…¶é€†çŸ©é˜µåè½¬ç½®å³å¯å¾—åˆ°è¦æ±‚çš„çŸ©é˜µ \\ \\
R_{view}^{-1}=
\begin{bmatrix}
x_{\hat{g}\times\hat{t}} &amp; x_{t} &amp; x_{-g} &amp; 0 \\
y_{\hat{g}\times\hat{t}} &amp; y_{t} &amp; y_{-g} &amp; 0 \\
z_{\hat{g}\times\hat{t}} &amp; z_{t} &amp; z_{-g} &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1 
\end{bmatrix} \to
R_{view}=
\begin{bmatrix}
x_{\hat{g}\times\hat{t}} &amp; y_{\hat{g}\times\hat{t}} &amp; z_{\hat{g}\times\hat{t}} &amp; 0 \\
x_{t} &amp; y_{t} &amp; z_{t} &amp; 0 \\
x_{-g} &amp; y_{-g} &amp; z_{-g} &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1 
\end{bmatrix}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">i</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">i</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span><span class="mspace newline"></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.073em;vertical-align:-0.1944em;"></span><span class="mord cjk_fallback">è®¾ç›¸æœºåŸç‚¹åœ¨</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">e</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1799em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord cjk_fallback">ï¼Œçœ‹å‘</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8785em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">t</span></span><span style="top:-3.1841em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord cjk_fallback">ä¸ºä¸Š</span></span><span class="mspace newline"></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.864em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">e</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1799em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord cjk_fallback">å¹³ç§»è‡³åŸç‚¹ï¼š</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mord cjk_fallback">æ—‹è½¬è‡³</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1285em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8785em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">t</span></span><span style="top:-3.1841em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord cjk_fallback">æ—‹è½¬è‡³</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1285em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8785em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">t</span></span><span style="top:-3.1841em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord cjk_fallback">æ—‹è½¬è‡³</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">è¿™æ ·çš„æ—‹è½¬çŸ©é˜µå¾ˆéš¾å†™ï¼Œä½†å…¶é€†çŸ©é˜µå¾ˆç®€å•ï¼Œå› ä¸ºæ—‹è½¬çŸ©é˜µæ˜¯æ­£äº¤çŸ©é˜µï¼Œå†™å‡ºå…¶é€†çŸ©é˜µåè½¬ç½®å³å¯å¾—åˆ°è¦æ±‚çš„çŸ©é˜µ</span></span><span class="mspace newline"></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.1311em;vertical-align:-0.267em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.433em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.267em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.9388em;vertical-align:-2.2194em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.7194em;"><span style="top:-4.8794em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.4298em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord mtight">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mbin mtight">Ã—</span><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8785em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight">t</span></span><span style="top:-2.8841em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord mtight">^</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4063em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.6331em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.4298em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord mtight">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mbin mtight">Ã—</span><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8785em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight">t</span></span><span style="top:-2.8841em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord mtight">^</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4063em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.4298em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord mtight">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mbin mtight">Ã—</span><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8785em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight">t</span></span><span style="top:-2.8841em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord mtight">^</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4063em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.1406em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.2194em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.7194em;"><span style="top:-4.8794em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.6331em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.1406em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.2194em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.7194em;"><span style="top:-4.8794em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2583em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.6331em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2583em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2583em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.1406em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.2194em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.7194em;"><span style="top:-4.8794em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.6331em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.3869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.1406em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.2194em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8463em;vertical-align:-2.1731em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6731em;"><span style="top:-4.8331em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.4298em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord mtight">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mbin mtight">Ã—</span><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8785em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight">t</span></span><span style="top:-2.8841em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord mtight">^</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4063em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.5869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2583em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.1869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.1731em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6731em;"><span style="top:-4.8331em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.4298em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord mtight">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mbin mtight">Ã—</span><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8785em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight">t</span></span><span style="top:-2.8841em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord mtight">^</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4063em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.5869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2583em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.1869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.1731em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6731em;"><span style="top:-4.8331em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.4298em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord mtight">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mbin mtight">Ã—</span><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8785em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight">t</span></span><span style="top:-2.8841em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord mtight">^</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4063em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.5869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2583em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.1869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.1731em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6731em;"><span style="top:-4.8331em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.5869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.3869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.1869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.1731em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>è§†å›¾å˜æ¢å’Œæ¨¡å‹å˜æ¢å¸¸å¸¸è¢«ä¸€èµ·æåˆ°ï¼Œæ¨¡å‹å’Œç›¸æœºå¸¸å¸¸ä¸€èµ·å˜æ¢ï¼Œç§°ä¸ºæ¨¡å‹è§†å›¾å˜æ¢</p>
<h2 id="æŠ•å½±å˜æ¢-Projection-Transformation">æŠ•å½±å˜æ¢ Projection Transformation</h2>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403092344036.png" alt="image-20240309234448916" style="zoom:50%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403092345565.png" alt="image-20240309234548442" style="zoom:50%;" />
<p>æ­£äº¤æŠ•å½±ä¸ä¼šæœ‰è¿‘å¤§è¿œå°</p>
<h3 id="æ­£äº¤æŠ•å½±-Orthographic-Projection">æ­£äº¤æŠ•å½± Orthographic Projection</h3>
<p>ä¸€ä¸ªæ˜“äºç†è§£çš„æ–¹æ³•ï¼š</p>
<ul>
<li>æŠŠç›¸æœºæ”¾åˆ°åŸç‚¹ä¸Šï¼Œå‘-Zæ–¹å‘çœ‹ï¼ŒYä¸ºä¸Š</li>
<li><strong>æ‰”æ‰Zåæ ‡</strong></li>
<li>å¹³ç§»ç¼©æ”¾å¾—åˆ°çš„ç»“æœåˆ°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mo>âˆ’</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><msup><mo stretchy="false">]</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">[-1,1]^{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>â€‹ï¼ˆçº¦å®šä¿—æˆï¼‰</li>
</ul>
<p>æ­£å¼çš„åšæ³•ï¼š</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403092349505.png" alt="image-20240309234954407" style="zoom:50%;" />
<ul>
<li>æŠŠä¸€ä¸ªç«‹æ–¹ä½“å˜æ¢ä¸ºæ­£åˆ™(canonical)ç«‹æ–¹ä½“ï¼šå¹³ç§»ï¼Œç¼©æ”¾</li>
</ul>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>M</mi><mrow><mi>o</mi><mi>r</mi><mi>t</mi><mi>h</mi><mi>o</mi></mrow></msub><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mn>2</mn><mrow><mi>r</mi><mo>âˆ’</mo><mi>l</mi></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mn>2</mn><mrow><mi>t</mi><mo>âˆ’</mo><mi>b</mi></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mn>2</mn><mrow><mi>n</mi><mo>âˆ’</mo><mi>f</mi></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mfrac><mrow><mi>r</mi><mo>+</mo><mi>l</mi></mrow><mn>2</mn></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mfrac><mrow><mi>t</mi><mo>+</mo><mi>b</mi></mrow><mn>2</mn></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mfrac><mrow><mi>n</mi><mo>+</mo><mi>f</mi></mrow><mn>2</mn></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">M_{ortho}=
\begin{bmatrix}
\frac{2}{r-l} &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; \frac{2}{t-b} &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; \frac{2}{n-f} &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1
\end{bmatrix}
\begin{bmatrix}
1 &amp; 0 &amp; 0 &amp; -\frac{r+l}{2} \\
0 &amp; 1 &amp; 0 &amp; -\frac{t+b}{2} \\
0 &amp; 0 &amp; 1 &amp; -\frac{n+f}{2} \\
0 &amp; 0 &amp; 0 &amp; 1
\end{bmatrix}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">or</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">h</span><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:5.0231em;vertical-align:-2.2615em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.7615em;"><span style="top:-4.9164em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4033em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.668em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.4196em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.0985em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.2615em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.7615em;"><span style="top:-4.9164em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.668em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight">b</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4033em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.4196em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.0985em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.2615em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.7615em;"><span style="top:-4.9164em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.668em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.4196em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4811em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-1.0985em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.2615em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.7615em;"><span style="top:-4.9164em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.668em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.4196em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.0985em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.2615em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.7362em;"><span style="top:-4.8561em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.616em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.3238em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.1238em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.2362em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.7362em;"><span style="top:-4.8561em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.616em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.3238em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.1238em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.2362em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.7362em;"><span style="top:-4.8561em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.616em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.3238em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.1238em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.2362em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.7362em;"><span style="top:-4.8561em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.616em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.3238em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-1.1238em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.2362em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<h3 id="é€è§†æŠ•å½±-Perspective-Projection">é€è§†æŠ•å½± Perspective Projection</h3>
<ul>
<li>é¦–å…ˆæŒ¤å‹å››æ¤ä½“ä½¿å…¶ç§°ä¸ºä¸€ä¸ªç«‹æ–¹ä½“</li>
<li>è¿›è¡Œæ­£äº¤æŠ•å½±</li>
</ul>
<p>è¿‘å¹³é¢ç‚¹ä¸å˜ï¼Œè¿œå¹³é¢zä¸å˜</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403122040291.jpg" alt="f1a9a8eafe39abf782f7389e2838cf4" style="zoom:50%;" />
<h1>Lecture 05 Rasterization 1 (Triangles)</h1>
<h2 id="è§†åœºè§’ï¼ˆFOV-Field-of-Viewï¼‰å’Œå®½é«˜æ¯”ï¼ˆAspect-Ratioï¼‰ä¸è§†é”¥å„å‚æ•°çš„è½¬åŒ–">è§†åœºè§’ï¼ˆFOV-Field of Viewï¼‰å’Œå®½é«˜æ¯”ï¼ˆAspect Ratioï¼‰ä¸è§†é”¥å„å‚æ•°çš„è½¬åŒ–</h2>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403122053492.png" alt="image-20240312205336381" style="zoom:50%;" />
<h2 id="ä»æ­£åˆ™ç«‹æ–¹ä½“åˆ°å±å¹•ç©ºé—´">ä»æ­£åˆ™ç«‹æ–¹ä½“åˆ°å±å¹•ç©ºé—´</h2>
<p>é€šè¿‡åœ¨å˜æ¢ä¸­æ¨å¯¼å‡ºçš„MVPçŸ©é˜µï¼Œæˆ‘ä»¬å¯ä»¥å°†æ‰€æœ‰ç‰©ä½“å‹ç¼©è¿›æ­£åˆ™ç«‹æ–¹ä½“ä¸­ï¼Œè€Œä¸‹ä¸€æ­¥ä¾¿æ˜¯å°†è¿™äº›ä¸œè¥¿æ”¾åˆ°å±å¹•ä¸Šäº†</p>
<h3 id="å±å¹•-Screen">å±å¹• Screen</h3>
<ul>
<li>ä¸€ä¸ªäºŒç»´çš„åƒç´ æ•°ç»„</li>
<li>æ•°ç»„çš„å¤§å°ï¼šåˆ†è¾¨ç‡ï¼ˆresolutionï¼‰</li>
<li>ä¸€ç§å…¸å‹çš„å…‰æ …ï¼ˆrasterï¼‰æˆåƒè®¾å¤‡</li>
</ul>
<p>å…‰æ …ï¼ˆRasterï¼‰å°±æ˜¯å±å¹•ï¼ˆScreenï¼‰çš„å¾·è¯­ï¼Œå…‰æ …åŒ–ï¼ˆRastizeï¼‰å°±æ˜¯å°†ç‰©ä½“æ˜¾ç¤ºåœ¨å±å¹•ä¸Š</p>
<h3 id="å±å¹•ç©ºé—´">å±å¹•ç©ºé—´</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403122101781.png" alt="image-20240312210102675" style="zoom:50%;" />
<ul>
<li>åƒç´ é€šè¿‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span>çš„åæ ‡å½¢å¼è¡¨ç¤ºï¼Œåƒç´ çš„ä¸­å¿ƒåœ¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mn>0.5</mn><mo separator="true">,</mo><mi>y</mi><mo>+</mo><mn>0.5</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x+0.5, y+0.5)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0.5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0.5</span><span class="mclose">)</span></span></span></span></li>
<li>å¦‚æœæˆ‘ä»¬è®¤ä¸ºå±å¹•çš„åˆ†è¾¨ç‡ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mi>i</mi><mi>d</mi><mi>t</mi><mi>h</mi><mo>âˆ—</mo><mi>h</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">width*height</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">i</span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">h</span><span class="mord mathnormal">e</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">h</span><span class="mord mathnormal">t</span></span></span></span>ï¼Œé‚£ä¹ˆå…±æœ‰<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(0, 0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span>~<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>w</mi><mi>i</mi><mi>d</mi><mi>t</mi><mi>h</mi><mo>âˆ’</mo><mn>1</mn><mo separator="true">,</mo><mi>h</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(width-1, height-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">i</span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">h</span><span class="mord mathnormal">e</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">h</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span> ä¸ªåƒç´ </li>
<li>å±å¹•ç©ºé—´è¦†ç›–äº†<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(0, 0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span>åˆ°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>w</mi><mi>i</mi><mi>d</mi><mi>t</mi><mi>h</mi><mo separator="true">,</mo><mi>h</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(width, height)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">i</span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">h</span><span class="mord mathnormal">e</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">h</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span>çš„èŒƒå›´</li>
</ul>
<h3 id="è§†å£å˜æ¢">è§†å£å˜æ¢</h3>
<ul>
<li>ä¸zè½´æ— å…³</li>
<li>ç”±<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mo>âˆ’</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><msup><mo stretchy="false">]</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">[-1,1]^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>åˆ°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mi>w</mi><mi>i</mi><mi>d</mi><mi>t</mi><mi>h</mi><mo stretchy="false">]</mo><mo>Ã—</mo><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mi>h</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,width]\times[0,height]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">i</span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">h</span><span class="mord mathnormal">e</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">h</span><span class="mord mathnormal">t</span><span class="mclose">]</span></span></span></span></li>
</ul>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>M</mi><mrow><mi>v</mi><mi>i</mi><mi>e</mi><mi>w</mi><mi>p</mi><mi>o</mi><mi>r</mi><mi>t</mi></mrow></msub><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi>w</mi><mi>i</mi><mi>d</mi><mi>t</mi><mi>h</mi></mrow><mn>2</mn></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi>w</mi><mi>i</mi><mi>d</mi><mi>t</mi><mi>h</mi></mrow><mn>2</mn></mfrac></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi>h</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi></mrow><mn>2</mn></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi>h</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi></mrow><mn>2</mn></mfrac></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">M_{viewport}=
\begin{bmatrix}
\frac{width}{2} &amp; 0 &amp; 0 &amp; \frac{width}{2} \\
0 &amp; \frac{height}{2} &amp; 0 &amp; \frac{height}{2} \\
0 &amp; 0 &amp; 1 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1
\end{bmatrix}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">wp</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">or</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.9323em;vertical-align:-2.2162em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.7162em;"><span style="top:-4.8361em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">h</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.5438em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.3438em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.1438em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.2162em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.7162em;"><span style="top:-4.8361em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.5438em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mord mathnormal mtight">h</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.3438em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.1438em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.2162em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.7162em;"><span style="top:-4.8361em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.5438em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.3438em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.1438em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.2162em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.7162em;"><span style="top:-4.8361em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">h</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.5438em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mord mathnormal mtight">h</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.3438em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.1438em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.2162em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<h2 id="ä¸‰è§’å½¢">ä¸‰è§’å½¢</h2>
<h3 id="ä¸ºä»€ä¹ˆæ˜¯ä¸‰è§’å½¢">ä¸ºä»€ä¹ˆæ˜¯ä¸‰è§’å½¢</h3>
<ul>
<li>ä¸‰è§’å½¢æ˜¯æœ€åŸºç¡€çš„å¤šè¾¹å½¢</li>
<li>å¯ä»¥ç”¨ä¸‰è§’å½¢æ¥è¡¨ç¤ºå…¶ä»–å¤šè¾¹å½¢</li>
<li>å†…éƒ¨ä¸€å®šæ˜¯å¹³é¢çš„</li>
<li>å†…å¤–å®šä¹‰éå¸¸æ¸…æ¥š</li>
<li>æ–¹ä¾¿è¿›è¡Œå†…éƒ¨å·®å€¼</li>
</ul>
<h2 id="é‡‡æ ·-Sampling">é‡‡æ · Sampling</h2>
<p>è¿™æ˜¯æœ€ç®€å•çš„å…‰æ …åŒ–æ–¹æ³•</p>
<blockquote>
<p><strong>æŠŠä¸€ä¸ªå‡½æ•°ç¦»æ•£åŒ–ï¼šç»™å®šä¸€ä¸ªå‡½æ•°ï¼Œå¾—åˆ°ä¸€ä¸ªä¸ªå…·ä½“çš„å€¼</strong></p>
</blockquote>
<p>é‡‡æ ·ä¸€ä¸ªåƒç´ çš„ä¸­å¿ƒæ˜¯å¦åœ¨ä¸‰è§’å½¢å†…éƒ¨</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>i</mi><mi>n</mi><mi>s</mi><mi>i</mi><mi>d</mi><mi>e</mi><mo stretchy="false">(</mo><mi>t</mi><mo separator="true">,</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mspace width="1em"/><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mtext>Â </mtext><mi>i</mi><mi>n</mi><mtext>Â </mtext><mi mathvariant="normal">â–³</mi><mi>t</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mspace width="1em"/><mi>o</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>r</mi><mi>w</mi><mi>i</mi><mi>s</mi><mi>e</mi></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">inside(t,x,y)=
\begin{cases}
1 \quad (x,y)\ in\ \triangle t\\
0 \quad otherwise
\end{cases}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">in</span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace">Â </span><span class="mord mathnormal">in</span><span class="mspace">Â </span><span class="mord">â–³</span><span class="mord mathnormal">t</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">0</span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathnormal">o</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">i</span><span class="mord mathnormal">se</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<ul>
<li>
<p>é€šè¿‡ä¸‰æ¬¡å‰ç§¯å³å¯åˆ¤æ–­ç‚¹æ˜¯å¦åœ¨ä¸‰è§’å½¢å†…éƒ¨</p>
</li>
<li>
<p>è¾¹ç•Œé—®é¢˜ï¼šè¦ä¹ˆä¸åšå¤„ç†ï¼Œè¦ä¹ˆç‰¹æ®Šå¤„ç†ï¼Œè‡ªæ´½å³å¯</p>
</li>
<li>
<p>é€šè¿‡ä¸‰è§’å½¢çš„åŒ…å›´ç›’ï¼ˆBounding Boxï¼‰æé«˜é‡‡æ ·æ•ˆç‡ï¼šåªè¦åœ¨åŒ…å›´ç›’å†…çš„åƒç´ æ‰æœ‰å¯èƒ½è¢«è¦†ç›–åˆ°</p>
</li>
</ul>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403122148477.png" alt="image-20240312214834322" style="zoom:50%;" />
<ul>
<li>è¿˜æœ‰å¾ˆå¤šåŠ é€Ÿå…‰æ …åŒ–çš„æ–¹å¼ï¼šå¦‚ä¸‹é¢çš„åªä»ä¸‰è§’å½¢æ¯è¡Œçš„ç¬¬ä¸€ä¸ªåƒç´ å¼€å§‹</li>
</ul>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403122150281.png" alt="image-20240312215039137" style="zoom:50%;" />
<blockquote>
<p><strong>å…‰æ …åŒ–å›¾å½¢å­¦çš„ä¸¥é‡é—®é¢˜ï¼šæŠ—é”¯é½¿ï¼ˆJaggiesï¼‰ä¸åèµ°æ ·ï¼ˆAliasingï¼‰</strong></p>
</blockquote>
<h1>Lecture 06 Rasterization 2 (Antialiasing and Z-Buffering)</h1>
<p>é‡‡æ ·ï¼ˆsampleï¼‰åœ¨è®¡ç®—æœºå›¾å½¢å­¦ä¸­æ— å¤„ä¸åœ¨</p>
<ul>
<li>å…‰æ …åŒ–æ˜¯ä¸€ç§å¯¹2Dåƒç´ ç‚¹çš„é‡‡æ ·</li>
<li>æ‘„å½±æ˜¯ä¸€ç§å¯¹æ„Ÿå…‰å…ƒä»¶çš„é‡‡æ ·</li>
<li>è§†é¢‘æ˜¯ä¸€ç§å¯¹æ—¶é—´çš„é‡‡æ ·</li>
</ul>
<p>é‡‡æ ·ä¼šäº§ç”Ÿä¸€ç³»åˆ—Sample Artifactsï¼ˆç‘•ç–µï¼‰</p>
<ul>
<li>
<p>é”¯é½¿ Jaggies</p>
</li>
<li>
<p>æ‘©å°”çº¹ Moire Pattern</p>
</li>
<li>
<p>Wagon wheel effectï¼ˆFalse Motionï¼‰</p>
</li>
</ul>
<blockquote>
<p><strong>åœ¨èµ°æ ·çš„èƒŒåï¼šä¿¡å·å˜åŒ–å¤ªå¿«ï¼Œä½†é‡‡æ ·é¢‘ç‡å¤ªæ…¢</strong></p>
</blockquote>
<p>åèµ°æ ·é‡‡æ ·ï¼ˆAntialiased Samplingï¼‰</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403200822183.png" alt="image-20240320082236039" style="zoom:50%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403200824233.png" alt="image-20240320082428051" style="zoom:50%;" />
<blockquote>
<p><strong>èµ°æ ·Aliasï¼šåŒæ ·é‡‡æ ·æ–¹æ³•é‡‡æ ·ä¸¤ä¸ªä¸ä¸€æ ·çš„å‡½æ•°ï¼Œå¾—åˆ°çš„ç»“æœæˆ‘ä»¬æ— æ³•åŒºåˆ†</strong></p>
<p><strong>æ»¤æ³¢Filteringï¼šå»æ‰ä¸€ç³»åˆ—ç‰¹å®šé¢‘ç‡</strong></p>
</blockquote>
<p>é«˜é€šæ»¤æ³¢ï¼šå»æ‰ä½é¢‘ä¿¡å· - é”åŒ–ã€å‰©ä½™è¾¹ç•Œ</p>
<p>ä½é€šæ»¤æ³¢ï¼šå»æ‰é«˜é¢‘ä¿¡å· - æ¨¡ç³Š</p>
<ul>
<li>
<p>æ»¤æ³¢Filtering = å·ç§¯convolution</p>
</li>
<li>
<p>æ—¶åŸŸä¸Šçš„å·ç§¯ = é¢‘åŸŸä¸Šçš„ä¹˜ç§¯</p>
</li>
<li>
<p>ä»é¢‘ç‡ä¸Šè¯´ï¼šé‡‡æ ·Sampling = é‡å¤Repeating</p>
</li>
</ul>
<p>å¦‚ä½•å‡å°‘èµ°æ ·é—®é¢˜</p>
<ul>
<li>å¢åŠ é‡‡æ ·ç‡</li>
<li>åèµ°æ ·ï¼šå…ˆæ¨¡ç³Šï¼ˆä½é€šæ»¤æ³¢ï¼‰å†é‡‡æ ·</li>
</ul>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403212332833.png" alt="image-20240321233214688" style="zoom:50%;" />
<h2 id="Antialiasing-By-Supersampling">Antialiasing By Supersampling</h2>
<h3 id="MSAA-Multisample-Anti-Aliasing">MSAA - Multisample Anti-Aliasing</h3>
<p>ä½¿ç”¨æ›´å¤šçš„é‡‡æ ·ç‚¹è¿‘ä¼¼åœ°æ”¹å–„èµ°æ · - ä¿¡å·çš„æ¨¡ç³Š</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403212337411.png" alt="image-20240321233735273" style="zoom:50%;" />
<p>ä»£ä»·ï¼šå¢åŠ äº†è®¡ç®—é‡</p>
<h3 id="FXAA-Fast-Approximate-Anti-Aliasing">FXAA - Fast Approximate Anti-Aliasing</h3>
<p>å›¾åƒçš„åæœŸå¤„ç† - æ›¿æ¢æœ‰é”¯é½¿çš„è¾¹ç•Œ</p>
<p>å’Œé‡‡æ ·æœ¬èº«æ— å…³</p>
<h3 id="TAA-Temporal-Anti-Aliasing">TAA - Temporal Anti-Aliasing</h3>
<p>æŠŠMSAAå¢åŠ çš„é‡‡æ ·ç‚¹åˆ†å¸ƒåœ¨æ—¶é—´ç»´åº¦ä¸Š</p>
<p>å¸§ä¸å¸§ä¹‹é—´é‡‡æ ·ç‚¹ä¸åŒï¼Œé€šè¿‡ä¸ä¸Šä¸€å¸§çš„æ¯”è¾ƒè¿›è¡Œåèµ°æ ·</p>
<h3 id="è¶…åˆ†è¾¨ç‡-Super-Resolution">è¶…åˆ†è¾¨ç‡ Super Resolution</h3>
<ul>
<li>è¶…åˆ†è¾¨ç‡æ˜¯å°†ä½åˆ†è¾¨ç‡æ˜ å°„è‡³é«˜åˆ†è¾¨ç‡æ—¶è¿›è¡Œçš„ç”»é¢ä¼˜åŒ–</li>
<li>æŸç§ç¨‹åº¦ä¸Šå’Œåèµ°æ ·å¼‚æ›²åŒå·¥ï¼Œæœ¬è´¨ç›¸åŒ</li>
<li>DLSS (Deep Learning Super Sampling)</li>
</ul>
<h1>Lecture 07 Shading 1 (Illumination, Shading and Graphics Pipeline)</h1>
<h2 id="ç”»å®¶ç®—æ³•-Painterâ€™s-Algorithm">ç”»å®¶ç®—æ³• Painterâ€™s Algorithm</h2>
<p>ç±»ä¼¼æ²¹ç”»çš„ç®—æ³•ï¼šå…ˆç”»è¿œå¤„çš„ï¼Œåç”»çš„ä¼šè¦†ç›–å…ˆç”»çš„</p>
<ul>
<li>
<p>éœ€è¦è¿›è¡Œæ·±åº¦æ’åºï¼Œå¯¹äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>ä¸ªä¸‰è§’å½¢éœ€è¦<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p>
</li>
<li>
<p>åœ¨å¤„ç†ç±»ä¼¼ä¸‹é¢çš„æƒ…å†µä¼šå‘ç”Ÿé—®é¢˜</p>
</li>
</ul>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403242138614.png" alt="image-20240324213827464" style="zoom:50%;" />
<h2 id="Z-Buffer">Z-Buffer</h2>
<ul>
<li>å¯¹æ¯ä¸ªåƒç´ è®°å½•å½“å‰çš„æœ€å°zå€¼</li>
<li>éœ€è¦ä¸€ä¸ªé¢å¤–çš„Bufferè®°å½•æ·±åº¦å€¼ï¼šFrame Bufferè®°å½•é¢œè‰²å€¼ï¼ŒDepth Bufferè®°å½•æ·±åº¦å€¼</li>
</ul>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403242141861.png" alt="image-20240324214127685" style="zoom:50%;" />
<h3 id="Algorithm">Algorithm</h3>
<ul>
<li>
<p>å°†æ‰€æœ‰çš„æ·±åº¦å€¼åˆå§‹åŒ–ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ</mi></mrow><annotation encoding="application/x-tex">\infin</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord">âˆ</span></span></span></span></p>
</li>
<li>
<p>åœ¨å…‰æ …åŒ–æ—¶ï¼š</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (each trangle T) &#123;</span><br><span class="line">    <span class="keyword">for</span> (each <span class="built_in">sample</span>(x, y, z) in T) &#123;</span><br><span class="line">        <span class="keyword">if</span> (z &lt; depthBuffer[x, y]) &#123;</span><br><span class="line">            frameBuffer[x, y] = rgb;</span><br><span class="line">            depthBuffer[x, y] = z;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            ...</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>Complexityï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p>
</li>
<li>
<p>å’Œè®¡ç®—é¡ºåºæ— å…³</p>
</li>
</ul>
<h2 id="ç€è‰²-Shading">ç€è‰² Shading</h2>
<blockquote>
<p><strong>ç€è‰²ï¼šå‘ç‰©ä½“åº”ç”¨æè´¨çš„è¿‡ç¨‹</strong></p>
</blockquote>
<h3 id="ä¸€ä¸ªç®€å•çš„ç€è‰²æ¨¡å‹ï¼šBlinn-Phong-Reflectance-Model">ä¸€ä¸ªç®€å•çš„ç€è‰²æ¨¡å‹ï¼šBlinn-Phong Reflectance Model</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403242205009.png" alt="image-20240324220557877" style="zoom:50%;" />
<ul>
<li>View direction - v</li>
<li>Surface normal - n</li>
<li>Light direction - l</li>
<li>Surface parameters - colors, shininessâ€¦</li>
</ul>
<p>Shading is Local: shading â‰  shadow</p>
<h4 id="æ¼«åå°„-Diffuse-Reflection">æ¼«åå°„ Diffuse Reflection</h4>
<ul>
<li>å…‰çº¿ä¼šå‡åŒ€åœ°æ•£å°„å‘å„ä¸ªæ–¹å‘</li>
</ul>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403242209917.png" alt="image-20240324220949796" style="zoom:50%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403242213527.png" alt="image-20240324221351392" style="zoom:50%;" />
<ul>
<li>éœ€è¦è€ƒè™‘æ¥æ”¶åˆ°å…‰çš„èƒ½é‡ï¼šLambertâ€™s cosine lawï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mi>o</mi><mi>s</mi><mi>Î¸</mi><mo>=</mo><mi>l</mi><mo>âˆ—</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">cos\theta = l *n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">cos</span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></li>
</ul>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403242216385.png" alt="image-20240324221643233" style="zoom:50%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403242217528.png" alt="image-20240324221723383" style="zoom:50%;" />
<p>å…¬å¼ï¼š</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>L</mi><mi>d</mi></msub><mo>=</mo><msub><mi>k</mi><mi>d</mi></msub><mo stretchy="false">(</mo><mi>I</mi><mi mathvariant="normal">/</mi><msup><mi>r</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>n</mi><mo>âˆ—</mo><mi>l</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L_d = k_d(I/r^2)max(0,n \ast l)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord">/</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">)</span></span></span></span></span></p>
<h1>Lecture 08 Shading 2 (Shading, Pipeline and Texture Mapping)</h1>
<h2 id="é•œé¢åå°„é¡¹-Specular-Term-Blinn-Phong">é•œé¢åå°„é¡¹ Specular Term (Blinn-Phong)</h2>
<p>å½“è§‚å¯Ÿå‘é‡å’Œåå°„å‘é‡è¶³å¤Ÿæ¥è¿‘æ—¶ï¼Œå°±ä¼šå‡ºç°é«˜å…‰ç°è±¡</p>
<p>Blinn-Phongæ¨¡å‹ï¼šå½“è§‚å¯Ÿå‘é‡å’Œåå°„å‘é‡å¾ˆæ¥è¿‘æ—¶ï¼Œå°±è¯´æ˜åŠç¨‹å‘é‡ï¼ˆhalf vectorï¼‰å’Œæ³•çº¿å¾ˆæ¥è¿‘</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403252254502.png" alt="image-20240325225419328" style="zoom:50%;" />
<p><em>Blinn-Phongç®€åŒ–äº†è¢«å¸æ”¶çš„å…‰ï¼Œçœç•¥äº†<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>n</mi><mo>âˆ—</mo><mi>l</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">max(0, n\ast l)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">)</span></span></span></span>â€‹</em></p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi>L</mi><mi>s</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>k</mi><mi>s</mi></msub><mo stretchy="false">(</mo><mi>I</mi><mi mathvariant="normal">/</mi><msup><mi>r</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>cos</mi><mo>â¡</mo><mi>Î±</mi><msup><mo stretchy="false">)</mo><mi>p</mi></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>k</mi><mi>s</mi></msub><mo stretchy="false">(</mo><mi>I</mi><mi mathvariant="normal">/</mi><msup><mi>r</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>n</mi><mo>âˆ—</mo><mi>h</mi><msup><mo stretchy="false">)</mo><mi>p</mi></msup></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}
L_s &amp; = k_s(I/r^2)max(0,\cos\alpha)^p \\
&amp; = k_s(I/r^2)max(0,n\ast h)^p
\end{aligned}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0482em;vertical-align:-1.2741em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7741em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3859em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2741em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7741em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord">/</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span></span></span><span style="top:-2.3859em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord">/</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">h</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2741em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>ä¸ºä»€ä¹ˆä¼šæœ‰pæ¬¡æ–¹ï¼šç›´æ¥ç”¨coså‡½æ•°çš„å®¹å¿åº¦å¤ªé«˜äº†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸€èˆ¬Blinn-Phongæ¨¡å‹ä¸­på–100~200</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403252258203.png" alt="image-20240325225858065" style="zoom:50%;" />
<h2 id="ç¯å¢ƒå…‰ç…§é¡¹-Ambient-Term">ç¯å¢ƒå…‰ç…§é¡¹ Ambient Term</h2>
<p>çœŸå®çš„ç¯å¢ƒå…‰æåº¦å¤æ‚ï¼Œå¾ˆéš¾ç›´æ¥è¿›è¡Œæ¨¡æ‹Ÿ</p>
<p>åœ¨è¿™é‡Œç›´æ¥å‡è®¾æ‰€æœ‰ç‰©ä½“æ”¶åˆ°çš„ç¯å¢ƒå…‰æ°¸è¿œéƒ½æ˜¯ç›¸åŒçš„</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>L</mi><mi>a</mi></msub><mo>=</mo><msub><mi>k</mi><mi>a</mi></msub><msub><mi>I</mi><mi>a</mi></msub></mrow><annotation encoding="application/x-tex">L_a = k_a I_a
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p><em>è¿™æ˜¯ä¸€ä¸ªä¼°å€¼ã€ä¸€ä¸ªå‡è®¾</em></p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403252305304.png" alt="image-20240325230543165" style="zoom:50%;" />
<p>ç¯å¢ƒå…‰å’Œè§‚å¯Ÿè§’åº¦ã€å…¥å°„è§’åº¦ã€æ³•çº¿éƒ½æ— å…³ï¼Œå…¶æ˜¯ä¸€ä¸ªå¸¸æ•°</p>
<h2 id="Blinn-Phongåå°„æ¨¡å‹">Blinn-Phongåå°„æ¨¡å‹</h2>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>L</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>L</mi><mi>a</mi></msub><mo>+</mo><msub><mi>L</mi><mi>d</mi></msub><mo>+</mo><msub><mi>L</mi><mi>s</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>k</mi><mi>a</mi></msub><msub><mi>I</mi><mi>a</mi></msub><mo>+</mo><msub><mi>k</mi><mi>d</mi></msub><mo stretchy="false">(</mo><mi>I</mi><mi mathvariant="normal">/</mi><msup><mi>r</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>n</mi><mo>âˆ—</mo><mi>l</mi><mo stretchy="false">)</mo><mo>+</mo><msub><mi>k</mi><mi>s</mi></msub><mo stretchy="false">(</mo><mi>I</mi><mi mathvariant="normal">/</mi><msup><mi>r</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>n</mi><mo>âˆ—</mo><mi>h</mi><msup><mo stretchy="false">)</mo><mi>p</mi></msup></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}
L &amp; = L_a + L_d + L_s \\
&amp; = k_a I_a + k_d(I/r^2)max(0,n \ast l) + k_s(I/r^2)max(0,n\ast h)^p
\end{aligned}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0241em;vertical-align:-1.2621em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7621em;"><span style="top:-3.9221em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">L</span></span></span><span style="top:-2.3979em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2621em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7621em;"><span style="top:-3.9221em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3979em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord">/</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord">/</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">h</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2621em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403252311840.png" alt="image-20240325231149673" style="zoom:50%;" />
<h2 id="ç€è‰²é¢‘ç‡-Shading-Frequencies">ç€è‰²é¢‘ç‡ Shading Frequencies</h2>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403252313316.png" alt="image-20240325231345179" style="zoom:50%;" />
<p>è¿™ä¸‰ä¸ªçƒçš„å‡ ä½•è¡¨ç¤ºå…¶å®å®Œå…¨ç›¸åŒï¼Œåªæ˜¯ç€è‰²é¢‘ç‡çš„åŒºåˆ«</p>
<p>ä¸‰ä¸ªçƒåˆ†åˆ«å¯¹åº”ï¼šå¯¹å¹³é¢ç€è‰²ã€å¯¹é¡¶ç‚¹ç€è‰²ï¼ˆä½¿ç”¨å·®å€¼è®¡ç®—å†…éƒ¨é¢œè‰²ï¼‰ã€å¯¹åƒç´ ï¼ˆä½¿ç”¨å·®å€¼è®¡ç®—å†…éƒ¨æ³•çº¿ï¼‰ç€è‰²</p>
<h3 id="å¹³é¢ç€è‰²-Shade-each-triangle-flat-shading">å¹³é¢ç€è‰² Shade each triangle (flat shading)</h3>
<ul>
<li>ä¸‰è§’å½¢æ˜¯ä¸€ä¸ªé¢ï¼Œæœ‰ä¸€æ¡æ³•çº¿</li>
<li>å¯¹å…‰æ»‘å¹³é¢æ¥è¯´æ•ˆæœå¹¶ä¸å¥½</li>
</ul>
<h3 id="é«˜æ´›å¾·ç€è‰²-Shade-each-vertex-Gouraud-shading">é«˜æ´›å¾·ç€è‰² Shade each vertex (Gouraud shading)</h3>
<ul>
<li>é€šè¿‡é¡¶ç‚¹å·®å€¼è®¡ç®—åƒç´ çš„é¢œè‰²</li>
<li>æ¯ä¸ªé¡¶ç‚¹æœ‰ä¸€æ¡æ³•çº¿</li>
</ul>
<h3 id="å¤ç½—ç€è‰²-Shade-each-pixel-Phong-shading">å¤ç½—ç€è‰² Shade each pixel (Phong shading)</h3>
<ul>
<li>é€šè¿‡é¡¶ç‚¹å·®å€¼è®¡ç®—åƒç´ çš„æ³•çº¿</li>
<li>ä¸ºæ¯ä¸ªåƒç´ åº”ç”¨ç€è‰²æ¨¡å‹</li>
</ul>
<h3 id="ç€è‰²æ–¹æ³•çš„æ¯”è¾ƒ">ç€è‰²æ–¹æ³•çš„æ¯”è¾ƒ</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403252325256.png" alt="image-20240325232509091" style="zoom:50%;" />
<p>å½“æ¨¡å‹é¢æ•°å¾ˆé«˜æ—¶ï¼Œç®€å•çš„ç€è‰²æ¨¡å‹æ•ˆæœä¹Ÿä¼šä¸é”™</p>
<h3 id="é¡¶ç‚¹-åƒç´ æ³•çº¿çš„è®¡ç®—">é¡¶ç‚¹/åƒç´ æ³•çº¿çš„è®¡ç®—</h3>
<ul>
<li>é¡¶ç‚¹æ³•çº¿ï¼šé¡¶ç‚¹å‘¨å›´é¢çš„æ³•çº¿çš„å¹³å‡ï¼ˆæ™®é€šæˆ–åŠ æƒï¼‰</li>
</ul>
<p>é€šè¿‡é¡¶ç‚¹æ³•çº¿å·®å€¼è®¡ç®—åƒç´ æ³•çº¿</p>
<h2 id="å›¾å½¢ï¼ˆå®æ—¶æ¸²æŸ“ï¼‰ç®¡çº¿-Graphics-Real-time-Rendering-Pipeline">å›¾å½¢ï¼ˆå®æ—¶æ¸²æŸ“ï¼‰ç®¡çº¿ Graphics (Real-time Rendering) Pipeline</h2>
<p>ç®¡çº¿ï¼šå¦‚ä½•ä»åœºæ™¯åˆ°å›¾</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403252331445.png" alt="image-20240325233137272" style="zoom:50%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403252337141.png" alt="image-20240325233721974" style="zoom:50%;" />
<h3 id="Shader-Programs">Shader Programs</h3>
<ul>
<li>ç¼–å†™é¡¶ç‚¹å’Œç‰‡å…ƒçš„å¤„ç†ç­–ç•¥</li>
<li>æè¿°ä¸€ä¸ªå•ä¸€é¡¶ç‚¹æˆ–ç‰‡å…ƒçš„æ“ä½œï¼ˆä¼šåº”ç”¨åˆ°æ‰€æœ‰é¡¶ç‚¹/ç‰‡å…ƒä¸Šï¼‰</li>
</ul>
<h2 id="çº¹ç†æ˜ å°„-Texture-Mapping">çº¹ç†æ˜ å°„ Texture Mapping</h2>
<blockquote>
<p><strong>å®šä¹‰ä»»ä½•ä¸€ä¸ªç‚¹çš„å±æ€§</strong></p>
</blockquote>
<p>ä»»ä½•ä¸€ä¸ªä¸‰ç»´ç‰©ä½“çš„è¡¨é¢å…¶å®æ˜¯äºŒç»´çš„ï¼Œçº¹ç†å°±æ˜¯ä¸‰ç»´ç‰©ä½“è¡¨é¢å†å¼€åçš„äºŒç»´é¢</p>
<p>æ¨¡å‹ä¸Šçš„æ¯ä¸ªä¸‰è§’å½¢é¡¶ç‚¹éƒ½ä¼šè¢«åˆ†é…ç»™çº¹ç†ä¸Šçš„ä¸€ä¸ªåæ ‡ï¼ˆu,vï¼‰</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403252352771.png" alt="image-20240325235251522" style="zoom:50%;" />
<p>çº¹ç†å¯ä»¥è¢«å¤šæ¬¡æ˜ å°„</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403252354483.png" alt="image-20240325235422215" style="zoom:50%;" />
<h1>Lecture 09 Shading 3 (Texture Mapping Cont.)</h1>
<h2 id="åœ¨ä¸‰è§’å½¢å†…éƒ¨è¿›è¡Œæ’å€¼ï¼šé‡å¿ƒåæ ‡-Barycentric-Cooridnates">åœ¨ä¸‰è§’å½¢å†…éƒ¨è¿›è¡Œæ’å€¼ï¼šé‡å¿ƒåæ ‡ Barycentric Cooridnates</h2>
<h3 id="å®šä¹‰">å®šä¹‰</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403262156699.png" alt="image-20240326215604537" style="zoom:50%;" />
<p><em>é‡å¿ƒåæ ‡æ˜¯å®šä¹‰åœ¨æŸä¸€ä¸‰è§’å½¢ä¸Šçš„</em></p>
<p>ç»™å®šä»»æ„ä¸€ä¸ªä¸‰è§’å½¢ï¼Œå…¶å¹³é¢ä¸Šä»»æ„ç‚¹çš„åæ ‡éƒ½å¯ä»¥è¡¨ç¤ºä¸ºå…¶é¡¶ç‚¹åæ ‡çš„çº¿æ€§ç»„åˆ</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>Î±</mi><mi>A</mi><mo>+</mo><mi>Î²</mi><mi>B</mi><mo>+</mo><mi>Î³</mi><mi>C</mi><mspace linebreak="newline"></mspace><mi>Î±</mi><mo>+</mo><mi>Î²</mi><mo>+</mo><mi>Î³</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">(x,y) = \alpha A + \beta B + \gamma C \\
\alpha + \beta + \gamma = 1
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">Î²B</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span></p>
<p>å¯¹äºåæ ‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x,y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>Î±</mi><mo separator="true">,</mo><mi>Î²</mi><mo separator="true">,</mo><mi>Î³</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\alpha,\beta,\gamma)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="mclose">)</span></span></span></span>ä¾¿æ˜¯å…¶é‡å¿ƒåæ ‡</p>
<p>è€Œå¯¹äºä¸‰è§’å½¢å†…éƒ¨çš„ç‚¹ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi><mo>&gt;</mo><mn>0</mn><mtext>ä¸”</mtext><mi>Î²</mi><mo>&gt;</mo><mn>0</mn><mtext>ä¸”</mtext><mi>Î³</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\alpha&gt;0ä¸”\beta&gt;0ä¸”\gamma&gt;0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mord cjk_fallback">ä¸”</span><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mord cjk_fallback">ä¸”</span><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403262203840.png" alt="image-20240326220337674" style="zoom:50%;" />
<p>è€Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi><mtext>ã€</mtext><mi>Î²</mi><mtext>ã€</mtext><mi>Î³</mi></mrow><annotation encoding="application/x-tex">\alphaã€\betaã€\gamma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mord cjk_fallback">ã€</span><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span><span class="mord cjk_fallback">ã€</span><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span></span></span></span>çš„å€¼å¯ä»¥é€šè¿‡é¢ç§¯æ¯”å¾—åˆ°</p>
<p>ç”±ä¸Šè¿°æ¨å¯¼å¯å¾—ï¼Œä¸‰è§’å½¢çš„é‡å¿ƒçš„é‡å¿ƒåæ ‡ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mfrac><mn>1</mn><mn>3</mn></mfrac><mo separator="true">,</mo><mfrac><mn>1</mn><mn>3</mn></mfrac><mo separator="true">,</mo><mfrac><mn>1</mn><mn>3</mn></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\frac{1}{3},\frac{1}{3},\frac{1}{3})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span></p>
<h3 id="åº”ç”¨">åº”ç”¨</h3>
<p>æˆ‘ä»¬å¯ä»¥ç”¨é‡å¿ƒåæ ‡å¾—åˆ°ä¸‰è§’å½¢å†…éƒ¨ä»»æ„ç‚¹çš„æ’å€¼</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403262207274.png" alt="image-20240326220755100" style="zoom:50%;" />
<p>é‡å¿ƒåæ ‡è™½å¥½ç”¨ï¼Œä½†æ˜¯å…¶ä¸èƒ½ä¿è¯åœ¨æŠ•å½±åé‡å¿ƒåæ ‡ä¸å˜ï¼Œæˆ‘ä»¬ç†è®ºä¸Šä¸åº”è¯¥å¯¹æŠ•å½±åçš„ä¸‰è§’å½¢åº”ç”¨é‡å¿ƒåæ ‡è¿›è¡Œæ’å€¼ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨é€†å˜æ¢å¾—åˆ°å…¶åŸæ¥çš„ä¸‰ç»´åæ ‡ï¼Œå†å¯¹ä¸‰ç»´åæ ‡è¿›è¡Œè®¡ç®—</p>
<h2 id="åº”ç”¨çº¹ç†">åº”ç”¨çº¹ç†</h2>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡é‡‡æ ·å¾—åˆ°é‡‡æ ·ç‚¹/å±å¹•åæ ‡è®¡ç®—å¾—åˆ°å…¶å¯¹åº”çš„uvå€¼ï¼Œç„¶åæ ¹æ®uvå€¼ä»çº¹ç†ä¸Šå¾—åˆ°å¯¹åº”çš„é¢œè‰²ï¼Œä¹‹åé€šè¿‡å…‰ç…§åå°„æ¨¡å‹ï¼ˆæ¯”å¦‚Blinn-Phongï¼‰å°†é¢œè‰²åº”ç”¨åˆ°åå°„ç³»æ•°ä¸Šäº†</p>
<p>ä½†æ˜¯è¿™æ ·ä¼šå¸¦æ¥ä¸€äº›é—®é¢˜ï¼š</p>
<h3 id="çº¹ç†æ”¾å¤§-Texture-Magnification">çº¹ç†æ”¾å¤§ Texture Magnification</h3>
<h4 id="å¦‚æœçº¹ç†å¤ªå°äº†">å¦‚æœçº¹ç†å¤ªå°äº†</h4>
<p>å¦‚æœçº¹ç†å¾ˆå°ä½†æ˜¯åˆ†è¾¨ç‡å¾ˆé«˜ï¼Œçº¹ç†å°±ä¼šè¢«æ‹‰å¤§</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403262219466.png" alt="image-20240326221920235" style="zoom:50%;" />
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ç®€å•çš„å››èˆäº”å…¥æ‰¾æœ€ä½³çš„ç‚¹æ¥è§£å†³è¿™ä¸€ç‚¹ï¼Œè¿™æ ·ä¸€ä¸ªtexelå°±ä¼šè¢«æ˜ å°„åˆ°å¤šä¸ªä¸´è¿‘pixelä¸Šï¼Œä½†è¿™ä¼šå¸¦æ¥å¾ˆå¤šé”¯é½¿</p>
<p>ä¸€äº›æ–¹æ³•å¯ä»¥æ”¹å–„è¿™ä¸€é—®é¢˜</p>
<ul>
<li>åŒçº¿æ€§æ’å€¼ Bilinear Interpolation</li>
</ul>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403262226072.png" alt="image-20240326222613903" style="zoom:50%;" />
<ul>
<li>åŒä¸‰æ¬¡æ’å€¼ Bicubic Interpolation</li>
</ul>
<p>å¼€é”€æ›´å¤§ï¼Œæ•ˆæœæ›´å¥½</p>
<h4 id="å¦‚æœçº¹ç†å¤ªå¤§äº†">å¦‚æœçº¹ç†å¤ªå¤§äº†</h4>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403262235004.png" alt="image-20240326223554785" style="zoom:50%;" />
<p>æ¯ä¸ªåƒç´ è¦†ç›–çš„texelæ•°é‡ä¸åŒï¼Œæœ‰çš„åƒç´ è¦†ç›–äº†è¿‡å¤šçš„texel</p>
<p>è¶…é‡‡æ ·å¯ä»¥ä¸€å®šç¨‹åº¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯è¿™å¼€é”€å¤ªé«˜äº†</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403262240347.png" alt="image-20240326224000188" style="zoom:50%;" />
<p><em>èŒƒå›´æŸ¥è¯¢</em></p>
<p>Mipmapï¼šå…è®¸è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ï¼ˆå¿«é€Ÿï¼Œè¿‘ä¼¼ï¼Œæ­£æ–¹å½¢ï¼‰</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403262241414.png" alt="image-20240326224136187" style="zoom:50%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403262249570.png" alt="image-20240326224907408" style="zoom:50%;" />
<p>ä¸‰çº¿æ€§æ’å€¼</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403262252400.png" alt="image-20240326225258233" style="zoom:50%;" />
<p>Mipmapå¯èƒ½è®©è¿œå¤„çš„ç»†èŠ‚ç³Šæ‰ï¼šOverblur</p>
<p>ä¸€ä¸ªæ–¹æ³•å¯ä»¥ä¸€å®šç¨‹åº¦æ”¹å–„è¿™ä¸€é—®é¢˜ï¼šå„å‘å¼‚æ€§è¿‡æ»¤ Anisotropic Filtering</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403262257700.png" alt="image-20240326225758529" style="zoom:50%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403262258957.png" alt="image-20240326225814755" style="zoom:50%;" />
<p>å„å‘å¼‚æ€§è¿‡æ»¤ä¼šå°†å›¾ç‰‡æŒ‰é•¿å®½åˆ†åˆ«è¿›è¡Œå‹ç¼©ä»è€Œå¾—ä»¥æ”¯æŒçŸ©å½¢çš„èŒƒå›´æŸ¥è¯¢ï¼Œæ”¹å–„äº†Mipmapåªæ”¯æŒæ­£æ–¹å½¢çš„é—®é¢˜</p>
<p>å…¶å¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šè§£å†³é—®é¢˜ï¼Œä½†æ˜¯å¯¹äºä¸€äº›éå¸¸éš¾æçš„æƒ…å†µï¼Œæ¯”å¦‚å®é™…çš„æ˜ å°„èŒƒå›´æ˜¯æ–œç€çš„ï¼Œå…¶ä»ç„¶å­˜åœ¨èµ°æ ·çš„æƒ…å†µ</p>
<p>å› æ­¤äººä»¬è¿˜å‘æ˜äº†ä¸€äº›å…¶ä»–æ–¹æ³•ï¼šEWA - é€šè¿‡å°†èŒƒå›´è½¬å˜ä¸ºåœ†å½¢è¿›è¡Œå¤šæ¬¡æŸ¥è¯¢</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202403262301401.png" alt="image-20240326230142240" style="zoom:50%;" />
<h2 id="çº¹ç†çš„å¹¿æ³›ä½œç”¨">çº¹ç†çš„å¹¿æ³›ä½œç”¨</h2>
<blockquote>
<p>çº¹ç†æœ¬è´¨ä¸Šå¯ä»¥è¢«ç†è§£ä¸ºä¸€å—å¯ä»¥è¿›è¡ŒæŸ¥è¯¢çš„å†…å­˜ï¼ˆæ•°æ®ï¼‰</p>
</blockquote>
<h3 id="ç¯å¢ƒå…‰æ˜ å°„-ç¯å¢ƒå…‰è´´å›¾-Environment-Map">ç¯å¢ƒå…‰æ˜ å°„ / ç¯å¢ƒå…‰è´´å›¾ Environment Map</h3>
<p>ç”¨çº¹ç†çƒæè¿°ç¯å¢ƒå…‰ Spherical Enviroment Map</p>
<p>é—®é¢˜ï¼šé è¿‘æç‚¹ä¼šäº§ç”Ÿæ‰­æ›² - Cube Map</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404092312558.png" alt="image-20240409231234338" style="zoom:50%;" />
<h3 id="å‡¹å‡¸è´´å›¾-æ³•çº¿è´´å›¾">å‡¹å‡¸è´´å›¾ / æ³•çº¿è´´å›¾</h3>
<p>çº¹ç†ä¸ä¸€å®šåªèƒ½ç”¨æ¥è¡¨ç¤ºé¢œè‰²ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨çº¹ç†æ¥è¡¨ç¤ºå‡¹å‡¸</p>
<p>è¿™å¯ä»¥åœ¨ä¸æ”¹å˜æ¨¡å‹çš„æƒ…å†µä¸‹åˆ¶é€ å‡¹å‡¸çš„è§†è§‰æ•ˆæœ</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404092322745.png" alt="image-20240409232251581" style="zoom:50%;" />
<p>ä½ç§»è´´å›¾ Displacement map ä¼šçœŸçš„æ”¹å˜é¡¶ç‚¹ï¼Œä½†æ˜¯è¦æ±‚æ¨¡å‹è¶³å¤Ÿç»†è‡´</p>
<h3 id="3Dçº¹ç†">3Dçº¹ç†</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404092324084.png" alt="image-20240409232421871" style="zoom:50%;" />
<h3 id="é¢„è®¡ç®—ç€è‰²">é¢„è®¡ç®—ç€è‰²</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404092325567.png" alt="image-20240409232558384" style="zoom:50%;" />
<h3 id="ä½“æ¸²æŸ“">ä½“æ¸²æŸ“</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404092327410.png" alt="image-20240409232729220" style="zoom:50%;" />
<h1>Lecture 10 Geometry 1 (Introduction)</h1>
<h2 id="å¦‚ä½•è¡¨ç¤ºå‡ ä½•">å¦‚ä½•è¡¨ç¤ºå‡ ä½•</h2>
<h3 id="éšå¼-Implicit">éšå¼ Implicit</h3>
<blockquote>
<p>åŸºäºæ»¡è¶³ç‰¹å®šå…³ç³»çš„ç‚¹çš„é›†åˆ</p>
</blockquote>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404092336071.png" alt="image-20240409233629874" style="zoom:50%;" />
<ul>
<li>å¾ˆéš¾ç›´è§‚åœ°æè¿°å‡ ä½•å½¢ä½“ï¼Œéš¾ä»¥ç¡®å®šå…·ä½“æœ‰å“ªäº›ç‚¹åœ¨å‡ ä½•è¡¨é¢</li>
<li>æ˜“äºåˆ¤å®šç»™å®šç‚¹ä¸å‡ ä½•çš„ç›¸å¯¹ä½ç½®å…³ç³»ï¼Œæ˜¯å¦åœ¨å‡ ä½•å†…/å¤–</li>
</ul>
<h3 id="æ˜¾å¼-Explicit">æ˜¾å¼ Explicit</h3>
<blockquote>
<p>æ‰€æœ‰ç‚¹éƒ½ç›´æ¥æ˜¾å¼ç»™äºˆæˆ–é€šè¿‡å‚æ•°æ˜ å°„ï¼ˆuvï¼‰ç»™äºˆ</p>
</blockquote>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404092339411.png" alt="image-20240409233958221"></p>
<ul>
<li>æ˜“äºè¿›è¡Œç›´è§‚åœ°æè¿°</li>
<li>ä½†éš¾ä»¥åˆ¤å®šç‚¹æ˜¯å¦åœ¨å‡ ä½•å†…/å¤–</li>
</ul>
<h2 id="å‡ ä½•è¡¨ç¤ºæ³•">å‡ ä½•è¡¨ç¤ºæ³•</h2>
<h3 id="ç›´æ¥é€šè¿‡ç®—æœ¯æ–¹æ³•è¡¨ç¤º-Implicit">ç›´æ¥é€šè¿‡ç®—æœ¯æ–¹æ³•è¡¨ç¤º - Implicit</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404092345841.png" alt="image-20240409234509657" style="zoom:50%;" />
<h3 id="æ„é€ å®ä½“é›†åˆ-Constructive-Solid-Geometry-Implicit">æ„é€ å®ä½“é›†åˆ Constructive Solid Geometry - Implicit</h3>
<p>é€šè¿‡å®šä¹‰ç®€å•çš„åŸºæœ¬å‡ ä½•ä¸åŸºæœ¬è¿ç®—ç»„åˆå‡ºå¤æ‚å‡ ä½•</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404092346733.png" alt="image-20240409234633507" style="zoom:50%;" />
<h3 id="è·ç¦»å‡½æ•°-Distance-Functions-Implicit">è·ç¦»å‡½æ•° Distance Functions - Implicit</h3>
<p>å®šä¹‰è·ç¦»å‡½æ•°æ¥è¡¨ç¤ºå‡ ä½•ï¼šç”¨ç©ºé—´ä¸­çš„æ¯ä¸ªç‚¹åˆ°è¾¹ç•Œçš„æœ€ä½³è·ç¦»æ¥æè¿°å‡ ä½• - SDF</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404092347498.png" alt="image-20240409234744278" style="zoom:50%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404092348094.png" alt="image-20240409234819893" style="zoom:50%;" />
<p>ä»»æ„ä¸¤ä¸ªè·ç¦»å‡½æ•°éƒ½å¯ä»¥è¢«å¾ˆå¥½åœ°Blend</p>
<p>è·ç¦»å‡½æ•°çš„è¡¨ç¤ºèƒ½åŠ›éå¸¸å¼º</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404092352466.png" alt="image-20240409235257267" style="zoom:50%;" />
<h3 id="åˆ†å½¢-Implicit">åˆ†å½¢ - Implicit</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404092354694.png" alt="image-20240409235412470" style="zoom:50%;" />
<h1>Lecture 11 Geometry 2 (Curves and Surfaces)</h1>
<h2 id="å‡ ä½•è¡¨ç¤ºæ³•-2">å‡ ä½•è¡¨ç¤ºæ³•</h2>
<h3 id="ç‚¹äº‘-Point-Cloud-Explicit">ç‚¹äº‘ Point Cloud - Explicit</h3>
<p>æœ€ç®€å•çš„æ˜¾å¼è¡¨ç¤ºæ³• - ä¸€ä¸ªç‚¹çš„åˆ—è¡¨</p>
<p>æ‰«æç›´æ¥å¾—åˆ°çš„ä¸‰ç»´æ•°æ®é€šå¸¸æ˜¯ç‚¹äº‘</p>
<h3 id="å¤šè¾¹å½¢é¢-Polygon-Mesh-Explicit">å¤šè¾¹å½¢é¢ Polygon Mesh - Explicit</h3>
<p>æœ€å¸¸ç”¨çš„å½¢å¼</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404232222295.png" alt="image-20240423222236050" style="zoom: 50%;" />
<p><code>.obj</code>æœ€ç›´æ¥çš„æ–‡ä»¶æ ¼å¼</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404232223228.png" alt="image-20240423222321040" style="zoom:50%;" />
<h2 id="æ›²çº¿-Curves">æ›²çº¿ Curves</h2>
<h3 id="è´èµ›å°”æ›²çº¿">è´èµ›å°”æ›²çº¿</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404232226592.png" alt="image-20240423222657426" style="zoom:50%;" />
<h4 id="De-Casteljau-Algorithm">De Casteljau Algorithm</h4>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404232229954.png" alt="image-20240423222928765" style="zoom:50%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404232233365.png" alt="image-20240423223359167" style="zoom:50%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404232239942.png" alt="image-20240423223938757" style="zoom:50%;" />
<ul>
<li>ä»¿å°„å˜æ¢ä¸å˜</li>
<li>ä¸€å®šåœ¨å‡¸åŒ…å†…</li>
</ul>
<h4 id="åˆ†æ®µè´å¡å°”æ›²çº¿-Piecewise">åˆ†æ®µè´å¡å°”æ›²çº¿ Piecewise</h4>
<p>å½“è´å¡å°”æ›²çº¿æ§åˆ¶ç‚¹è¿‡å¤šæ—¶ï¼Œå®¹æ˜“å‡ºç°æ›²çº¿ä¸æ˜æ˜¾ä¸”ååˆ†è€—æ—¶çš„æƒ…å†µ</p>
<p>å¯ä»¥é€šè¿‡åˆ†æ®µæ±‚è§£è´å¡å°”æ›²çº¿æ¥è§£å†³è¿™ç‚¹</p>
<p>ä¸€èˆ¬ä¼šé‡‡ç”¨æ¯å››ä¸ªæ§åˆ¶ç‚¹ä¸€ç»„ï¼Œè¿™æœ‰åˆ©äºå¯¹æ›²çº¿çš„æ§åˆ¶</p>
<p>åªè¦ä¿è¯å¯¼æ•°è¿ç»­ä¾¿å¯ä»¥ä¿è¯è´å¡å°”æ›²çº¿çš„å…‰æ»‘</p>
<h3 id="å…¶ä»–æ›²çº¿">å…¶ä»–æ›²çº¿</h3>
<h4 id="Splines-æ ·æ¡">Splines - æ ·æ¡</h4>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404232249974.png" alt="image-20240423224901762" style="zoom:50%;" />
<h4 id="B-Splines">B-Splines</h4>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404232249699.png" alt="image-20240423224939546" style="zoom:50%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404232250769.png" alt="image-20240423225058605" style="zoom:50%;" />
<h2 id="æ›²é¢-Surfaces">æ›²é¢ Surfaces</h2>
<h3 id="è´å¡å°”æ›²é¢">è´å¡å°”æ›²é¢</h3>
<p>å¯ä»¥ç”¨è´å¡å°”æ›²çº¿å¾—åˆ°è´å¡å°”æ›²é¢</p>
<p>ç±»ä¼¼åŒçº¿æ€§æ’å€¼</p>
<h3 id="ç½‘æ ¼æ“ä½œï¼šå‡ ä½•å¤„ç†">ç½‘æ ¼æ“ä½œï¼šå‡ ä½•å¤„ç†</h3>
<ul>
<li>ç½‘æ ¼ç»†åˆ† Mesh subdivision</li>
<li>ç½‘æ ¼ç®€åŒ– Mesh simplification</li>
<li>ç½‘æ ¼æ­£è§„åŒ– Mesh regularization</li>
</ul>
<h1>Lecture 12 Geometry 3</h1>
<h2 id="ç½‘æ ¼ç»†åˆ†">ç½‘æ ¼ç»†åˆ†</h2>
<h3 id="Loop-Subdivision">Loop Subdivision</h3>
<ul>
<li>æŠŠæ¯ä¸ªä¸‰è§’å½¢åˆ†ä¸º4ä¸ª</li>
</ul>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404241048302.png" alt="image-20240424104823067" style="zoom:50%;" />
<ul>
<li>æ ¹æ®æƒé‡åˆ†é…æ–°çš„é¡¶ç‚¹</li>
</ul>
<p>å¯¹äºæ–°çš„é¡¶ç‚¹ï¼š</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404241049683.png" alt="image-20240424104950516" style="zoom:50%;" />
<p>å¯¹äºæ—§çš„é¡¶ç‚¹ï¼š</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404241050741.png" alt="image-20240424105058537" style="zoom:50%;" />
<h3 id="Catmull-Clark-Subdivision">Catmull-Clark Subdivision</h3>
<p>Loop Subdiversionåªèƒ½ä½œç”¨äºå…¨éƒ¨ç”±ä¸‰è§’å½¢æ„æˆçš„ç½‘æ ¼</p>
<p>è€ŒCatmull-Clarkç»†åˆ†å¯ä»¥ä½œç”¨äºæ‰€æœ‰çš„ç½‘æ ¼</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404241101142.png" alt="image-20240424110141944" style="zoom:50%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404241105123.png" alt="image-20240424110527959" style="zoom:50%;" />
<p>æ¯ä¸ªéå››è¾¹å½¢é¢åœ¨ä¸€æ¬¡C-Cç»†åˆ†åéƒ½ä¼šä¸ºå¢åŠ ä¸€ä¸ªå¥‡å¼‚ç‚¹ï¼Œä½†ä¸€æ¬¡ç»†åˆ†ä¹‹åï¼Œå¥‡å¼‚ç‚¹æ•°é‡ä¸å†æ”¹å˜</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404241108310.png" alt="image-20240424110807142" style="zoom:50%;" />
<h2 id="ç½‘æ ¼ç®€åŒ–">ç½‘æ ¼ç®€åŒ–</h2>
<p>ç›®æ ‡ï¼šå‡å°‘ç½‘æ ¼æ•°é‡ï¼Œä½†ä¿æŒæ•´ä½“çš„å½¢ä½“</p>
<h3 id="è¾¹åç¼©-Collapsing-An-Edge">è¾¹åç¼© Collapsing An Edge</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404241113525.png" alt="image-20240424111334348" style="zoom:50%;" />
<h4 id="äºŒæ¬¡è¯¯å·®åº¦é‡-Quadric-Error-Metrics">äºŒæ¬¡è¯¯å·®åº¦é‡ Quadric Error Metrics</h4>
<p>å†³å®šè¾¹åç¼©çš„ç›®æ ‡</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404241115784.png" alt="image-20240424111520623" style="zoom:50%;" />
<h4 id="é€šè¿‡äºŒæ¬¡åº¦é‡è¯¯å·®è¿›è¡Œç®€åŒ–">é€šè¿‡äºŒæ¬¡åº¦é‡è¯¯å·®è¿›è¡Œç®€åŒ–</h4>
<p>è®©æœ€ç»ˆç‚¹åˆ°å…¶ä»–ç‚¹çš„è·ç¦»çš„å¹³æ–¹å’Œæœ€å°</p>
<p>å¯¹æ¨¡å‹ä¸­çš„æ¯æ¡è¾¹ï¼Œå‡è®¾å…¶è¢«åç¼©ï¼Œè®¡ç®—å…¶æ¢ç´¢åçš„æœ€ä½³ç‚¹çš„äºŒæ¬¡åº¦é‡è¯¯å·®å€¼ï¼Œæœ€åå–æ‰€æœ‰è¾¹ä¸­è¯¯å·®å€¼æœ€å°çš„è¾¹è¿›è¡Œæ¢ç´¢</p>
<p><em>ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—/å †</em></p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404241119726.png" alt="image-20240424111924542" style="zoom:50%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404241120249.png" alt="image-20240424112001065" style="zoom:50%;" />
<h2 id="é˜´å½±æ˜ å°„-Shadow-Mapping">é˜´å½±æ˜ å°„ Shadow Mapping</h2>
<ul>
<li>ä¸€ç§å›¾åƒç©ºé—´ç®—æ³•</li>
<li>å¯èƒ½ä¼šäº§ç”Ÿèµ°æ ·</li>
<li>Key Idea: ä¸åœ¨é˜´å½±é‡Œçš„ç‚¹ä¸€å®šåŒæ—¶è¢«å…‰æºå’Œæ‘„åƒæœºç…§åˆ°</li>
</ul>
<p>Shadow Mappingåªèƒ½åº”ç”¨äºç‚¹å…‰æº</p>
<p>PASS:</p>
<ol>
<li>Render from Light</li>
</ol>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404241127343.png" alt="image-20240424112754130" style="zoom:50%;" />
<p>å¾—åˆ°å…‰æºè§†è§’çš„æ·±åº¦å›¾</p>
<ol start="2">
<li>Render from Eye</li>
</ol>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404241129167.png" alt="image-20240424112929974" style="zoom:50%;" />
<p>å¾—åˆ°ç›¸æœºè§†è§’çš„æ ‡å‡†å›¾ï¼ˆå¸¦æ·±åº¦ï¼‰</p>
<ol start="3">
<li>Project to Light</li>
</ol>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404241130726.png" alt="image-20240424113009525" style="zoom:50%;" />
<p>å°†ç›¸æœºè§†è§’çœ‹åˆ°çš„ç‚¹æŠ•å½±å›å…‰æº</p>
<p>æ¯”è¾ƒäºŒè€…çš„æ·±åº¦ï¼Œå¦‚æœæ·±åº¦ç›¸åŒåˆ™åœ¨é˜´å½±å¤–ï¼›åä¹‹åˆ™åœ¨é˜´å½±å†…</p>
<h3 id="ç¡¬é˜´å½±ä¸è½¯é˜´å½±">ç¡¬é˜´å½±ä¸è½¯é˜´å½±</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202404241141826.png" alt="image-20240424114158623" style="zoom:50%;" />
<h1>Lecture 13 Ray Tracing 1 (Whitted-Style Ray Tracing)</h1>
<h2 id="Why-Ray-Tracing">Why Ray Tracing?</h2>
<ul>
<li>å…‰æ …åŒ–åœ¨å¤„ç†å…¨å±€æ•ˆæœæ—¶å¹¶ä¸å¥½</li>
</ul>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405072049431.png" alt="image-20240507204933189" style="zoom:50%;" />
<ul>
<li>å…‰æ …åŒ–å¾ˆå¿«ï¼Œä½†æ˜¯è´¨é‡å´ä¸å¤ªå¥½</li>
<li>å…‰çº¿è¿½è¸ªå¾ˆå‡†ç¡®ï¼Œä½†æ˜¯å¾ˆæ…¢</li>
</ul>
<h2 id="å…‰çº¿">å…‰çº¿</h2>
<ul>
<li>å…‰çº¿æ²¿ç›´çº¿ä¼ æ’­</li>
<li>å…‰çº¿ä¹‹é—´ä¸ä¼šç›¸äº’å½±å“</li>
<li>å…‰çº¿ä»å…‰æºå‡ºå‘æœ€ååˆ°è¾¾æˆ‘ä»¬çš„çœ¼ç›ï¼ˆå…‰çº¿æ˜¯å¯é€†çš„ï¼‰</li>
</ul>
<h2 id="å…‰çº¿æŠ•å°„">å…‰çº¿æŠ•å°„</h2>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405072124998.png" alt="image-20240507212453824"></p>
<h2 id="Whitted-Style-Ray-Tracing">Whitted-Style Ray Tracing</h2>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405072124773.png" alt="image-20240507212405482" style="zoom:50%;" />
<p>ä»»ä¸€ç‚¹çš„å…‰çº¿å¯ä»¥ç»§ç»­ä¼ æ’­ï¼ˆåå°„ã€æŠ˜å°„ï¼‰</p>
<p>å¯¹æ¯ä¸€ä¸ªå¼¹å°„ç‚¹è®¡ç®—å…¶ç€è‰²ï¼Œæœ€åä¸€èµ·åŠ åˆ°åŸå…ˆçš„åƒç´ ç‚¹ä¸Š</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405072130835.png" alt="image-20240507213021646"></p>
<h3 id="æ±‚äº¤ç‚¹">æ±‚äº¤ç‚¹</h3>
<p>å¯¹äºéšå¼å‡ ä½•ï¼šæ±‚æ–¹ç¨‹ç»„çš„è§£å³å¯</p>
<p>å¯¹äºæ˜¾å¼å‡ ä½•ï¼š</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405142307562.png" alt="image-20240514230719291" style="zoom: 33%;" />
<p>ç‚¹ä¸å¹³é¢æ±‚äº¤ï¼š</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405142309811.png" alt="image-20240514230933593" style="zoom:33%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405142310306.png" alt="image-20240514231002061" style="zoom:33%;" />
<p>MTç®—æ³•ï¼šé‡å¿ƒåæ ‡æ±‚ç‚¹æ˜¯å¦åœ¨ä¸‰è§’å½¢å†…</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405072218406.png" alt="image-20240507221808203" style="zoom:50%;" />
<h3 id="åŠ é€Ÿæ±‚äº¤">åŠ é€Ÿæ±‚äº¤</h3>
<p>åŒ…å›´ç›’ / åŒ…å›´ä½“ç§¯</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405072226231.png" alt="image-20240507222603012" style="zoom:50%;" />
<p>é•¿æ–¹ä½“ï¼šç©ºé—´ä¸­ä¸‰ä¸ªå¯¹é¢çš„äº¤é›†</p>
<p>AABB-è½´å¯¹é½åŒ…å›´ç›’</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405072228393.png" alt="image-20240507222836202" style="zoom:50%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405072236234.png" alt="image-20240507223617046" style="zoom:50%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405072238262.png" alt="image-20240507223830054" style="zoom:50%;" />
<ul>
<li>å¦‚æœ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mrow><mi>e</mi><mi>x</mi><mi>i</mi><mi>t</mi></mrow></msub><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">t_{exit}&lt;0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">x</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> - ç›’å­åœ¨å°„çº¿ä¹‹åï¼Œæ²¡æœ‰äº¤ç‚¹</li>
<li>å¦‚æœ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mrow><mi>e</mi><mi>x</mi><mi>i</mi><mi>t</mi></mrow></msub><mo>&gt;</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">t_{exit}&gt;=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">x</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>ä¸”<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mrow><mi>e</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>r</mi></mrow></msub><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">t_{enter}&lt;0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">er</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> - å°„çº¿èµ·ç‚¹åœ¨ç›’å­å†…éƒ¨ï¼Œä¸€å®šæœ‰äº¤ç‚¹</li>
</ul>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mrow><mi>e</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>r</mi></mrow></msub><mo>&lt;</mo><msub><mi>t</mi><mrow><mi>e</mi><mi>x</mi><mi>i</mi><mi>t</mi></mrow></msub><mtext>ä¸”</mtext><msub><mi>t</mi><mrow><mi>e</mi><mi>x</mi><mi>i</mi><mi>t</mi></mrow></msub><mo>&gt;</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">t_{enter}&lt;t_{exit}ä¸”t_{exit}&gt;=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">er</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">x</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">ä¸”</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">x</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405072245252.png" alt="image-20240507224554035" style="zoom: 33%;" />
<h1>Lecture 14 Ray Tracing 2 (Acceleration &amp; Radiometry)</h1>
<h2 id="ä½¿ç”¨AABBsï¼ˆè½´å¯¹é½åŒ…å›´ç›’ï¼‰åŠ é€Ÿå…‰è¿½">ä½¿ç”¨AABBsï¼ˆè½´å¯¹é½åŒ…å›´ç›’ï¼‰åŠ é€Ÿå…‰è¿½</h2>
<h3 id="Uniform-grids">Uniform grids</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405142321436.png" alt="image-20240514232118267" style="zoom:50%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405142322381.png" alt="image-20240514232222213" style="zoom:50%;" />
<ol>
<li>æ‰¾åˆ°åŒ…å›´ç›’</li>
<li>åˆ›å»ºæ ¼å­</li>
<li>æ ‡è®°æœ‰ä¸œè¥¿çš„ç›’å­</li>
</ol>
<p>å¤šåšå’Œç›’å­çš„æ±‚äº¤ï¼Œå°‘åšå’Œç‰©ä½“çš„æ±‚äº¤</p>
<p>æ ¼å­çš„å¯†åº¦éœ€è¦å¹³è¡¡</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405142324136.png" alt="image-20240514232412971" style="zoom:50%;" />
<p>ç‰©ä½“åˆ†å¸ƒè¶Šå‡åŒ€è¶Šé€‚åˆä½¿ç”¨Uniform Grids</p>
<h3 id="Spatial-partitions-ç©ºé—´åˆ’åˆ†">Spatial partitions - ç©ºé—´åˆ’åˆ†</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405142326994.png" alt="image-20240514232623799" style="zoom:50%;" />
<ul>
<li>
<p>Oct-Tree å…«å‰æ ‘ï¼šåœ¨ç»´åº¦å‡é«˜ååˆ’åˆ†æ•°é‡ä¼šå‡ ä½•çº§å¢åŠ ï¼Œä¸é€‚åˆå¤„ç†é«˜ç»´åæ ‡</p>
</li>
<li>
<p>KD-Treeï¼šå’Œå…«å‰æ ‘åŸç†åŸºæœ¬ç›¸åŒï¼Œä½†æ˜¯å…¶åˆ’åˆ†ä¸ä¼šå—åˆ°ç»´åº¦å½±å“ï¼Œæ¯æ¬¡åªåˆ‡ä¸€åˆ€ï¼›æ¨ªç«–äº¤æ›¿åˆ’åˆ†ï¼Œä½¿å¾—åˆ’åˆ†æ›´åŠ å‡åŒ€</p>
</li>
<li>
<p>BSP-Treeï¼šå’ŒKD-Treeå¾ˆæƒ³ï¼Œä½†åˆ’åˆ†ä¸æ˜¯å»¶è½´çš„</p>
</li>
</ul>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405142332774.png" alt="image-20240514233253563" style="zoom:50%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405142333445.png" alt="image-20240514233316280" style="zoom:50%;" />
<p>KD-Treeçš„é—®é¢˜ï¼š</p>
<ul>
<li>åŒ…å›´ç›’å’Œä¸‰è§’å½¢æ˜¯å¦æœ‰äº¤ç‚¹çš„è®¡ç®—ååˆ†å¤æ‚</li>
<li>ä¸€ä¸ªç‰©ä½“å¯èƒ½å‡ºç°åœ¨å¤šä¸ªå¶å­ç»“ç‚¹ä¸­</li>
</ul>
<h3 id="Object-partitions-Bounding-Volume-Hierarch-BVH">Object partitions &amp; Bounding Volume Hierarch (BVH)</h3>
<p>æœ€å¸¸ç”¨ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šè§£å†³äº†KD-Treeçš„é—®é¢˜</p>
<p>BVHä¸åˆ’åˆ†ç©ºé—´ï¼Œè€Œæ˜¯åˆ’åˆ†ç‰©ä½“</p>
<p>å…ˆåˆ†ç‰©ä½“ï¼Œå†æ±‚åŒ…å›´ç›’</p>
<ul>
<li>ä¼˜ç‚¹ï¼šä¸€ä¸ªç‰©ä½“åªå¯èƒ½å‡ºç°åœ¨ä¸€ä¸ªå¶å­ç»“ç‚¹</li>
</ul>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405142343757.png" alt="image-20240514234327580" style="zoom:50%;" />
<ul>
<li>ç¼ºç‚¹ï¼šBVHåˆ’åˆ†çš„å‡ºçš„åŒºå—æœ‰å¯èƒ½é‡å </li>
</ul>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405142345456.png" alt="image-20240514234546284" style="zoom:50%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405142350081.png" alt="image-20240514235045913" style="zoom:50%;" />
<p>BVHç®—æ³•ä¼ªä»£ç ï¼š</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405142351584.png" alt="image-20240514235130386" style="zoom:50%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405142352401.png" alt="image-20240514235235220" style="zoom:50%;" />
<h2 id="Basic-Radiometry-è¾å°„åº¦é‡å­¦">Basic Radiometry - è¾å°„åº¦é‡å­¦</h2>
<p>åœ¨ä¹‹å‰çš„ç€è‰²ä¸åå°„æ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸é€šè¿‡ç»éªŒæ¥å®šä¹‰å…¬å¼ï¼Œè¿™æ˜¯å¯è¡Œçš„ï¼Œä¹Ÿå¯ä»¥å¾—åˆ°å¾ˆå¥½çš„æ•ˆæœã€‚ä½†ç»éªŒå§‹ç»ˆåªæ˜¯ç»éªŒï¼Œè¾å°„åº¦é‡å­¦å¯ä»¥ç»™å‡ºåŸºäºç‰©ç†çš„å‡†ç¡®å®šä¹‰å…‰ç…§çš„æ–¹æ³•</p>
<ul>
<li>æè¿°å…‰ç…§çš„å•ä½ä¸ä½“ç³»</li>
<li>åŸºäºç©ºé—´å…‰å­¦</li>
<li>Radiant Flux è¾å°„é€šé‡ - Intensity è¾å°„å¼ºåº¦ - Irradiance è¾ç…§åº¦ - Radiance è¾äº®åº¦</li>
</ul>
<h3 id="Radient-Energy-and-Flux-Power">Radient Energy and Flux(Power)</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405150913641.png" alt="image-20240515091324405" style="zoom:50%;" />
<p>æµæ˜ lm - åŠŸç‡ W</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405150929536.png" alt="image-20240515092941308" style="zoom:50%;" />
<p>Fluxå¦ä¸€ç§ç†è§£ï¼šå•ä½æ—¶é—´å†…é€šè¿‡æŸä¸€å¹³é¢çš„å…‰å­é‡</p>
<h3 id="å…‰çš„åº¦é‡">å…‰çš„åº¦é‡</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405150931959.png" alt="image-20240515093116778" style="zoom:50%;" />
<h4 id="Radiant-Intensity">Radiant Intensity</h4>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405150932953.png" alt="image-20240515093209773" style="zoom:50%;" />
<p>å•ä½ç«‹ä½“è§’å‘å‡ºçš„èƒ½é‡ - <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>W</mi><mrow><mi>s</mi><mi>r</mi></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>l</mi><mi>m</mi></mrow><mrow><mi>s</mi><mi>r</mi></mrow></mfrac><mo>=</mo><mi>c</mi><mi>d</mi><mo>=</mo><mi>c</mi><mi>a</mi><mi>n</mi><mi>d</mi><mi>e</mi><mi>l</mi><mi>a</mi></mrow><annotation encoding="application/x-tex">\frac{W}{sr}=\frac{lm}{sr}=cd=candela</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">sr</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2251em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">sr</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal">an</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span></span></span></span>â€‹</p>
<h5 id="ç«‹ä½“è§’">ç«‹ä½“è§’</h5>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405150949079.png" alt="image-20240515094958876" style="zoom:50%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405150953029.png" alt="image-20240515095316837" style="zoom:50%;" />
<h5 id="Intensity">Intensity</h5>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405150955483.png" alt="image-20240515095519264" style="zoom:50%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202405150957736.png" alt="image-20240515095702532" style="zoom:50%;" />
<h4 id="Irradiance">Irradiance</h4>
<h4 id="Radiance">Radiance</h4>
]]></content>
      <categories>
        <category>Notes</category>
        <category>Graphics</category>
        <category>ã€ŠGAMES101ã€‹</category>
      </categories>
      <tags>
        <tag>C/C++</tag>
        <tag>Graphics</tag>
      </tags>
  </entry>
  <entry>
    <title>é’ˆå¯¹ã€Šå¼‚åº¦ç¥å‰‘2ã€‹çš„æ‰¹åˆ¤çœ‹æ³•ä¸æ”¹é€ æ„è§</title>
    <url>/posts/10000/</url>
    <content><![CDATA[<h1>é’ˆå¯¹ã€Šå¼‚åº¦ç¥å‰‘2ã€‹çš„æ‰¹åˆ¤çœ‹æ³•ä¸æ”¹é€ æ„è§</h1>
<p>â€‹	<code>ã€Šå¼‚åº¦ç¥å‰‘2ã€‹</code>æ˜¯ä¸€æ¬¾å‘å”®äºSwitchä¸Šçš„ä»»å¤©å ‚ç¬¬ä¸€æ–¹JRPGã€‚ä½œä¸ºä¸€åå¯¹JRPGå……æ»¡å…´è¶£çš„ç©å®¶ï¼Œä¹…é—»å¼‚åº¦ç³»åˆ—çš„å¤§åï¼Œä¹‹å‰å´å› å¬é—»å…¶ä¸å¤ªå‹å¥½çš„ä¸Šæ‰‹éš¾åº¦ä¸åœ°å›¾å¼•å¯¼è€Œå¯¹å…¶æœ›è€Œå´æ­¥ã€‚è€Œåœ¨ç³»åˆ—æ–°ä½œå¼‚åº¦ç¥å‰‘3å‘å”®åï¼Œæˆ‘ç»ˆäºä¸‹å®šå†³å¿ƒå…¥æ‰‹äº†è¿™éƒ¨ä½œå“ï¼Œå¼€å§‹äº†è‡ªå·±çš„å¹½ç•Œä¹‹æ—…ã€‚åœ¨ç»è¿‡äº†è¶…è¿‡100å°æ—¶çš„æ—…ç¨‹ä¹‹åï¼Œæˆ‘çš„å¿ƒä¸­å´æ˜¯äº”å‘³æ‚é™ˆçš„ã€‚<code>ã€Šå¼‚åº¦ç¥å‰‘2ã€‹</code>æ— ç–‘æ˜¯ä¸€ä¸ªå¥½æ¸¸æˆï¼Œå…¶äººè®¾ã€æ¼”å‡ºã€éŸ³ä¹ã€åœ°å›¾è®¾è®¡ã€æˆ˜æ–—ç³»ç»Ÿä¹‹ä¼˜ç§€è¶³ä»¥ä»¤æˆ‘å¿ƒæ‚¦è¯šæœï¼Œä½†å…¶ç¼ºç‚¹å´ä¹Ÿæ˜¯æ— æ¯”çªå‡ºï¼Œä¸‹é¢æˆ‘å°†ä»<strong>åœ°å›¾ä¸æˆ˜æ–—ç³»ç»Ÿå¼•å¯¼</strong>ã€<strong>å¼‚åˆƒä¸æŠ½å¡ç³»ç»Ÿ</strong>ã€<strong>åœºæ™¯æŠ€èƒ½ä¸é”é’¥è®¾è®¡</strong>3ä¸ªæ–¹é¢è°ˆè°ˆæˆ‘å¯¹<code>ã€Šå¼‚åº¦ç¥å‰‘2ã€‹</code>çš„æ‰¹è¯„çœ‹æ³•ä¸æ”¹é€ æ„è§ã€‚</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303281801299.jpg" alt="åƒåœ¾æ¸¸æˆå—¼" style="zoom: 33%;" />
<h3 id="è–„å¼±çš„å¼•å¯¼ç³»ç»Ÿ">è–„å¼±çš„å¼•å¯¼ç³»ç»Ÿ</h3>
<p>â€‹	å¦‚æœè¦ç”¨ä¸¤ä¸ªå­—æ¥å½¢å®¹<code>ã€Šå¼‚åº¦ç¥å‰‘2ã€‹</code>çš„æ–°æ‰‹å¼•å¯¼ç³»ç»Ÿçš„è¯ï¼Œå¯¹æˆ‘æ¥è¯´ä¾¿æ˜¯â€œç¾éš¾â€ï¼Œè¿™ç‚¹ä¹Ÿæ˜¯åŠé€€äº†æ— æ•°ç©å®¶çš„é¦–è¦åŸå› ã€‚è€Œå…¶å¼•å¯¼ç³»ç»Ÿçš„è–„å¼±ä¸ªäººè®¤ä¸ºé›†ä¸­ä½“ç°åœ¨åœ°å›¾ä¸æˆ˜æ–—ç³»ç»Ÿä¸Šã€‚</p>
<p>â€‹	å¹³å¿ƒè€Œè®ºï¼Œå¦‚æœæŠŠ<code>ã€Šå¼‚åº¦ç¥å‰‘2ã€‹</code>çš„åœ°å›¾è®¾è®¡ä¸æˆ˜æ–—ç³»ç»Ÿå•ç‹¬æ‹¿å‡ºæ¥çœ‹ï¼Œå¯ä»¥è¯´è¿™äºŒè€…éƒ½æ˜¯æå…¶ä¼˜ç§€çš„ã€‚åœ°å›¾æ–¹é¢ï¼Œå…¶æœ‰ç€å¤šå¼ è§„æ¨¡æå¤§ã€é¢‡å…·è®¾è®¡æ„Ÿçš„åœ°å›¾ï¼Œä¸”æ¯å¼ åœ°å›¾éƒ½ç‹¬å±…ç‰¹è‰²ï¼Œç‰¹åˆ«æ˜¯å…¶å‚ç›´å±‚é¢çš„è®¾è®¡ï¼Œå±±å³¦å å¶‚ï¼Œæ¥¼å®‡äº¤é”™ï¼Œå¯ä»¥æ·±åˆ»æ„Ÿå—åˆ°åœ°å›¾è®¾è®¡çš„å·§æ€ã€‚ä½†ï¼Œâ€œæˆä¹Ÿåœ°å›¾ï¼Œè´¥ä¹Ÿåœ°å›¾â€ï¼Œæ¸¸æˆä¸­ç”¨äºæŒ‡å¼•æ–¹å‘çš„å¯¼èˆªç³»ç»Ÿåªä¼šç»™ç©å®¶ä¸€ä¸ªå¤§è‡´çš„æ–¹å‘ä¸è·ç¦»ï¼Œè€Œæ¸¸æˆä¸­åˆå­˜åœ¨ç€è®¸å¤šâ€œå‚ç›´â€å±‚é¢çš„è®¾è®¡ï¼Œç©å®¶åˆ™éœ€è¦åœ¨æå…¶å¤æ‚æ›²æŠ˜çš„åœ°å›¾ä¸­å‡­å€Ÿå¯ä»¥è¯´â€œç®€é™‹â€çš„æŒ‡é’ˆå¯¼èˆªæ‰¾åˆ°ä»»åŠ¡åœ°ç‚¹ï¼Œè¿™æ— ç–‘æ˜¯æå…¶å›°éš¾çš„ï¼Œæ— æ•°ç©å®¶ä¹Ÿå› ä¸ºæ— å°½çš„è¿·è·¯ç¦»å¼€äº†å¹½ç•Œã€‚</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303281801256.png" alt="image-20221008204505701" style="zoom:33%;" />
<p>â€‹	è€Œæˆ˜æ–—ç³»ç»Ÿæ–¹é¢ï¼Œæ¸¸æˆçš„æˆ˜æ–—ç³»ç»Ÿç”±å¼‚åˆƒè¿å‡»ï¼Œå¾¡åˆƒè€…è¿å‡»ä¸è¿é”æ”»å‡»ä¸‰å¥—ç´§å¯†ç›¸è¿çš„ç³»ç»Ÿç»„æˆï¼ŒåŒæ—¶æœ‰ç€ä¸ä¸‹40ä¸ªå„ä¸ç›¸åŒçš„å¼‚åˆƒå¯ä¾›é€‰æ‹©ï¼Œåœ¨ç©å®¶ç†è§£æˆ˜æ–—ç³»ç»Ÿåï¼Œè¿™å¥—å¤æ‚è€Œç²¾å¦™çš„æˆ˜æ–—ç³»ç»Ÿä¼šç»™äºˆç©å®¶æé«˜çš„æ„ç­‘ä¸æ“ä½œä¸Šé™ï¼Œæ‰“å‡ºä»¤äººèµå¿ƒæ‚¦ç›®çš„ä¼¤å®³ä¸æ“ä½œç³»ç»Ÿã€‚è€Œé—®é¢˜å°±å‡ºåœ¨äº†â€œè®©ç©å®¶ç†è§£æˆ˜æ–—ç³»ç»Ÿâ€è¿™ä¸€è¿‡ç¨‹ä¸­ï¼Œæ¸¸æˆçš„æˆ˜æ–—ç³»ç»Ÿæ˜¯éšæ¸¸æˆè¿›ç¨‹é€æ­¥å¼€æ”¾çš„ï¼Œè§£é”å…¨éƒ¨çš„ç³»ç»Ÿå¤§çº¦éœ€è¦20-30å°æ—¶çš„æ—¶é•¿ï¼Œè€Œåœ¨è¿™æ¼«é•¿çš„è¿‡ç¨‹ä¸­ï¼Œæ¸¸æˆåªä¼šåœ¨ç©å®¶ç¬¬ä¸€æ¬¡ä½¿ç”¨æŸä¸€ç³»ç»Ÿæ—¶ç»™å‡ºç›¸åº”æ•™ç¨‹ï¼Œä¸”æ•™ç¨‹æ— æ³•å›çœ‹ã€‚è¦å›é¡¾æ•™ç¨‹åªèƒ½å»æ¸¸æˆä¸­å„åœ°åŒºçš„æƒ…æŠ¥å•†äººå¤„è´­ä¹°ï¼Œä¸”è´­ä¹°åˆ°çš„æ•™ç¨‹éƒ½åªæœ‰èŠèŠå‡ å¥ï¼Œå®é™…æ„ä¹‰ä¸å¤§ã€‚è¿™ä½¿å¾—ç©å®¶ä¸Šæ‰‹æˆ˜æ–—ç³»ç»Ÿçš„é—¨æ§›å˜å¾—å¼‚å¸¸åœ°é«˜ï¼Œç¬”è€…ä¹Ÿæ˜¯è§‚çœ‹äº†å¤§é‡æ•™ç¨‹ä¹‹åæ‰é€æ¸ä¸Šæ‰‹å…¶æˆ˜æ–—ç³»ç»Ÿã€‚</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303281801457.png" alt="image-20221008215052113"></p>
<p>â€‹	ä»¤äººæ¬£æ…°çš„æ˜¯ï¼Œä¸Šé¢æ‰€è¯´çš„å¼•å¯¼é—®é¢˜ï¼Œåœ¨å…¶ç»­ä½œ<code>ã€Šå¼‚åº¦ç¥å‰‘ï¼šå†³å®šç‰ˆã€‹</code>ä¸<code>ã€Šå¼‚åº¦ç¥å‰‘3ã€‹</code>ä¸­éƒ½æœ‰äº†æ˜¾è‘—æ”¹å–„ï¼Œåœ°å›¾å¼•å¯¼æ–¹é¢æ·»åŠ äº†ä¸€ç›®äº†ç„¶çš„å‚»ç“œå¼å¼•å¯¼çº¿ï¼Œè™½ç„¶è¿™ç§æ–¹å¼å¹¶ä¸é«˜æ˜ï¼Œä½†ä¹Ÿä¸å¤±ä¸ºä¸€ç§è§£é¢˜æ€è·¯ï¼Œè€Œæˆ˜æ–—ç³»ç»Ÿæ–¹é¢åˆ™æ·»åŠ äº†å¯éšæ—¶åå¤è§‚çœ‹çš„æ•™ç¨‹ä¸è®­ç»ƒåœºä¾›ç©å®¶ç»ƒä¹ æŒæ¡ã€‚</p>
<h3 id="å‰²è£‚çš„æŠ½å¡ç³»ç»Ÿ">å‰²è£‚çš„æŠ½å¡ç³»ç»Ÿ</h3>
<p>â€‹	ä»æ¸¸æˆå<code>ã€Šå¼‚åº¦ç¥å‰‘ã€‹</code>ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œå„å¼å„æ ·çš„å¼‚åˆƒæ˜¯æ¸¸æˆæé‡è¦çš„ç»„æˆéƒ¨åˆ†ï¼Œä»–ä»¬æ˜¯ä¸»è§’å†’é™©ä¸­çš„å¥½ä¼™ä¼´ã€å¥½æˆ˜å‹ï¼Œåœ¨æ¸¸æˆçš„æˆ˜æ–—ä¸å‰§æƒ…éƒ¨åˆ†éƒ½å æœ‰æå¤§çš„æ¯”é‡ï¼Œè€Œä»¤äººè¯§å¼‚çš„æ˜¯æ¸¸æˆä¸­è¿‡åŠçš„ç¨€æœ‰å¼‚åˆƒçš„è·å–æ–¹å¼æœ‰ä¸”åªæœ‰ä¸€ä¸ª------æŠ½å¡ã€‚ç©å®¶é€šè¿‡ä¸æ–­çš„å‡»è´¥ç²¾è‹±æ€ªè·å–å¬å”¤æ°´æ™¶ï¼Œå†é€šè¿‡å¬å”¤æ°´æ™¶éšæœºæŠ½å–å¼‚åˆƒï¼Œè¿™ä¸€åå¤åˆ·æ€ªåˆ·ç´ æçš„è¿‡ç¨‹æ— æ¯”æ¯ç‡¥æ— èŠï¼Œè€Œåœ¨ä¸€æ¬¾æ³¨é‡å‰§æƒ…ä½“éªŒçš„JRPGä¸­ï¼Œè¿™æ ·çš„ç©æ³•ç¬”è€…è®¤ä¸ºæ˜¯æå…¶å‰²è£‚çš„ï¼Œè¿™ä¸€è¿‡ç¨‹æ— æ³•å¸¦æ¥å¿«ä¹ä¹Ÿæ— æ³•å¸¦æ¥æ„ŸåŠ¨ï¼Œå¸¦ç»™ç©å®¶çš„åªæœ‰æ— èŠä¸çƒ¦èºã€‚</p>
<p>â€‹	åŒæ—¶ï¼Œæ›´ä»¤äººæƒ³åæ§½çš„æ˜¯ï¼Œè¿™ä¸ªæŠ½å¡ç³»ç»Ÿçš„è®¾ç½®ä¹Ÿæ˜¯æå…¶çš„ä¸äººæ€§åŒ–ã€‚æŠ½å¡ç³»ç»Ÿæ²¡æœ‰è®¾ç½®è¿æŠ½ç³»ç»Ÿï¼Œåªèƒ½ä¸€ä¸ªä¸ªæŠ½å–ï¼ŒåŒæ—¶æŠ½å–æ“ä½œä¹Ÿæå…¶ç¹çï¼Œéœ€è¦åå¤ç¡®è®¤ï¼ŒæŠ½å–50å‘å¬å”¤æ°´æ™¶çš„æ—¶é—´å¤§çº¦éœ€è¦è€—è´¹ç©å®¶åŠä¸ªå¤šå°æ—¶ï¼Œè€Œè¿™åŠä¸ªå¤šå°æ—¶å†…ï¼Œç©å®¶èƒ½å¹²çš„åªæœ‰æœºæ¢°åŒ–çš„ç‚¹å‡»ç¡®è®¤ã€‚</p>
<p>â€‹	å¥½æ¶ˆæ¯æ˜¯ï¼Œåœ¨ä¹‹åçš„<code>ã€Šå¼‚åº¦ç¥å‰‘3ã€‹</code>ä¸­å·²ç»ç§»é™¤äº†è¿™ä¸ªç³»ç»Ÿï¼Œè€Œç¬”è€…è®¤ä¸ºï¼Œè¿™ä¸ªç³»ç»Ÿçš„å¤±è´¥æœ‰ä¸¤æ–¹é¢åŸå› ï¼šä¸€æ˜¯ä¸æ¸¸æˆåŸºè°ƒçš„å‰²è£‚ï¼›äºŒæ˜¯ç³»ç»Ÿè®¾ç½®çš„ä¸äººæ€§åŒ–ã€‚åœ¨è®¾ç½®ç±»ä¼¼ç³»ç»Ÿæ—¶ï¼Œè‡³å°‘åº”åšåˆ°ä¼˜åŒ–äº¤äº’ï¼Œå‡å°‘ç©å®¶æ— æ„ä¹‰çš„æœºæ¢°æ“ä½œã€‚</p>
<h3 id="åœºæ™¯æŠ€èƒ½ä¸é”é’¥è®¾è®¡">åœºæ™¯æŠ€èƒ½ä¸é”é’¥è®¾è®¡</h3>
<p>â€‹	<code>ã€Šå¼‚åº¦ç¥å‰‘2ã€‹</code>ä¸­åŒæ ·æ‹¥æœ‰åœ¨ç±»é“¶æ²³æ¶é­”åŸç±»æ¸¸æˆä¸­è¢«å¤§é‡ä½¿ç”¨çš„è½¯æ€§é”é’¥è®¾è®¡ï¼Œè€Œå…¶é”é’¥æ˜¯é€šè¿‡å¼‚åˆƒçš„åœºæ™¯æŠ€èƒ½è§£é”çš„ã€‚ä¸åŒçš„å¼‚åˆƒæœ‰ä¸åŒçš„åœºæ™¯æŠ€èƒ½ï¼Œå‡‘é½æ‰€éœ€çš„åœºæ™¯æŠ€èƒ½ä¾¿å¯è§£é”é”é’¥ï¼Œè¿™æœ¬æ˜¯ä¸€ä¸ªä¸é”™çš„è®¾è®¡æ€è·¯ï¼Œä½†å½“å¼‚åˆƒçš„è·å–ä¸æŠ½å¡ç³»ç»Ÿé«˜åº¦ç»‘å®šæ—¶ï¼Œé—®é¢˜ä¾¿éšä¹‹å‡ºç°ã€‚æ²¡æŠ½åˆ°ç‰¹å®šå¼‚åˆƒä¾¿æ— æ³•å‡‘é½æŸäº›åœºæ™¯æŠ€èƒ½éœ€æ±‚ï¼Œè®¸å¤šæ”¯çº¿ä»»åŠ¡ä¸å¥–åŠ±åœ°ç‚¹å°±æ— æ³•æ¨è¿›ï¼Œè¿™é€¼è¿«ç©å®¶å»è¿›è¡Œæå…¶æ¯ç‡¥æ— èŠçš„åˆ·å¬å”¤æ°´æ™¶ä¸æŠ½å¡ã€‚åŒæ—¶åœºæ™¯æŠ€èƒ½çš„ä½¿ç”¨ä¹Ÿååˆ†ä¸äººæ€§åŒ–ï¼Œç©å®¶åœ¨æŠ½å¡çš„è¿‡ç¨‹ä¸­ä¼šè·å–å¤§é‡å¼‚åˆƒï¼Œè€Œèƒ½è§¦å‘åœºæ™¯æŠ€èƒ½çš„åªæœ‰ä½ æºå¸¦çš„è‡³å¤š9ä¸ªå¼‚åˆƒï¼Œä¸åŒå¼‚åˆƒçš„åˆ‡æ¢æµç¨‹æå…¶ç¹çã€‚</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303281802700.png" alt="image-20221008234328181"></p>
<p>æ”¹é€ æ„è§ï¼šä¼˜åŒ–é”é’¥è®¾è®¡çš„è§¦å‘ï¼Œä½¿å…¶èƒ½è‡ªåŠ¨æ£€æµ‹èƒŒåŒ…å†…çš„å¼‚åˆƒçš„åœºæ™¯æŠ€èƒ½</p>
]]></content>
      <categories>
        <category>Comment</category>
      </categories>
      <tags>
        <tag>Games</tag>
        <tag>Comment</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŒUnity-Input Systemã€å­¦ä¹ ç¬”è®°</title>
    <url>/posts/105/</url>
    <content><![CDATA[<h1>Input Systemï¼šæµ…å°Unityæ–°è¾“å…¥ç³»ç»Ÿ</h1>
<blockquote>
<p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.unity3d.com/Packages/com.unity.inputsystem@1.5/manual/index.html">https://docs.unity3d.com/Packages/com.unity.inputsystem@1.5/manual/index.html</a></p>
</blockquote>
<h2 id="å‰è¨€">å‰è¨€</h2>
<p>Input Systemæ˜¯Unityæ–°æ¨å‡ºçš„è¾“å…¥æ§åˆ¶ç³»ç»Ÿï¼ˆå¥½åƒä¹Ÿä¸æ˜¯å¾ˆæ–°äº†ï¼‰ï¼Œæˆ‘ä¹‹å‰å¯¹å…¶çš„ä½¿ç”¨åªèƒ½è¯´æ˜¯ä¸€çŸ¥åŠè§£ï¼Œæœ¬æ–‡æ˜¯æˆ‘æ ¹æ®ç½‘ä¸Šçš„ä¸€äº›èµ„æ–™ä¸å®˜æ–¹æ–‡æ¡£å¯¹Input Systemçš„ä½¿ç”¨æ–¹æ³•çš„å­¦ä¹ ç¬”è®°ï¼Œå¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©ã€‚ğŸ˜‰</p>
<hr>
<h2 id="Input-Systemçš„å¯¼å…¥">Input Systemçš„å¯¼å…¥</h2>
<p>äºUnityè‡ªå¸¦çš„<code>Windows-&gt;Package Manager</code>å®‰è£…å³å¯ï¼Œå®‰è£…åéœ€è¦é‡å¯é¡¹ç›®</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303291955069.png" alt="image-20230329195514972" style="zoom:67%;" />
<p>ä¹‹åå°†<code>Project Settings-&gt;Player-&gt;Others-&gt;Configuration-&gt;Active Input Handling</code></p>
<p>è®¾ç½®ä¸º<code>Both/Input System Package(New)</code>ä»¥å¯ç”¨Input System</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303291959502.png" alt="image-20230329195944467" style="zoom:67%;" />
<hr>
<h2 id="Actionæ¦‚è¿°">Actionæ¦‚è¿°</h2>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303292017544.png" alt="image-20230329201723515" style="zoom:67%;" />
<p><strong>Action</strong>å¯ä»¥è¯´æ˜¯Input Systemä¸­æœ€é‡è¦çš„æ–°å¼•å…¥çš„æ¦‚å¿µä¹‹ä¸€</p>
<p>Input Systemé€šè¿‡Actionå¯¹ç”¨æˆ·çš„è¾“å…¥æ–¹å¼è¿›è¡Œäº†æ˜ å°„ï¼Œå³ä¸€ä¸ªActionå¯ä»¥å…³è”å¤šä¸ªè¾“å…¥ï¼Œè€ŒåŸå…ˆçš„Inputç³»ç»Ÿä¸åŒçš„æ˜¯ï¼Œä¸å…·ä½“é€»è¾‘å…³è”çš„ä¹Ÿæ˜¯Actionï¼Œè€Œéç”¨æˆ·çš„å…·ä½“è¾“å…¥</p>
<p>ç›¸å½“äºActionæˆä¸ºäº†è¾“å…¥ä¸é€»è¾‘ä¹‹é—´çš„ä¸­é—´å•†ï¼Œç”¨æˆ·è¾“å…¥-&gt;Action-&gt;å…·ä½“é€»è¾‘</p>
<p>Input Systemé€šè¿‡Actionç³»ç»Ÿå®ç°äº†è¾“å…¥ä¸é€»è¾‘çš„åˆ†ç¦»ï¼Œä½¿å¾—å¯¹äºç”¨æˆ·è¾“å…¥çš„ç®¡ç†ä¸å¤šç«¯è®¾å¤‡å…¼å®¹æ›´åŠ å®¹æ˜“</p>
<p>å¦‚æˆ‘ä»¬å¯ä»¥å°†å¤šä¸ªä¸åŒè®¾å¤‡çš„ç§»åŠ¨è¾“å…¥ç»‘å®šåˆ°åŒä¸€ä¸ªActionä¸Šï¼Œè¿™æ ·æ— è®ºæˆ‘ä»¬åœ¨æ‰‹æŸ„ä¸Šç§»åŠ¨æ‘‡æ†ï¼Œè¿˜æ˜¯æŒ‰ä¸‹é”®ç›˜çš„WASDï¼ŒActionéƒ½ä¼šä¸ºæˆ‘ä»¬è¿”å›ç»Ÿä¸€çš„è¿”å›å€¼ï¼Œæˆ‘ä»¬åœ¨ç¼–å†™ç§»åŠ¨é€»è¾‘æ—¶ï¼Œä¾¿åªéœ€è¦å…³å¿ƒActionçš„è¿”å›å€¼å³å¯ï¼Œè€Œæ— éœ€åˆ†å¹³å°åˆ†è®¾å¤‡åœ°å•ç‹¬ç¼–å†™é€»è¾‘</p>
<hr>
<h2 id="Actionçš„åˆ›å»º">Actionçš„åˆ›å»º</h2>
<p>åœ¨Input Systemä¸­å­˜åœ¨ç€å¤šç§åˆ›å»ºActionçš„æ–¹å¼ï¼Œä»¥ä¸‹ä»‹ç»é€šè¿‡åºåˆ—åŒ–å•ç‹¬åˆ›å»ºï¼Œä¸é€šè¿‡ActionMapç»Ÿä¸€åˆ›å»ºç®¡ç†ä¸¤ä¸ªæ–¹å¼ï¼š</p>
<ol>
<li><strong>é€šè¿‡åºåˆ—åŒ–åˆ›å»ºå•ä¸€Action</strong></li>
</ol>
<p>å¯ä»¥é€šè¿‡åœ¨ç»§æ‰¿äº†<code>Monobehavior</code>çš„è„šæœ¬ä¸­å£°æ˜<code>InputAction</code>ç±»å‹çš„å˜é‡(éœ€è¦å¼•å…¥<code>UnityEngine.InputSystem</code>å‘½åç©ºé—´)</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.InputSystem;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Test</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> InputAction moveAction;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æŒ‚è½½è„šæœ¬åä¾¿å¯ä»¥åœ¨Inspectorç•Œé¢çœ‹åˆ°å£°æ˜çš„<code>moveAction</code></p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303292039605.png" alt="image-20230329203921581"></p>
<p>ç‚¹å‡»é½¿è½®ç¬¦å·ä¾¿å¯å¯¹<code>moveAction</code>è¿›è¡Œç¼–è¾‘ï¼Œè®¾ç½®Actionçš„å±æ€§</p>
<p>ç‚¹å‡»åŠ å‡å·å¯ä»¥ä¸ºActionæ·»åŠ /åˆ é™¤æŒ‰é”®ç»‘å®šï¼Œä¸ºActionç»‘å®šå¯¹åº”æŒ‰é”®åï¼ŒæŒ‰ä¸‹æŒ‰é”®ä¾¿å¯è§¦å‘ä¸Actionç›¸å…³è”çš„æ–¹æ³•</p>
<ol start="2">
<li><strong>é€šè¿‡ActionMapæ–‡ä»¶ç»Ÿä¸€åˆ›å»ºAction</strong></li>
</ol>
<p>æˆåŠŸå®‰è£…Input SystemåŒ…ä¹‹åï¼ŒäºAssetsç•Œé¢<code>å³é”®-&gt;Create-&gt;Input Actions</code>ä¾¿å¯åˆ›å»ºInput Actions Assetæ–‡ä»¶</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303292046474.png" alt="image-20230329204610432" style="zoom: 50%;" />
<p>åŒå‡»åˆ›å»ºå‡ºçš„InputActionså³å¯äºä¸“é—¨çš„ç•Œé¢ä¸­ç»Ÿä¸€åˆ›å»ºç®¡ç†Actions</p>
<p>å…¶ä¸­ActionMapså¯ä»¥ç†è§£ä¸ºActionçš„é›†åˆï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºå¤šä¸ªMapè¿›è¡Œéšæ—¶åˆ‡æ¢ï¼Œå¦‚UIå’ŒGame</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303292049942.png" alt="image-20230329204920905" style="zoom: 50%;" />
<hr>
<h2 id="Actionçš„å±æ€§">Actionçš„å±æ€§</h2>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303292052522.png" alt=""></p>
<p>ä¸€ä¸ªActionæœ‰ç€å¤šç§å±æ€§ï¼Œå…¶å½±å“ç€Actionçš„è§¦å‘æ–¹å¼ã€è¿”å›å€¼ç­‰ä¿¡æ¯</p>
<h3 id="Types">Types</h3>
<p>Actionå…±æœ‰ä¸‰ç§é»˜è®¤çš„Typeï¼Œ<strong>å…¶å½±å“çš„æ˜¯Actionå¯¹äºè¾“å…¥å€¼çš„å“åº”è§„åˆ™</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">Value</th>
<th style="text-align:center">Button</th>
<th style="text-align:center">Pass Through</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">phase.started</td>
<td style="text-align:center">è¿”å›å€¼ä»åˆå§‹çŠ¶æ€è¢«æ”¹å˜æ—¶</td>
<td style="text-align:center">æŒ‰é’®å¼€å§‹è¢«æŒ‰ä¸‹ï¼Œä½†å°šæœªè¶…è¿‡é˜ˆå€¼</td>
<td style="text-align:center">ç¬¬ä¸€ä¸ªæ§åˆ¶å™¨çš„è¿”å›å€¼ä»åˆå§‹çŠ¶æ€è¢«æ”¹å˜æ—¶</td>
</tr>
<tr>
<td style="text-align:center">phase.performed</td>
<td style="text-align:center">è¿”å›å€¼æ”¹å˜æ—¶</td>
<td style="text-align:center">æŒ‰é’®è¢«æŒ‰ä¸‹è¶…è¿‡é˜ˆå€¼æ—¶</td>
<td style="text-align:center">è¿”å›å€¼æ”¹å˜æ—¶</td>
</tr>
<tr>
<td style="text-align:center">phase.canceled</td>
<td style="text-align:center">è¿”å›å€¼ä¸å†æ”¹å˜æ—¶</td>
<td style="text-align:center">æŒ‰é’®è¢«é‡Šæ”¾</td>
<td style="text-align:center">è¿”å›å€¼ä¸å†æ”¹å˜æ—¶</td>
</tr>
</tbody>
</table>
<p>Pass Throughä¸ValueåŸºæœ¬ä¸€è‡´ï¼ŒåŒºåˆ«æ˜¯Valueåªä¼šå“åº”ä¸€ä¸ªæœ€æ´»è·ƒçš„è¾“å…¥ï¼Œè€ŒPass Throughä¼šå“åº”æ‰€æœ‰ç»‘å®šäº†è¿™ä¸€Actionçš„æŒ‰é”®çš„è¾“å…¥</p>
<h3 id="Interactions">Interactions</h3>
<p>Actionå…±æœ‰6ç§Interactionsï¼Œ<strong>å…¶å½±å“çš„æ˜¯Actionå¯¹äºè¾“å…¥è¡Œä¸ºçš„å“åº”è§„åˆ™</strong></p>
<p>å½“ä¸è®¾ç½®æ—¶ä¼šè®¾å®šä¸ºDefaultï¼Œå“åº”ä¸Typesç›¸åŒï¼Œå…¶ä½™Interactionsç†è§£å¹¶ä¸å›°éš¾ï¼Œå¯è§å®˜æ–¹æ–‡æ¡£:</p>
<p><a href="https://docs.unity3d.com/Packages/com.unity.inputsystem@1.5/manual/Interactions.html#predefined-interactions">https://docs.unity3d.com/Packages/com.unity.inputsystem@1.5/manual/Interactions.html#predefined-interactions</a></p>
<hr>
<h2 id="Actionä¸æ–¹æ³•çš„ç»‘å®š">Actionä¸æ–¹æ³•çš„ç»‘å®š</h2>
<p>åˆ›å»ºActionsåï¼Œä¾¿å¯ä»¥å°†Actionsä¸å…·ä½“çš„æ–¹æ³•è¿›è¡Œç»‘å®šï¼ŒåŒæ—¶ä¹Ÿå­˜åœ¨ç€æœ‰å¤šç§æ–¹å¼æ¥è¿›è¡Œ</p>
<p><strong>ä¸»è¦å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š</strong></p>
<ol>
<li><strong>Actionçš„è·å–</strong></li>
<li><strong>æ–¹æ³•çš„è§¦å‘</strong></li>
</ol>
<p>æˆ‘ä»¬æœ‰å¤šç§æ–¹æ³•å¯ä»¥è¿›è¡Œä»¥ä¸Šä¸¤æ­¥ï¼Œä»¥ä¸‹æ˜¯ä¸¤ä¸ªä¾‹å­ï¼š</p>
<h3 id="é€šè¿‡Player-Inputç»„ä»¶è¿›è¡Œç»‘å®š">é€šè¿‡Player Inputç»„ä»¶è¿›è¡Œç»‘å®š</h3>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303300101984.png" alt=""></p>
<p>åœ¨å¯¼å…¥Input SystemåŒ…å¯¼å…¥åï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºGmaeObjectæ·»åŠ Player Inputç»„ä»¶å¯¹ActionMapè¿›è¡Œç®¡ç†</p>
<p><strong>Actionçš„è·å–</strong>ï¼šå°†æˆ‘ä»¬çš„InputActionAssetæ‹–å…¥ç»„ä»¶ä¸­Actionsä¹‹åï¼ŒPlayerInputç»„ä»¶ä¾¿ä¼šè‡ªåŠ¨è·å–å…¶ä¸­çš„Action</p>
<p><strong>æ–¹æ³•çš„è§¦å‘</strong>ï¼šPlayerInputç»„ä»¶ä¸ºæˆ‘ä»¬æä¾›äº†4ç§æ–¹å¼è§¦å‘æ–¹æ³•ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåœ¨Behaviorå±æ€§ä¸­å¯ä»¥è¿›è¡Œé€‰æ‹©</p>
<ul>
<li>Send Messagesï¼šé€šè¿‡Unityæœ¬èº«çš„æ¶ˆæ¯æœºåˆ¶è§¦å‘æ–¹æ³•ï¼Œåªè¦åœ¨å¯¹åº”GameObjectæŒ‚è½½çš„è„šæœ¬ä¸­ç¼–å†™åä¸ºOnTï¼ˆTä¸ºå¯¹åº”Actionçš„åå­—ï¼Œåœ¨é€‰æ‹©Send Messagesæ–¹æ³•åä¼šåœ¨ä¸‹æ–¹æ˜¾ç¤ºåº”è¯¥ç¼–å†™çš„æ–¹æ³•åï¼‰çš„æ–¹æ³•å³å¯ï¼Œè¿™ç§æ–¹æ³•åº”ç”¨æ–¹ä¾¿ï¼Œä½†æ˜¯Unityçš„æ¶ˆæ¯åˆ©ç”¨çš„æ˜¯åå°„æœºåˆ¶ï¼Œæ•ˆç‡è¾ƒå·®</li>
</ul>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202305231927303.png" alt="image-20230523192728237"></p>
<ul>
<li>Broadcast Messagesï¼šé€šè¿‡Unityçš„æ¶ˆæ¯å¹¿æ’­è§¦å‘æ–¹æ³•ï¼Œæœ¬è´¨ä¸Send Messageså¹¶ä¸ä¸åŒï¼ŒåŒºåˆ«æ˜¯å¯ä»¥å°†æ¶ˆæ¯å¹¿æ’­åˆ°å­ç‰©ä½“ï¼Œä½†æ•ˆç‡æ›´å·®äº†</li>
<li>Invoke Unity Eventsï¼šåˆ©ç”¨UnityEventsè§¦å‘æ–¹æ³•ï¼Œä¸Buttonç­‰åˆ©ç”¨UnityEventsçš„æ–¹æ³•ä¸€æ ·ï¼Œåœ¨Inspectorä¸­å¯¹åº”Actionçš„EventsListä¸­æ·»åŠ äº‹ä»¶å³å¯ï¼Œç¼ºç‚¹æ˜¯éœ€è¦æ‹–æ¥æ‹–å‡ºï¼Œéå¸¸ç¹çï¼Œåœ¨éœ€è¦å¤„ç†å¤§é‡äº‹ä»¶æ—¶æ“ä½œéº»çƒ¦</li>
<li>Invoke C Sharp Eventsï¼šåˆ©ç”¨C#çš„Eventsåœ¨è„šæœ¬ä¸­æ‰‹åŠ¨æ³¨å†Œå›è°ƒï¼Œè§¦å‘æ–¹æ³•ï¼Œæ•ˆç‡è¾ƒé«˜ï¼Œåˆ©ç”¨C#çš„Eventså†™èµ·æ¥ä¹Ÿä¼šæ¯”è¾ƒä¼˜é›…ï¼Œéœ€è¦åœ¨è„šæœ¬ä¸­å…ˆè·å–PlayerInputç»„ä»¶ï¼Œé€šè¿‡å…¶ä¸­çš„onActionTriggeredè§¦å‘äº‹ä»¶ï¼Œç¼ºç‚¹æ˜¯åªæœ‰onActionTriggeredä¸€ä¸ªäº‹ä»¶ï¼Œè‹¥æœ‰å¤šä¸ªActionéœ€è¦è¿›è¡Œå•ç‹¬åˆ¤æ–­</li>
</ul>
<p><em>åœ¨ä½¿ç”¨PlayerInputæ—¶ï¼Œå…¶å®æˆ‘ä»¬å¹¶ä¸ä¸€å®šè¦é‡‡å–å…¶æä¾›ç»™æˆ‘ä»¬çš„å››ç§æ–¹æ³•è¿›è¡Œæ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨è„šæœ¬ä¸­è·å–PlayerInputç»„ä»¶çš„å®ä¾‹ï¼Œç›´æ¥åœ¨å®ä¾‹ä¸­è·å–ç‰¹å®šActionï¼Œåé€šè¿‡Actionç›´æ¥è¿›è¡Œæ–¹æ³•çš„ç»‘å®šï¼Œè¿™ç§ä½¿ç”¨æ–¹æ³•ä¸ä¸‹é¢è¦è¯´çš„åˆ©ç”¨InputActionAssetsç”ŸæˆC#ç±»ç±»ä¼¼ï¼Œæ•…ä¸å†èµ˜è¿°</em></p>
<h3 id="é€šè¿‡ActionMapç”ŸæˆC-ç±»è¿›è¡Œç»‘å®š">é€šè¿‡ActionMapç”ŸæˆC#ç±»è¿›è¡Œç»‘å®š</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202305232310377.png" style="zoom: 50%;" />
<p>åœ¨åˆ›å»ºå®ŒæˆInputActionAssetåï¼Œç‚¹å‡»åˆ›å»ºçš„æ–‡ä»¶ï¼Œåœ¨Inspectorç•Œé¢ä¸­ä¾¿å¯ä»¥çœ‹åˆ°Generate C# Classé€‰é¡¹ï¼Œå‹¾é€‰è¯¥é€‰é¡¹ï¼Œç‚¹å‡»Applyä¾¿å¯ä»¥ç”Ÿæˆä¸InputActionAssetæ–‡ä»¶åŒåçš„C#ç±»ï¼Œè¿™ä¸ªç±»ä¸­åŒ…å«äº†InputActionAssetä¸­çš„æ‰€æœ‰æ•°æ®</p>
<p>ä¹‹åæˆ‘ä»¬ä¾¿å¯ä»¥ç›´æ¥åœ¨è„šæœ¬ä¸­é€šè¿‡newå¯¹åˆšåˆšç”Ÿæˆçš„C#ç±»è¿›è¡Œå®ä¾‹åŒ–ï¼Œè°ƒç”¨å…¶ä¸­çš„æ•°æ®ä¸å›è°ƒå‡½æ•°ã€</p>
<p><em>è®°å¾—ä¸€å®šè¦å…ˆEnableï¼Œä¸ç„¶ä¸ä¼šèµ·ä½œç”¨</em></p>
<p>æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Test</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// IS_Test ä¸ºInputActionAssetä¸ç”Ÿæˆçš„C#ç±»çš„åå­—</span></span><br><span class="line">    <span class="keyword">private</span> IS_Test _inputAction;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// å®ä¾‹åŒ–</span></span><br><span class="line">        _inputAction = <span class="keyword">new</span> IS_Test();</span><br><span class="line">        <span class="comment">// æ³¨å†Œå›è°ƒ</span></span><br><span class="line">        _inputAction.Games.Move.performed += OnMove;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnEnable</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        _inputAction.Enable();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnDestroy</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        _inputAction.Disable();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å›è°ƒå‡½æ•°ï¼Œæ³¨æ„*å›è°ƒå‡½æ•°çš„å‚æ•°å¿…é¡»ä¸ºInputAction.CallbackContext</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnMove</span>(<span class="params">InputAction.CallbackContext obj</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(obj.ReadValue&lt;Vector2&gt;());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="åŸºäºInput-Systemçš„InputManagerçš„å®ç°">åŸºäºInput Systemçš„InputManagerçš„å®ç°</h2>
<p>åœ¨ä¸Šæ–‡ä¸­ï¼Œæˆ‘æ¢³ç†äº†ä¸€éInput Systemçš„ä½¿ç”¨æ–¹æ³•ï¼Œè€Œç°åœ¨è®©æˆ‘ä»¬å®ç°ä¸€ä¸ªåŸºäºInput Systemçš„è¾“å…¥ç®¡ç†å™¨æ¨¡å—å§ï¼</p>
<p><em>æ‘†äº†ï¼ä»¥åå†å†™</em></p>
]]></content>
      <categories>
        <category>Notes</category>
        <category>Unity</category>
      </categories>
      <tags>
        <tag>Note</tag>
        <tag>Unity</tag>
        <tag>Input System</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Œ3B1B-çº¿æ€§ä»£æ•°çš„æœ¬è´¨ã€å­¦ä¹ ç¬”è®°</title>
    <url>/posts/100/</url>
    <content><![CDATA[<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304100312370.png" alt="image-20230410031239217" style="zoom:50%;" />
<blockquote>
<p>è§†é¢‘åœ°å€: <a href="https://www.bilibili.com/video/BV1ys411472E">https://www.bilibili.com/video/BV1ys411472E</a></p>
</blockquote>
<hr>
<h1>çº¿æ€§ä»£æ•°çš„æœ¬è´¨</h1>
<h2 id="å‘é‡æ˜¯ä»€ä¹ˆ">å‘é‡æ˜¯ä»€ä¹ˆ</h2>
<h3 id="å‘é‡çš„ä¸‰ç§ç†è§£">å‘é‡çš„ä¸‰ç§ç†è§£</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304100320590.png" alt="image-20230410032014523" style="zoom: 33%;" />
<ul>
<li>ç‰©ç†: å‘é‡æ˜¯ç©ºé—´ä¸­çš„ç®­å¤´ï¼Œå†³å®šä¸€ä¸ªå‘é‡çš„æ˜¯å®ƒçš„é•¿åº¦ä¸æ‰€æŒ‡çš„æ–¹å‘</li>
<li>è®¡ç®—æœº: å‘é‡æ˜¯æœ‰åºçš„æ•°å­—åˆ—è¡¨</li>
<li>æ•°å­¦: A Vector can be anything! åªè¦ä¿è¯ä¸¤ä¸ªå‘é‡ç›¸åŠ /æ•°ä¹˜æœ‰æ„ä¹‰å³å¯</li>
</ul>
<h3 id="çº¿æ€§ä»£æ•°ä¸­çš„å‘é‡">çº¿æ€§ä»£æ•°ä¸­çš„å‘é‡</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304100328975.png" alt="image-20230410032831917" style="zoom:33%;" />
<p>ä»å‡ ä½•ç›´è§‚çš„è§’åº¦å‡ºå‘ï¼Œçº¿ä»£ä¸­çš„å‘é‡æ˜¯ä½äºåæ ‡ç³»ä¸­ä¸”å§‹ç»ˆå‡ºå‘äºåŸç‚¹çš„ç®­å¤´ï¼Œå…¶åæ ‡ä»£è¡¨äº†å…¶è·ç¦»åæ ‡è½´çš„è·ç¦»</p>
<p>(å› ä¸ºç»å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå‘é‡çš„èµ·ç‚¹éƒ½æ˜¯åŸç‚¹ï¼Œæ‰€ä»¥æœ‰æ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†å‘é‡çœ‹åšåæ ‡ç³»ä¸­çš„ä¸€ä¸ªç‚¹æ¥è¿›è¡Œç†è§£)</p>
<h3 id="å‘é‡çš„åŸºæœ¬è¿ç®—">å‘é‡çš„åŸºæœ¬è¿ç®—</h3>
<ul>
<li>åŠ æ³•: ä¸‰è§’å½¢æ³•åˆ™â€”æè¿°äº†ä¸¤ä¸ªå‘é‡è¿åŠ¨çš„å åŠ </li>
<li>æ•°ä¹˜: å¯¹äºå‘é‡çš„æ‹‰ä¼¸ã€å‹ç¼©ã€ç¿»è½¬</li>
</ul>
<hr>
<h2 id="çº¿æ€§ç»„åˆã€å¼ æˆç©ºé—´ä¸åŸºå‘é‡">çº¿æ€§ç»„åˆã€å¼ æˆç©ºé—´ä¸åŸºå‘é‡</h2>
<h3 id="çº¿æ€§ç»„åˆ">çº¿æ€§ç»„åˆ</h3>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304100335051.png" alt="image-20230410033539016"></p>
<p>ä¸¤ä¸ªæ•°ä¹˜å‘é‡çš„å’Œè¢«ç§°ä¸ºè¿™ä¸¤ä¸ªå‘é‡çš„çº¿æ€§ç»„åˆ</p>
<p>â€œçº¿æ€§â€çš„ä¸€ç§ç†è§£: åœ¨å‘é‡çš„ç»„åˆä¸­ï¼Œå¦‚æœå›ºå®šå…¶ä¸­ä¸€ä¸ªæ ‡é‡ï¼Œè®©å¦ä¸€ä¸ªæ ‡é‡è‡ªç”±å˜åŒ–ï¼Œæ‰€äº§ç”Ÿçš„å‘é‡çš„ç»ˆç‚¹ä¼šæå‡ºä¸€æ¡ç›´çº¿</p>
<p>çº¿æ€§ç»„åˆå­˜åœ¨ä¸åŒæƒ…å†µ: å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œvå’Œwçš„çº¿æ€§ç»„åˆå¯ä»¥åˆ°è¾¾äºŒç»´ç©ºé—´ä¸­çš„ä»»æ„ç‚¹ï¼Œè€Œå°‘éƒ¨åˆ†æƒ…å†µä¸‹(å…±çº¿/éƒ½æ˜¯é›¶å‘é‡)æ—¶ï¼Œå®ƒä»¬åªèƒ½åˆ°è¾¾ä¸€æ¡ç›´çº¿/åŸç‚¹</p>
<h3 id="å¼ æˆç©ºé—´-span">å¼ æˆç©ºé—´(span)</h3>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304100338169.png" alt="image-20230410033843131"></p>
<p>æ‰€æœ‰å¯ä»¥è¡¨ç¤ºä¸ºç»™å®šå‘é‡çº¿æ€§ç»„åˆçš„å‘é‡çš„é›†åˆè¢«ç§°ä¸ºç»™å®šå‘é‡å¼ æˆçš„ç©ºé—´</p>
<h3 id="çº¿æ€§ç›¸å…³ä¸çº¿æ€§æ— å…³">çº¿æ€§ç›¸å…³ä¸çº¿æ€§æ— å…³</h3>
<ul>
<li>çº¿æ€§ç›¸å…³:</li>
</ul>
<p>â€‹	å½“æˆ‘ä»¬æœ‰å¤šä¸ªå‘é‡ï¼Œå¹¶ä¸”å¯ä»¥ç§»é™¤å…¶ä¸­çš„ä¸€ä¸ªè€Œä¸å‡å°å¼ æˆçš„ç©ºé—´ï¼Œåˆ™è¿™äº›å‘é‡â€œçº¿æ€§ç›¸å…³â€</p>
<p>â€‹	å¦ä¸€ç§è¡¨è¿°ï¼Œå…¶ä¸­ä¸€ä¸ªå‘é‡å¯ä»¥è¡¨ç¤ºä¸ºå…¶å®ƒå‘é‡çš„çº¿æ€§ç»„åˆ</p>
<ul>
<li>çº¿æ€§ç›¸å…³:</li>
</ul>
<p>â€‹	å¦‚æœæ‰€æœ‰çš„å‘é‡éƒ½ç»™å¼ æˆçš„ç©ºé—´å¢åŠ äº†æ–°çš„ç»´åº¦ï¼Œåˆ™ç§°è¿™äº›å‘é‡â€œçº¿æ€§æ— å…³â€</p>
<h3 id="åŸºå‘é‡">åŸºå‘é‡</h3>
<p>å‘é‡ç©ºé—´çš„ä¸€ç»„åŸºæ˜¯å¼ æˆè¯¥ç©ºé—´çš„ä¸€ä¸ªçº¿æ€§æ— å…³çš„å‘é‡é›†</p>
<hr>
<h2 id="çŸ©é˜µä¸çº¿æ€§å˜æ¢">çŸ©é˜µä¸çº¿æ€§å˜æ¢</h2>
<h3 id="çº¿æ€§å˜æ¢">çº¿æ€§å˜æ¢</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304100357189.png" alt="image-20230410035722134" style="zoom:50%;" />
<p>â€œçº¿æ€§å˜æ¢â€ä¸­â€œå˜æ¢â€ä¸€è¯çš„æœ¬è´¨ä¾¿æ˜¯å‡½æ•°ï¼Œå…¶æ¥å—è¾“å…¥å¹¶è¾“å‡ºå¯¹åº”ç»“æœã€‚</p>
<p>é‡‡ç”¨â€œå˜æ¢â€ä¸€è¯æ¥æè¿°ï¼Œç€é‡çªå‡ºäº†å…¶å¸¦æœ‰çš„â€œè¿åŠ¨å±æ€§â€ï¼Œå³å¹¶ä¸æ˜¯å•çº¯çš„ç”±aå¾—bï¼Œè€Œæ˜¯ç”±aè¿åŠ¨åˆ°bï¼Œè¿™å¯¹äºå‘é‡æœ‰ç€éå¸¸å¥½çš„å‡ ä½•ç›´è§‚</p>
<p>è€Œçº¿æ€§ä»£æ•°ä¸­çš„å˜æ¢ï¼Œä¾¿æ˜¯å°†å‘é‡ç©ºé—´ä¸­çš„æ‰€æœ‰ç‚¹ç§»åŠ¨åˆ°å¦ä¸€ä¸ªä½ç½®ä¸Š</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304100402034.png" alt="image-20230410040256993" style="zoom:33%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304100403770.png" alt="image-20230410040341704" style="zoom:33%;" />
<p>è€Œçº¿æ€§å˜æ¢ä¾¿æ˜¯ä¸€ç§ç‰¹æ®Šçš„å˜æ¢ï¼Œå…¶æœ‰ç€ä¸¤æ¡æ€§è´¨:</p>
<ul>
<li>ç›´çº¿åœ¨å˜æ¢åä»ä¸ºç›´çº¿</li>
<li>åŸç‚¹ä¸èƒ½ç§»åŠ¨</li>
</ul>
<p>çº¿æ€§å˜æ¢æ˜¯è®©ç½‘æ ¼çº¿ä¿æŒå¹³è¡Œä¸”ç­‰è·åˆ†å¸ƒçš„å˜æ¢ï¼Œå¹¶ä¿æŒåŸç‚¹ä¸åŠ¨</p>
<p><strong>åªéœ€è¦è®°å½•å˜æ¢å‰åçš„ä¸€ç»„åŸºå‘é‡ï¼Œå³å¯ç”¨å…¶çš„çº¿æ€§ç»„åˆæè¿°ç©ºé—´ä¸­ä»»æ„å‘é‡çš„å¯¹åº”å˜æ¢</strong></p>
<h3 id="çŸ©é˜µä¹˜æ³•çš„å‡ ä½•æ„ä¹‰">çŸ©é˜µä¹˜æ³•çš„å‡ ä½•æ„ä¹‰</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304100410685.webp" alt="img" style="zoom: 67%;" />
<p>æ–¹é˜µçš„æ¯ä¸€åˆ—éƒ½æ˜¯ä¸€ä¸ªåŸºå‘é‡å˜æ¢åçš„å€¼ï¼Œç”¨æ–¹é˜µä¹˜ä»¥(x,y)å‘é‡å³å¯å¾—(x,y)ç»è¿‡å¯¹åº”çº¿æ€§å˜æ¢åçš„å€¼</p>
<p>æ¯å½“çœ‹åˆ°çŸ©é˜µæ—¶ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥æŠŠå®ƒç†è§£ä¸ºå¯¹ç©ºé—´çš„ä¸€ç§ç‰¹å®šå˜æ¢</p>
<hr>
<h2 id="çŸ©é˜µä¹˜æ³•ä¸çº¿æ€§å˜æ¢çš„å¤åˆ">çŸ©é˜µä¹˜æ³•ä¸çº¿æ€§å˜æ¢çš„å¤åˆ</h2>
<p>çº¿æ€§å˜æ¢å¯ä»¥å¤åˆï¼Œå³å¤šæ¬¡ç‹¬ç«‹çš„çº¿æ€§å˜æ¢å¯ä»¥å½¢æˆä¸€ä¸ªæ–°çš„çº¿æ€§å˜æ¢ï¼Œè¿™ä¸ªå˜æ¢è¢«ç§°ä¸ºâ€œå¤åˆå˜æ¢â€</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304130148780.png" alt="image-20230413014833701" style="zoom:50%;" />
<p>è€Œå¤åˆå˜æ¢çš„å˜æ¢çŸ©é˜µå³ä¸ºä¹‹å‰çš„ç‹¬ç«‹çº¿æ€§å˜æ¢çŸ©é˜µçš„ç§¯ï¼Œæ ¹æ®å˜æ¢é¡ºåºï¼Œä»å³å¾€å·¦ç›¸ä¹˜</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304130151133.png" alt="image-20230413015109095" style="zoom:50%;" />
<p>åŒæ—¶éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒçŸ©é˜µä¹˜æ³•ä¸å…·æœ‰äº¤æ¢å¾‹ï¼Œåæ˜ åˆ°å‡ ä½•ç›´è§‚ä¸Šï¼ŒåŒæ ·ä¸¤æ¬¡ç‹¬ç«‹çš„çº¿æ€§å˜æ¢ï¼Œæ”¹å˜å˜æ¢çš„å…ˆåé¡ºåºä¼šä½¿æœ€åçš„å¤åˆå˜æ¢æ”¹å˜</p>
<hr>
<h2 id="è¡Œåˆ—å¼">è¡Œåˆ—å¼</h2>
<h3 id="è¡Œåˆ—å¼çš„å‡ ä½•æ„ä¹‰">è¡Œåˆ—å¼çš„å‡ ä½•æ„ä¹‰</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304130156166.png" alt="image-20230413015615112" style="zoom:50%;" />
<p>çº¿æ€§å˜æ¢æ”¹å˜ç©ºé—´é¢ç§¯çš„æ¯”ä¾‹ï¼Œæˆä¸ºå˜æ¢çš„è¡Œåˆ—å¼</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304130157043.png" alt="image-20230413015704985" style="zoom:50%;" />
<p>å½“è¡Œåˆ—å¼ä¸º0æ—¶ï¼Œè¿™æ„å‘³ç€è¿™æ¬¡å˜æ¢å°†ä¸€ä¸ªå¹³é¢å‹ç¼©åˆ°äº†ä¸€æ¡çº¿/ä¸€ä¸ªç‚¹ä¸Šï¼Œå°†ç©ºé—´å‹ç¼©åˆ°äº†æ›´å°çš„ç»´åº¦ä¸Š</p>
<p>è¿™å¯¹å˜æ¢æ¥è¯´æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨é‡è¦çš„æ€§è´¨ï¼Œè¿™æ„å‘³ç€è¿™æ¬¡å˜æ¢æ˜¯â€œçº¿æ€§ç›¸å…³â€çš„</p>
<h3 id="è¡Œåˆ—å¼çš„è´Ÿæ•°æƒ…å†µ">è¡Œåˆ—å¼çš„è´Ÿæ•°æƒ…å†µ</h3>
<p>æ ¹æ®è¡Œåˆ—å¼çš„å‡ ä½•æ„ä¹‰ï¼Œå…¶ä»£è¡¨ç©ºé—´æ”¹å˜çš„æ¯”ä¾‹ï¼Œä½†è¿™æ— æ³•è§£é‡Šä¸ºä»€ä¹ˆè¡Œåˆ—å¼å­˜åœ¨è´Ÿæ•°</p>
<p>è€Œè¿™å…¶å®æ˜¯ç”±äºç©ºé—´çš„ç¿»è½¬å¯¼è‡´çš„ï¼Œæœ‰æ—¶å˜æ¢ä¼šå¯¼è‡´ç©ºé—´å‘ç”Ÿç¿»è½¬ï¼Œä½¿å¾—ç©ºé—´çš„å®šå‘(Orientation)å‘ç”Ÿæ”¹å˜ï¼Œè€Œè¡Œåˆ—å¼çš„è´Ÿå·è¡¨æ˜äº†è¿™ç‚¹ï¼Œæ­¤æ—¶è¡Œåˆ—å¼çš„ç»å¯¹å€¼ä»ç„¶ä»£è¡¨ç€ç©ºé—´çš„æ”¹å˜æ¯”ä¾‹</p>
<p>ä¸‰ç»´ç©ºé—´çš„è¡Œåˆ—å¼çš„è´Ÿæ•°å«ä¹‰ï¼šç”±å³æ‰‹ç³»å˜ä¸ºå·¦æ‰‹ç³»</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304130205801.png" alt="image-20230413020509744" style="zoom:50%;" />
<hr>
<h2 id="é€†çŸ©é˜µã€åˆ—ç©ºé—´ä¸é›¶ç©ºé—´">é€†çŸ©é˜µã€åˆ—ç©ºé—´ä¸é›¶ç©ºé—´</h2>
<h3 id="åˆ©ç”¨çº¿æ€§ä»£æ•°æ±‚è§£æ–¹ç¨‹ç»„">åˆ©ç”¨çº¿æ€§ä»£æ•°æ±‚è§£æ–¹ç¨‹ç»„</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304130208815.png" alt="image-20230413020806766" style="zoom:50%;" />
<p>çº¿æ€§ä»£æ•°çš„ä¸€å¤§åº”ç”¨ä¾¿æ˜¯å…¶å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„ï¼Œæˆ‘ä»¬å¯ä»¥å°†çº¿æ€§æ–¹ç¨‹ç»„æŠ½è±¡ä¸ºä¸€ç§å°†æœªçŸ¥å‘é‡å˜ä¸ºå·²çŸ¥å‘é‡çš„ç‰¹å®šçš„å˜æ¢ï¼Œèµ‹äºˆäº†æ–¹ç¨‹ç»„å‡ ä½•æ„ä¹‰</p>
<ul>
<li>å½“Aå˜æ¢è¡Œåˆ—å¼ä¸ä¸º0æ—¶ï¼š</li>
</ul>
<p>è¿™ä»£è¡¨ç€å˜æ¢ä¸ä¼šç¼©å°ç©ºé—´çš„ç»´åº¦ï¼Œæ„å‘³ç€æˆ‘ä»¬æ°¸è¿œå¯ä»¥æ‰¾åˆ°æ»¡è¶³æ–¹ç¨‹ç»„çš„å˜æ¢ï¼Œä¹‹ååªéœ€è¦é€šè¿‡é€†å˜æ¢å›æº¯å˜æ¢å°±å¯ä»¥æ±‚å‡ºä½ç½®å‘é‡</p>
<ul>
<li>å½“Aå˜æ¢è¡Œåˆ—å¼ä¸º0æ—¶ï¼š</li>
</ul>
<p>è¿™ä»£è¡¨ç€å˜æ¢ä¼šå°†ç©ºé—´å‹ç¼©åˆ°æ›´ä½çš„ç»´åº¦ä¸Šï¼Œè¿™ç§æƒ…å†µä¸‹é€†å˜æ¢å°†ä¸å­˜åœ¨ï¼Œå¦‚æœæ°å¥½ç›®æ ‡å‘é‡æ­£å¥½ä»åœ¨ç©ºé—´ä¸­ï¼Œåˆ™å¯ä»¥æ±‚è§£ï¼Œå¦åˆ™æ— è§£</p>
<p>å¯¹ç©ºé—´ç»´åº¦çš„å‹ç¼©æ„å‘³ç€ä¼šæœ‰å¤šä¸ªè¾“å…¥å¯¹åº”ä¸€ä¸ªè¾“å‡º</p>
<h3 id="ç§©-Rank">ç§©(Rank)</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304130218890.png" alt="image-20230413021856846" style="zoom:50%;" />
<p>ç§©æ„å‘³ç€å˜æ¢åç©ºé—´çš„ç»´æ•°</p>
<p>æ›´å‡†ç¡®çš„æ¥è¯´: åˆ—ç©ºé—´çš„ç»´æ•°è¢«ç§°ä¸ºç§©</p>
<h3 id="åˆ—ç©ºé—´">åˆ—ç©ºé—´</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304130220425.png" alt="image-20230413022023369" style="zoom:50%;" />
<p>æŸä¸€å˜æ¢æ‰€æœ‰å¯èƒ½çš„è¾“å‡ºå‘é‡çš„é›†åˆï¼Œè¢«ç§°ä¸ºæ­¤å‘é‡çš„åˆ—ç©ºé—´</p>
<p>çŸ©é˜µçš„åˆ—å‘Šè¯‰ä½ åŸºå‘é‡å˜æ¢åçš„ä½ç½®ï¼Œè¿™äº›å˜æ¢åçš„åŸºå‘é‡å¼ æˆçš„ç©ºé—´å°±æ˜¯æ‰€æœ‰å¯èƒ½çš„å˜æ¢ç»“æœ</p>
<p>åˆ—ç©ºé—´å°±æ˜¯çŸ©é˜µçš„åˆ—æ‰€å¼ æˆçš„ç©ºé—´</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå› ä¸ºçº¿æ€§å˜æ¢è§„å®šåŸç‚¹ä¸å¯å˜ï¼Œæ•…é›¶å‘é‡ä¸€å®šä¼šè¢«åŒ…å«åœ¨åˆ—ç©ºé—´ä¸­</p>
<h3 id="é›¶ç©ºé—´">é›¶ç©ºé—´</h3>
<p>ä¸€äº›å‘é‡åœ¨å˜æ¢åä¼šè½åœ¨é›¶å‘é‡/åŸç‚¹ä¸Šï¼Œè¿™äº›å‘é‡çš„é›†åˆè¢«ç§°ä¸ºé›¶ç©ºé—´</p>
<p>å¯¹äºæ»¡ç§©çš„å˜æ¢æ¥è¯´ï¼Œé›¶ç©ºé—´å°±æ˜¯åŸç‚¹è‡ªèº«</p>
<p>è€Œå¯¹äºä¸€ä¸ªéæ»¡ç§©çš„å˜æ¢æ¥è¯´ï¼Œå› ä¸ºå…¶å¯¹ç©ºé—´çš„å‹ç¼©ï¼Œä¼šæœ‰æŸä¸ªé¢/æŸæ¡çº¿æˆä¸ºé›¶ç©ºé—´</p>
<hr>
<h2 id="ç‚¹ç§¯ä¸å¯¹å¶æ€§">ç‚¹ç§¯ä¸å¯¹å¶æ€§</h2>
<h3 id="ç‚¹ç§¯çš„æ ‡å‡†è§£é‡Š">ç‚¹ç§¯çš„æ ‡å‡†è§£é‡Š</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304130230312.png" alt="image-20230413023002271" style="zoom:50%;" />
<p>ä¸¤ä¸ªç»´æ•°ç›¸åŒçš„å‘é‡ï¼Œå°†å¯¹åº”åæ ‡é…å¯¹ç›¸ä¹˜åç›¸åŠ </p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304130231015.png" alt="image-20230413023128940" style="zoom:50%;" />
<p>å‡ ä½•ç†è§£: æŸä¸€å‘é‡åœ¨å¦ä¸€å‘é‡ä¸Šçš„æŠ•å½±é•¿åº¦ä¸å¦ä¸€å‘é‡æ¨¡é•¿çš„ä¹˜ç§¯</p>
<h3 id="çº¿æ€§ä»£æ•°è§†è§’ä¸­çš„ç‚¹ç§¯">çº¿æ€§ä»£æ•°è§†è§’ä¸­çš„ç‚¹ç§¯</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304130239670.png" alt="image-20230413023939605" style="zoom:50%;" />
<p>å°†ç‚¹ç§¯ä¸­çš„æŸä¸€å‘é‡çœ‹åšä¸€ç§ç”±<strong>äºŒç»´å‘ä¸€ç»´çš„å˜æ¢</strong></p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304130244388.png" alt="image-20230413024445329" style="zoom:50%;" />
<p><strong>é€šè¿‡å¯¹ç§°æ€§ï¼Œå¯ä»¥å‘ç°è¿™ç§äºŒç»´å‘ä¸€ç»´çš„å˜æ¢çŸ©é˜µå°±æ˜¯è¿™ä¸€å‘é‡çš„xï¼Œyåæ ‡ï¼Œè¿™å¤ªé…·äº†ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</strong></p>
<hr>
<h2 id="å‰ç§¯">å‰ç§¯</h2>
<h3 id="å‰ç§¯çš„æ ‡å‡†è§£é‡Š">å‰ç§¯çš„æ ‡å‡†è§£é‡Š</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304131755993.png" alt="image-20230413175520918" style="zoom:50%;" />
<p>æ¨¡é•¿ä¸ºä¸¤ä¸ªå‘é‡é€šè¿‡å¹³ç§»å½¢æˆçš„å¹³è¡Œå››è¾¹å½¢çš„é¢ç§¯</p>
<p>æ–¹å‘ä¸ºVWå‘é‡çš„ç›¸å¯¹ä½ç½®</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304150406598.png" alt="image-20230415040637504" style="zoom:50%;" />
<p>å¯¹äºä¸‰ç»´å‘é‡ï¼Œå…¶å‡ ä½•æ„ä¹‰æ˜¯ä¾æ®å³æ‰‹ç³»å¯¼å‡ºä¸€ä¸ªåŒæ—¶å‚ç›´äºvã€wçš„å‘é‡ï¼Œä¸”å…¶æ¨¡é•¿ä¸ºvã€wå½¢æˆçš„å¹³è¡Œå››è¾¹å½¢çš„é¢ç§¯ï¼Œè®¡ç®—å…¬å¼å¦‚ä¸Š</p>
<h3 id="ä»¥çº¿æ€§ä»£æ•°çš„çœ¼å…‰çœ‹å¾…å‰ç§¯">ä»¥çº¿æ€§ä»£æ•°çš„çœ¼å…‰çœ‹å¾…å‰ç§¯</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304150411093.png" alt="image-20230415041158985" style="zoom: 33%;" />
<hr>
<h2 id="åŸºå˜æ¢">åŸºå˜æ¢</h2>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304150430127.png" alt="image-20230415043031077" style="zoom:50%;" />
<p>å‘ç”Ÿåœ¨å‘é‡ä¸ä¸€ç»„æ•°ä¹‹é—´çš„ä»»æ„ä¸€ç§è½¬åŒ–ï¼Œéƒ½è¢«ç§°ä¸ºä¸€ä¸ªåæ ‡ç³»</p>
<p>è€Œåæ ‡ç³»çš„åŸºå‘é‡è§„å®šäº†è¿™ç§è½¬åŒ–ï¼Œé‡‡ç”¨ä¸åŒçš„åŸºå‘é‡ï¼Œåæ ‡ç³»çš„æ˜ å°„å…³ç³»ä¾¿ä¼šå‘ç”Ÿæ”¹å˜</p>
<p>è€Œé€šè¿‡å˜æ¢çŸ©é˜µå¯ä»¥å®ç°åŸºå‘é‡çš„å˜æ¢</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304150435050.png" alt="image-20230415043533994" style="zoom:33%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304150436557.png" alt="image-20230415043651504" style="zoom: 50%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304150439622.png" alt="image-20230415043900570" style="zoom:50%;" />
<hr>
<h2 id="ç‰¹å¾å‘é‡ä¸ç‰¹å¾å€¼">ç‰¹å¾å‘é‡ä¸ç‰¹å¾å€¼</h2>
<h3 id="å®šä¹‰">å®šä¹‰</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304150443258.png" alt="image-20230415044306169" style="zoom:50%;" />
<p>ç‰¹å¾å‘é‡ï¼šåœ¨å˜æ¢ä¸­å¼ æˆæ–¹å‘ä¿æŒä¸å˜çš„å‘é‡</p>
<p>ç‰¹å¾å€¼ï¼šç‰¹å¾å‘é‡è¢«æ‹‰ä¼¸/å‹ç¼©æ¯”ä¾‹çš„ç³»æ•°</p>
<h3 id="è®¡ç®—æ€æƒ³">è®¡ç®—æ€æƒ³</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304150446401.png" alt="image-20230415044635353" style="zoom:50%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304150451537.png" alt="image-20230415045155504" style="zoom:50%;" />
<h3 id="ç‰¹å¾åŸº">ç‰¹å¾åŸº</h3>
<p>ä»¥ç‰¹å¾å‘é‡ä¸ºåŸºå‘é‡ä¼šä½¿è®¸å¤šè®¡ç®—å˜å¾—ç®€å•</p>
<hr>
<h2 id="æŠ½è±¡å‘é‡ç©ºé—´">æŠ½è±¡å‘é‡ç©ºé—´</h2>
<h3 id="çº¿æ€§çš„ä¸¥æ ¼å®šä¹‰">çº¿æ€§çš„ä¸¥æ ¼å®šä¹‰</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304150501610.png" alt="image-20230415050157546" style="zoom:50%;" />
<p>çº¿æ€§è®©ä¸€ä¸ªçº¿æ€§å˜æ¢å¯ä»¥é€šè¿‡å®ƒå¯¹åŸºå‘é‡çš„ä½œç”¨æ¥å®Œå…¨æè¿°ï¼Œè¿™ä½¿å¾—çŸ©é˜µå‘é‡ä¹˜æ³•æˆä¸ºå¯èƒ½</p>
<p>(æ±‚å¯¼å°±æ˜¯ä¸€ç§çº¿æ€§è¿ç®—)</p>
<h3 id="å‡½æ•°ä¸å‘é‡">å‡½æ•°ä¸å‘é‡</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304150507883.png" alt="image-20230415050754810" style="zoom:50%;" />
<h3 id="å‘é‡ç©ºé—´">å‘é‡ç©ºé—´</h3>
<p>å‘é‡ç©ºé—´æ˜¯æŠ½è±¡å‡ºæ¥çš„æ— å½¢æ¦‚å¿µï¼Œä»»ä½•æ»¡è¶³å…¬ç†çš„ä¸œè¥¿éƒ½å¯ä»¥è¢«ç§°ä¸ºå‘é‡ç©ºé—´ï¼Œå¹¶åº”ç”¨å‘é‡çš„æ€§è´¨</p>
<h3 id="ä¸‡ç‰©çš†å¯å‘é‡ï¼">ä¸‡ç‰©çš†å¯å‘é‡ï¼</h3>
]]></content>
      <categories>
        <category>Notes</category>
        <category>Mathematics</category>
        <category>ã€ŠEssence of Linear Algebraã€‹</category>
      </categories>
      <tags>
        <tag>Note</tag>
        <tag>çº¿æ€§ä»£æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŒUnity-Timelineã€å­¦ä¹ ç¬”è®°</title>
    <url>/posts/106/</url>
    <content><![CDATA[<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202312182321194.jpg" alt="Unity_Timeline"></p>
<h1>Timelineï¼šå¼ºå¤§çš„å¯è§†åŒ–æµç¨‹æ§åˆ¶å·¥å…·</h1>
<blockquote>
<p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.unity3d.com/Packages/com.unity.timeline@1.8/manual/index.html">https://docs.unity3d.com/Packages/com.unity.timeline@1.8/manual/index.html</a></p>
</blockquote>
<hr>
<h2 id="å‰è¨€">å‰è¨€</h2>
<p><code>Timeline</code>æ˜¯Unityä¸­çš„ä¸€ä¸ªå¼ºå¤§çš„å¯è§†åŒ–å·¥å…·ï¼Œç”¨äºåˆ›å»ºã€ç¼–è¾‘å’Œæ§åˆ¶å¤æ‚çš„æ—¶é—´çº¿åŠ¨ç”»å’Œå‰§æƒ…åºåˆ—ï¼Œå¯ä»¥è½»æ¾å®ç°å‰ªè¾‘ã€åŠ¨ç”»ã€ç‰¹æ•ˆå’ŒéŸ³é¢‘çš„ç²¾ç¡®æ—¶é—´æ§åˆ¶å’Œåè°ƒ</p>
<p>è€Œä»ç¬”è€…ç›®å‰çš„äº†è§£æ¥è¯´ï¼Œ<code>Timeline</code>å¯ä»¥åšçš„è¿œä¸æ­¢â€œåšå‰§æƒ…è¿‡ç¨‹â€è¿™ä¹ˆç®€å•ï¼Œå…¶æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¼ºå¤§çš„å¯è§†åŒ–æ—¶é—´è½´æ§åˆ¶å™¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å…¶å®ç°ä¸€å®šç¨‹åº¦çš„æµç¨‹æ§åˆ¶ï¼Œå³ä»æŸä¸€æ—¶åˆ»å¼€å§‹ä»¥æ—¢å®šåºåˆ—æ‰§è¡Œä¸€ç³»åˆ—äº‹ä»¶ï¼Œè€Œå¾—ç›Šäºå…¶æä¾›äº†å¯ä¾›è‡ªå®šä¹‰çš„æ¥å£ï¼Œè¿™ä¸ªâ€œäº‹ä»¶â€çš„å®šä¹‰å¯ä»¥éå¸¸å¹¿æ³›ï¼Œå¦‚å¯ä»¥ç”¨å…¶å®ç°ï¼š<code>åœ¨ç©å®¶æŒ‰ä¸‹å¼€ç«é”®åç«‹åˆ»è§¦å‘ä¸€ä¸ªç²’å­ç‰¹æ•ˆï¼Œ3å¸§åï¼Œç”Ÿæˆå­å¼¹é¢„åˆ¶ä½“ï¼Œ1ç§’åæ’­æ”¾ç©å®¶åŠ¨ç”»</code>ä¹‹ç±»çš„æ•ˆæœ</p>
<p>å¦‚æœåªä»è¿™ä¸ªè§’åº¦æ¥è¯´ï¼Œ<code>Animation</code>ç»„ä»¶ä¹Ÿå¯ä»¥å®ç°è¿™ä¸€æ•ˆæœï¼Œä½†å…¶åªèƒ½æ‰¿è½½ä¸€äº›æ¯”è¾ƒç®€å•çš„æµç¨‹æ§åˆ¶ï¼Œå¹¶ä¸”å¯è§†åŒ–ç¼–è¾‘ä½“éªŒå¹¶ä¸ç®—å¥½ï¼›è€Œ<code>Timeline</code>ç›¸æ¯”æ¥è¯´æ›´åŠ å¼ºå¤§ï¼Œå¯ä¾›æ‹“å±•çš„èŒƒå›´æ›´å¹¿ï¼Œå¹¶ä¸”å¯ä»¥å®ç°ä¸€å®šç¨‹åº¦çš„èŠ‚ç‚¹å¤ç”¨ï¼Œåœ¨å¯è§†åŒ–ç¼–è¾‘ä½“éªŒä¸Šæ¥è¯´ä¹Ÿæ›´åŠ ç°ä»£ï¼›åŒæ—¶ï¼Œ<code>Timeline</code>ä¹Ÿå¯ä»¥å¾ˆå¥½åœ°å’ŒåŸå…ˆçš„<code>Animation</code>ç³»ç»Ÿäº¤äº’</p>
<p>ä¹‹å‰åœ¨Unityä¸­ï¼Œè‹¥è¦åœ¨ä¸å€ŸåŠ©ç¬¬ä¸‰æ–¹æ’ä»¶çš„å‰æä¸‹è¿›è¡Œè¾ƒä¸ºç²¾ç¡®çš„æ—¶é—´è½´æ§åˆ¶ï¼Œå¾€å¾€ä½¿ç”¨åç¨‹æˆ–éš¾ç”¨çš„<code>Animation</code>ï¼Œè€Œ<code>Timeline</code>å¯ä»¥è¯´è¡¥è¶³äº†UnityåŠŸèƒ½çš„ä¸€å¤§ç©ºç¼ºï¼Œå¯ä»¥è¯´éå¸¸å¼ºå¤§äº†</p>
<hr>
<h2 id="Timelineæ¦‚å¿µæ¦‚è¿°">Timelineæ¦‚å¿µæ¦‚è¿°</h2>
<h3 id="è¿ä½œæ–¹å¼ï¼šTimelineä¸Animation">è¿ä½œæ–¹å¼ï¼šTimelineä¸Animation</h3>
<p>åœ¨æ•´ä½“çš„è¿ä½œæ–¹å¼ä¸Šï¼Œ<code>Timeline</code>ä¸<code>Animation</code>éå¸¸ç›¸åƒï¼›åœ¨ä½¿ç”¨<code>Animation</code>æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»º<code>Animation Clip</code>èµ„æºæ–‡ä»¶ï¼Œå¹¶åœ¨å¯¹åº”ç‰©ä½“ä¸ŠæŒ‚è½½<code>Animation</code>/<code>Animator</code>ç»„ä»¶ï¼Œé€šè¿‡ç»„ä»¶é©±åŠ¨<code>Animation Clip</code>è¿›è¡Œæ’­æ”¾ï¼›è€Œ<code>Timeline</code>ä¸å…¶å‡ ä¹ä¸€æ ·ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»º<code>Timeline</code>èµ„æºæ–‡ä»¶ï¼Œå¹¶åœ¨ç‰©ä½“ä¸ŠæŒ‚è½½<code>Playable Director</code>ç»„ä»¶ï¼Œé€šè¿‡å…¶æ¥é©±åŠ¨<code>Timeline</code>è¿›è¡Œæ’­æ”¾</p>
<p>è€ŒäºŒè€…ä¸åŒçš„åœ°æ–¹åœ¨äºï¼Œ<code>Animation</code>åœ¨è®¾è®¡ä¸Šæ˜¯ä¸æŒ‚è½½äº†<code>Animation</code>/<code>Animator</code>ç»„ä»¶ç‰©ä½“é«˜åº¦ç›¸å…³çš„ï¼Œå³åŠ¨ç”»åº”è¯¥æ˜¯å±äºæŸä¸€ç‰©ä½“çš„ï¼Œä¸€æ®µä¸»è§’èº«ä¸Šçš„åŠ¨ç”»åº”è¯¥æ˜¯å±äºä¸»è§’çš„ï¼Œå…¶åº”è¯¥åªå½±å“ä¸»è§’ï¼Œæˆ‘ä»¬å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡ä¸€äº›æ‰‹æ®µè®©å…¶æ§åˆ¶å…¶ä»–ç‰©ä½“ï¼Œä½†æ€»çš„æ¥è¯´å¾ˆä¸æ–¹ä¾¿ä¹Ÿå¾ˆä¸ä¼˜é›…ï¼›è€Œåœ¨<code>Timeline</code>ä¸­ï¼Œ<code>Playable Director</code>æ­£å¦‚å…¶ååªæ˜¯ä¸€ä¸ªâ€œå¯¼æ¼”â€ï¼Œå…¶åªæ‰¿æ‹…<code>Timeline</code>çš„é©±åŠ¨å’Œç®¡ç†ï¼Œè€Œå¯ä»¥ä¸ä¸<code>Timeline</code>æ‰€å½±å“çš„ç‰©ä½“ç›¸å…³ï¼Œå³å¯¼æ¼”åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¸ä¼šå‚æ¼”å…¶å¯¼æ¼”çš„ä½œå“ï¼Œè¿™èµ‹äºˆäº†<code>Timeline</code>æ— æ¯”çš„è‡ªç”±åº¦ï¼Œä½ å¯ä»¥åœ¨å…¶ä¸­æ§åˆ¶åœºæ™¯ä¸­çš„ä¸€åˆ‡</p>
<h3 id="æ„æˆæ–¹å¼ï¼šTrack-Clip">æ„æˆæ–¹å¼ï¼šTrack - Clip</h3>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202312300219644.png" alt="image-20231230021929575" style="zoom: 67%;" />
<p>äº†è§£äº†<code>Timeline</code>çš„å¤§ä½“è¿ä½œæ–¹å¼åï¼Œæˆ‘ä»¬è¯¥è®¤è¯†ä¸€ä¸ª<code>Timeline</code>çš„æ„æˆäº†ï¼›å®é™…ä¸Šï¼Œå¦‚æœä½ äº†è§£æˆ–ä½¿ç”¨è¿‡ä»»ä½•è§†é¢‘å‰ªè¾‘è½¯ä»¶ï¼Œå¦‚ï¼šPRã€è¾¾èŠ¬å¥‡ï¼Œä½ ä¾¿ä¼šå¯¹<code>Timeline</code>çš„ç»“æ„ä¸€ç›®äº†ç„¶ï¼Œ<code>Timeline</code>çš„æ„æˆæ–¹å¼ä¸è§†é¢‘å‰ªè¾‘è½¯ä»¶éå¸¸ç›¸ä¼¼</p>
<p><strong>Track</strong>ï¼š</p>
<ul>
<li>ä¸€ä¸ª<code>Timeline</code>ç”±0~Nä¸ª<code>Track</code>æ„æˆï¼Œ<code>Track</code>æ˜¯ä¸€ä¸ªæ— é™é•¿çš„æ—¶é—´è½´ï¼Œä¸€ä¸ª<code>Timeline</code>ä¸­çš„æ‰€æœ‰<code>Track</code>å…±ç”¨ä¸€ä¸ªæ—¶é—´è½´</li>
<li><code>Track</code>çš„å­˜åœ¨å…è®¸æˆ‘ä»¬æ–¹ä¾¿åœ°ç®¡ç†å¤šä¸ªç‰©ä½“çš„è¡Œä¸ºï¼Œå¦‚æˆ‘ä»¬å¸Œæœ›Aç‰©ä½“åœ¨1.0så‡ºç°ã€3.0så°æ—¶ï¼ŒBç‰©ä½“åœ¨2.0så‡ºç°ã€4.0sæ¶ˆå¤±ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥ä½¿ç”¨ä¸¤ä¸ª<code>Track</code>æ¥å®ç°è¿™ç‚¹</li>
<li><code>Track</code>æœ‰ä¸åŒçš„ç±»å‹ï¼Œå…¶æè¿°äº†<code>Track</code>çš„åŸºæœ¬åŠŸèƒ½ï¼ŒUnityå·²ç»ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€äº›é¢„åˆ¶å¥½çš„<code>Track</code>ï¼Œå¦‚æœ€åŸºæœ¬çš„<code>Activation Track</code>ä¾¿æ˜¯æ§åˆ¶ä¸€ä¸ªç‰©ä½“çš„<code>Active</code>çŠ¶æ€çš„</li>
</ul>
<p><strong>Clip</strong>ï¼š</p>
<ul>
<li>
<p>ä¸€ä¸ª<code>Track</code>ç”±0~Nä¸ª<code>Clip</code>æ„æˆï¼Œ<code>Clip</code>æ˜¯ä¸€ä¸ªæœ‰å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´çš„åŒºå—ï¼Œå…¶å­˜åœ¨äº<code>Track</code>ä¹‹ä¸Šï¼Œå½“æ—¶é—´è¿è¡Œåˆ°å¯¹åº”<code>Clip</code>æ—¶ï¼Œå…¶ä¾¿ä¼šæ‰§è¡Œå¯¹åº”è¡Œä¸º</p>
</li>
<li>
<p><code>Clip</code>å…è®¸æˆ‘ä»¬å¯¹ç‰©ä½“çš„çŠ¶æ€åœ¨æ—¶é—´è½´ä¸Šè¿›è¡Œç²¾ç¡®çš„å¹¶è¡Œçš„æ§åˆ¶ï¼Œå…¶ä¸<code>Track</code>çš„ç»“åˆå¯ä»¥å¾ˆå¥½åœ°å¸®åŠ©æˆ‘ä»¬å®ç°æƒ³è¦çš„æ•ˆæœ</p>
</li>
</ul>
<p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒTrackå’ŒClipæœ¬èº«å®é™…ä¸Šéƒ½ä¸å…·æœ‰å…·ä½“çš„åŠŸèƒ½ï¼Œå®ƒä»¬éƒ½æ˜¯å›è°ƒçš„è§¦å‘è€…ï¼ŒçœŸæ­£çš„é€»è¾‘ä½äºBehaviorä¹‹ä¸Šï¼Œè¿™ç‚¹åœ¨åç»­çš„è‡ªå®šä¹‰Trackéƒ¨åˆ†ä¼šè¯¦ç»†è¯´æ˜</strong></p>
<hr>
<h2 id="å„é»˜è®¤Trackä»‹ç»">å„é»˜è®¤Trackä»‹ç»</h2>
<h3 id="Activation-Track"><code>Activation Track</code></h3>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202401072301841.png" alt="image-20240107230145773"></p>
<p><code>Activation Track</code>ç”¨äºåœ¨ç‰¹å®šæ—¶é—´å¯ç”¨æˆ–ç¦ç”¨æ¸¸æˆå¯¹è±¡</p>
<p>Trackä¸Šå¯ä»¥ç»‘å®šä¸€ä¸ª<code>GameObject</code>å¯¹è±¡ï¼ˆè¿™ä¸€å¯¹è±¡æœ€å¥½ä¸æ˜¯Directorï¼Œç¦ç”¨Directorå°†ä¼šç»ˆæ­¢Timelineçš„æ’­æ”¾ï¼‰ï¼Œä¸€ä¸ª<code>Activation Track</code>åªèƒ½æ§åˆ¶ä¸€ä¸ªå¯¹è±¡ï¼›Clipåˆ™å†³å®šäº†å¯¹è±¡æ˜¾éšçš„å…·ä½“æ—¶é—´</p>
<p><em><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒClipåœ¨è®¾è®¡ä¸Šæ˜¯ä»å±äºTrackçš„ï¼Œä»æŠ½è±¡å±‚æ¥è¯´ä¸åº”è¯¥è®¿é—®Trackä¸Šçš„æ•°æ®ï¼ˆè¢«æ§åˆ¶å¯¹è±¡çš„å¼•ç”¨æ˜¯ç»‘å®šåœ¨Trackä¸Šçš„ï¼‰ï¼Œæ­¤å¤„å®é™…ä¸Šä½¿ç”¨äº†<code>Track Mixer</code>è¿›è¡Œå®ç°ï¼Œåœ¨åç»­çš„è‡ªå®šä¹‰Trackéƒ¨åˆ†ä¼šè¯¦ç»†è¯´æ˜</strong></em></p>
<h3 id="Animation-Track"><code>Animation Track</code></h3>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202401072311002.png" alt="image-20240107231151968"></p>
<p><code>Animation Track</code>ç”¨äºæ’­æ”¾Animatoræ§åˆ¶å™¨ä¸Šçš„åŠ¨ç”»ç‰‡æ®µï¼ˆ<code>Animation Clip</code>ï¼‰</p>
<p>Trackä¸Šå¯ä»¥ç»‘å®šä¸€ä¸ª<code>Animator</code>å¯¹è±¡ï¼ŒClipåˆ™ç”±å¯¹è±¡çš„åŠ¨ç”»ç‰‡æ®µæ„æˆï¼›åŒæ—¶ï¼ŒTrackä¸Šå®ç°äº†<code>Track Mixer</code>ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸¤ä¸ªçš„Clipè¿›è¡Œé‡å ï¼Œå®ç°åŠ¨ç”»çš„å¹³æ»‘è¿‡æ¸¡ï¼Œå¹¶ä¸”è‡ªç”±åœ°ç¼–è¾‘è¿‡æ¸¡æ›²çº¿</p>
<h3 id="Audio-Track"><code>Audio Track</code></h3>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202401072320908.png" alt="image-20240107232004861"></p>
<p><code>Audio Track</code>ç”¨äºæ§åˆ¶éŸ³é¢‘çš„æ’­æ”¾</p>
<p>Trackä¸Šå¯ä»¥ç»‘å®šä¸€ä¸ª<code>Audio Source</code>å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ç”¨äºæ’­æ”¾éŸ³é¢‘ï¼›è€ŒClipåˆ™æ˜¯å…·ä½“éœ€è¦æ’­æ”¾çš„éŸ³é¢‘ç‰‡æ®µï¼ˆ<code>Audio Clip</code>ï¼‰ï¼›åŒæ—¶ï¼Œå…¶ä¹Ÿå®ç°äº†<code>Track Mixer</code>ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸¤ä¸ªçš„Clipè¿›è¡Œé‡å ï¼Œå®ç°éŸ³é¢‘çš„å¹³æ»‘è¿‡æ¸¡ï¼Œå¹¶ä¸”è‡ªç”±åœ°ç¼–è¾‘è¿‡æ¸¡æ›²çº¿</p>
<h3 id="Control-Track"><code>Control Track</code></h3>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202401072326535.png" alt="image-20240107232611495"></p>
<p><code>Control Track</code>å…è®¸ä½ æ§åˆ¶å…¶ä»–<code>Player Director</code>çš„æ’­æ”¾ï¼Œå¯ä»¥ç”¨æ¥è§¦å‘å…¶ä»–Timeline</p>
<p>å…¶Trackä¸Šæ²¡æœ‰æ•°æ®ï¼ŒClipåˆ™ç”±å…¶ä»–<code>Player Director</code>æ„æˆ</p>
<h3 id="Playable-Track"><code>Playable Track</code></h3>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202401072328418.png" alt="image-20240107232843380"></p>
<p><code>Playable Track</code>è¾ƒä¸ºç‰¹æ®Šï¼Œå…¶æœ¬èº«æ²¡æœ‰å®é™…çš„é€»è¾‘ï¼Œä½†å…¶å¯ä»¥é©±åŠ¨è‡ªå®šä¹‰Clip</p>
<p>å½“æˆ‘ä»¬æƒ³è¿›è¡Œä¸€å®šç¨‹åº¦çš„è‡ªå®šä¹‰ï¼Œä½†ä¸éœ€è¦ç”¨åˆ°Trackæ—¶ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥åªè‡ªå®šä¹‰Clipï¼Œå¹¶åœ¨<code>Playable Track</code>å¯¹å…¶è¿›è¡Œåº”ç”¨</p>
<h3 id="Signal-Track"><code>Signal Track</code></h3>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202401072332456.png" alt="image-20240107233201429"></p>
<p><code>Signal</code>æ˜¯Timelineä¸­å†…ç½®çš„â€œäº‹ä»¶ç³»ç»Ÿâ€ï¼Œå…¶åŸºäºè§‚å¯Ÿè€…æ¨¡å¼è¿›è¡Œæ­å»ºï¼Œå¦‚æœä½ æœ‰ä½¿ç”¨è¿‡äº‹ä»¶ä¸­å¿ƒï¼Œé‚£ä¹ˆä½ ä¾¿èƒ½å¾ˆå¿«ä¸Šæ‰‹è¿™ä¸ªæ¦‚å¿µ</p>
<p>åœ¨ä½¿ç”¨å®ƒæ—¶ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå³å‡»åˆ›å»ºåç¼€ä¸º<code>.signal</code>çš„èµ„äº§æ–‡ä»¶ï¼Œè¿™ç›¸å½“äºäº‹ä»¶ç³»ç»Ÿä¸­çš„â€œäº‹ä»¶â€ï¼Œéœ€è¦æ³¨æ„çš„æ—¶ï¼Œå…¶æœ¬èº«ä¸å…·æœ‰é€»è¾‘ï¼Œå…¶åªæ˜¯ä¸€ä¸ªâ€œæ¦‚å¿µâ€ï¼Œä¸€ä¸ªé€»è¾‘çš„å®¹å™¨</p>
<p>ä¹‹åæˆ‘ä»¬éœ€è¦åœ¨äº‹ä»¶ä½œç”¨çš„å¯¹è±¡èº«ä¸Šåˆ›å»º<code>Signal Receiver</code>ç»„ä»¶ï¼Œåœ¨å…¶ä¹‹ä¸Šï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥åœ¨<code>Inspector</code>ä¸­å¯¹éœ€è¦è§¦å‘çš„äº‹ä»¶è¿›è¡Œç»‘å®šï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202401072338800.png" alt="image-20240107233841768"></p>
<p>è¿™ä¸€ç»„ä»¶æ˜¯æ—¶é—´çš„â€œè®¢é˜…è€…â€ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>Signal</code>åœ¨è¿™ä¸€è¿‡ç¨‹ä¸­æ˜¯å¯ä»¥è¢«å¤ç”¨çš„ï¼Œä¸€ä¸ª<code>Signal</code>å¯ä»¥è¢«ç»‘å®šç»™å¤šä¸ª<code>Reveiver</code></p>
<p>ä¹‹åï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥å³å‡»Trackï¼Œé€‰æ‹©<code>Add Signal Emitter</code>ï¼Œå½“Trackè¿è¡Œåˆ°è¯¥èŠ‚ç‚¹æ—¶ï¼Œå¯¹åº”<code>Signal</code>ä¾¿ä¼šè¢«è§¦å‘</p>
<p>äº‹å®ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•Trackä¸Šæ·»åŠ <code>Signal Emitter</code>ï¼Œè€Œç‹¬ç«‹å‡ºæ¥çš„<code>Signal Track</code>æˆ–è®¸æ˜¯å¸Œæœ›è®©<code>Signal</code>çš„è§¦å‘æ›´åŠ å®¹æ˜“ç®¡ç†</p>
<p><em>Signalç³»ç»Ÿç”±äºåŸºäºTimelineè€Œç”Ÿï¼Œåœ¨æŸäº›æƒ…å†µä¸‹å¹¶ä¸é‚£ä¹ˆå¥½ç”¨ï¼Œå› å…¶åªæ”¯æŒåœ¨Inspectorä¸­è¿›è¡Œäº‹ä»¶çš„ç»‘å®šï¼Œæœ‰æ—¶ç„¶è€Œä¼šè®©äº‹æƒ…å˜å¾—å¤æ‚ï¼Œéš¾ä»¥ç®¡ç†ï¼Œæˆ–è®¸æˆ‘ä»¬å¯ä»¥åœ¨ä¹‹åä½¿ç”¨è‡ªå®šä¹‰TrackåŠŸèƒ½åˆ›å»ºè‡ªå·±çš„äº‹ä»¶ç³»ç»Ÿ</em></p>
<h3 id="Cinemachine-Track"><code>Cinemachine Track</code></h3>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202401072348212.png" alt="image-20240107234802182"></p>
<p>è¿™å¹¶ä¸æ˜¯Timelineä¸­è‡ªå¸¦çš„åŠŸèƒ½ï¼Œå…¶ç”±<code>Cinemachine</code>æ’ä»¶æä¾›</p>
<p>å…¶å¯ä»¥éå¸¸æ–¹ä¾¿åœ°é€šè¿‡Timelineæ§åˆ¶<code>Cinemachine</code>ä¸­çš„è™šæ‹Ÿç›¸æœºï¼Œæ˜¯ä¸ªéå¸¸å¼ºå¤§ä¾¿æ·çš„åŠŸèƒ½</p>
<p><code>Cinemachine</code>ä¸æ˜¯æœ¬æ–‡çš„ä¸»è§’ï¼Œæ•…æ­¤å¤„å¯¹å…¶ç”¨æ³•ä¸è¿‡å¤šèµ˜è¿°</p>
<hr>
<h2 id="è‡ªå®šä¹‰Track">è‡ªå®šä¹‰Track</h2>
<h3 id="æ¦‚è¿°">æ¦‚è¿°</h3>
<p>æ¥ä¸‹æ¥ç»ˆäºæ¥åˆ°äº†ä¸ªäººè®¤ä¸ºTimelineä¸­æœ€æ¿€åŠ¨äººå¿ƒçš„éƒ¨åˆ†ï¼šå¼ºå¤§çš„è‡ªå®šä¹‰åŠŸèƒ½</p>
<p>Unityä¸ºæˆ‘ä»¬æä¾›äº†<code>TrackAsset</code>ã€<code>PlayableAsset</code>ä¸<code>PlayableBehaviour</code>ä¸‰ä¸ªç±»ä¸ä¸€äº›æ¥å£ï¼Œé€šè¿‡ç»§æ‰¿å®ƒä»¬ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥å®ç°å¯¹äºTrackçš„å®Œå…¨è‡ªå®šä¹‰</p>
<p><em>ä¸Šé¢ä»‹ç»è¿‡çš„Timelineæä¾›çš„é»˜è®¤Trackä¹Ÿéƒ½æ˜¯é€šè¿‡è¿™äº›ç±»å®ç°çš„ï¼Œå…¶æ²¡æœ‰è¢«å†™åœ¨Unityå†…æ ¸ä¸­ï¼Œè¿™ä¹Ÿæ„å‘³ç€æˆ‘ä»¬å¯ä»¥åœ¨é¡¹ç›®ä¸­ç›´æ¥æ‰¾åˆ°å®ç°å®ƒä»¬çš„C#ä»£ç ï¼Œè¿™ç›¸å½“äºå®˜æ–¹èŒƒä¾‹ï¼Œæˆ‘æƒ³è¿™å¯ä»¥ç»™æˆ‘ä»¬çš„è‡ªå®šä¹‰å¸¦æ¥å¾ˆå¤§çš„å¸®åŠ©</em></p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202401082030081.png" alt="image-20240108203042955"></p>
<p>ä¸Šå›¾å±•ç¤ºäº†ä¸€ä¸ªå®Œæ•´Trackçš„åŸºæœ¬æ„æˆæ–¹å¼ï¼ˆæ‹¬å·ä¸­æ˜¯å®ƒä»¬èƒŒåçš„ç±»ï¼‰</p>
<ul>
<li>
<p><code>PlayerBehaviour</code>æ˜¯æ‰¿è½½å…·ä½“é€»è¾‘çš„åŸºç±»ï¼Œå…¶å…·æœ‰å¤šä¸ªå›è°ƒï¼Œå¦‚<code>OnBehaviourPlay</code>ï¼ˆå¼€å§‹è°ƒç”¨æ—¶ï¼‰ã€<code>ProcessFrame</code>ï¼ˆæ¯ä¸ªé€»è¾‘å¸§ï¼‰ç­‰ï¼›å…¶æ—¢å¯ä»¥ç»‘å®šåœ¨Clipä¸Šä¹Ÿå¯ä»¥ç”±Trackåˆ›å»º</p>
</li>
<li>
<p><code>PlayableAsset</code>æ˜¯Clipçš„åŸºç±»ï¼Œå®ç°å…¶<code>CreatePlayable</code>å‡½æ•°å³å¯å°†ä¸€ä¸ª<code>PlayerBehaviour</code>ä¸å…¶ç»‘å®šï¼Œä»è€Œè§¦å‘<code>PlayerBehaviour</code>ä¸­çš„å›è°ƒå‡½æ•°</p>
</li>
<li>
<p><code>TrackAsset</code>æ˜¯Trackçš„åŸºç±»ï¼Œå…¶å®šä¹‰äº†ä¸€ä¸ªTrackçš„æ–¹æ–¹é¢é¢ï¼ŒåŒ…æ‹¬Trackä¸Šç»‘å®šçš„ç‰©ä½“çš„ç±»å‹ã€Trackä¸ŠClipçš„ç±»å‹ã€Trackçš„é¢œè‰²ç­‰ï¼›è€Œå®ç°<code>CreateTrackMixer</code>å¯ä»¥å°†ä¸€ä¸ª<code>PlayerBehaviour</code>ä¸å…¶ç»‘å®šï¼Œæˆ‘ä»¬é€šå¸¸ç§°å…¶ä¸ºMixerï¼Œå…¶å¯ä»¥è®¿é—®æ•´ä¸ªTrackä¸Šçš„ç»‘å®šå¯¹è±¡ä¸å…¶ä¸­çš„Clipçš„æ•°æ®ï¼›å°½ç®¡ç»‘å®šåœ¨Clipä¸Šçš„<code>PlayerBehaviour</code>å®é™…ä¸Šä¹Ÿå¯ä»¥è·å–åˆ°Trackä¸Šçš„ç»‘å®šå¯¹è±¡ï¼Œä½†ä»é¢å‘å¯¹è±¡çš„è§’åº¦å‡ºå‘ï¼Œå’ŒTrackç»‘å®šå¯¹è±¡ç›¸å…³çš„é€»è¾‘åº”è¯¥å†™åœ¨Mixerä¸­ï¼ŒåŒæ—¶Mixerä¹Ÿè´Ÿè´£å¤„ç†Clipä¹‹é—´çš„èåˆé€»è¾‘ï¼Œä¾‹å¦‚é»˜è®¤Trackä¸­çš„<code>Animation Track</code>ä¸<code>Audio Track</code>ä¾¿å®ç°äº†å¯¹åº”åŠŸèƒ½</p>
</li>
</ul>
<h3 id="å…·ä½“å®ç°">å…·ä½“å®ç°</h3>
<h4 id="Trackç±»">Trackç±»</h4>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Timeline</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">TrackColor(0.5f, 0.5f, 0.5f)</span>]          <span class="comment">// Tracké¢œè‰²</span></span><br><span class="line">    [<span class="meta">TrackClipType(typeof(CustomClip))</span>]     <span class="comment">// Trackä¸Šçš„Clipç±»å‹</span></span><br><span class="line">    [<span class="meta">TrackBindingType(typeof(GameObject))</span>]  <span class="comment">// Trackä¸Šçš„ç»‘å®šå¯¹è±¡ç±»å‹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CustomTrack</span> : <span class="title">TrackAsset</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// inputCountå³ä¸ºTrackä¸Šçš„Clipæ•°é‡</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> Playable <span class="title">CreateTrackMixer</span>(<span class="params">PlayableGraph graph, GameObject go, <span class="built_in">int</span> inputCount</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> ScriptPlayable&lt;CustomMixer&gt;.Create(graph, inputCount);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Clipç±»">Clipç±»</h4>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Timeline</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CustomClip</span> : <span class="title">PlayableAsset</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> Playable <span class="title">CreatePlayable</span>(<span class="params">PlayableGraph graph, GameObject owner</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> ScriptPlayable&lt;CustomBehavior&gt;.Create(graph);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Behaviorç±»">Behaviorç±»</h4>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Timeline</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CustomBehavior</span> : <span class="title">PlayableBehaviour</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnBehaviourPlay</span>(<span class="params">Playable playable, FrameData info</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Debug.Log(<span class="string">&quot;OnBehaviourPlay&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnBehaviourPause</span>(<span class="params">Playable playable, FrameData info</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Debug.Log(<span class="string">&quot;OnBehaviourPause&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">ProcessFrame</span>(<span class="params">Playable playable, FrameData info, <span class="built_in">object</span> playerData</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Debug.Log(<span class="string">&quot;OnBehaviourProcessFrame&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Mixerç±»">Mixerç±»</h4>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Timeline</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CustomMixer</span> : <span class="title">PlayableBehaviour</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> GameObject _boundObject;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnBehaviourPlay</span>(<span class="params">Playable playable, FrameData info</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Debug.Log(<span class="string">&quot;OnMixerPlay&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnBehaviourPause</span>(<span class="params">Playable playable, FrameData info</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Debug.Log(<span class="string">&quot;OnMixerPause&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">ProcessFrame</span>(<span class="params">Playable playable, FrameData info, <span class="built_in">object</span> playerData</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœ_boundObjectä¸ºç©ºåˆ™å°è¯•è·å–ç»‘å®šå¯¹è±¡</span></span><br><span class="line">            _boundObject ??= playerData <span class="keyword">as</span> GameObject;</span><br><span class="line">            <span class="keyword">if</span> (_boundObject == <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> inputCount = playable.GetInputCount();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; inputCount; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// è·å–èåˆæƒé‡</span></span><br><span class="line">                <span class="keyword">var</span> weight = playable.GetInputWeight(i);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// è·å–å½“å‰Clip</span></span><br><span class="line">                <span class="keyword">var</span> clipPlayable = (ScriptPlayable&lt;CustomBehavior&gt;)playable.GetInput(i);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// è·å–Clipä¸Šçš„Behavior</span></span><br><span class="line">                <span class="keyword">var</span> behavior = clipPlayable.GetBehaviour();</span><br><span class="line"></span><br><span class="line">                <span class="comment">// do something......</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            Debug.Log(<span class="string">&quot;OnMixerProcessFrame&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Notes</category>
        <category>Unity</category>
      </categories>
      <tags>
        <tag>Note</tag>
        <tag>Unity</tag>
        <tag>Timeline</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŒReviveã€UE GameJam 2022</title>
    <url>/posts/1/</url>
    <content><![CDATA[<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303261605787.png" alt="Logo"></p>
<h1>Revive</h1>
<blockquote>
<p><strong>ä»‹ç»è§†é¢‘</strong>ï¼š<a href="https://www.bilibili.com/video/BV1p44y1Q7tY/">https://www.bilibili.com/video/BV1p44y1Q7tY/</a></p>
</blockquote>
<p>æˆ‘åœ¨æœ¬æ¬¡é¡¹ç›®ä¸­æ‹…ä»»ç¨‹åºï¼Œä½¿ç”¨Unityå¼•æ“è´Ÿè´£äº†éƒ¨åˆ†ä»£ç çš„ç¼–å†™</p>
<h2 id="å°ç»„æˆå‘˜">å°ç»„æˆå‘˜</h2>
<p><strong>æ–°å‘åœ°å†œè´¸æ‰¹å‘å¸‚åœº</strong>ï¼š</p>
<ul>
<li>
<p>ç¨‹åºï¼šæå¥è±ªã€<strong>ä¼æ³½å</strong></p>
</li>
<li>
<p>ç¾æœ¯ï¼šæˆå¯</p>
</li>
<li>
<p>éŸ³ä¹ï¼šèµµæ°¸ç‚œ</p>
</li>
<li>
<p>æ–‡æ¡ˆï¼šå­™è¯—ä½³</p>
</li>
</ul>
<h2 id="æ¸¸æˆä¸»é¢˜">æ¸¸æˆä¸»é¢˜</h2>
<blockquote>
<p><em>â€œI shall die again and again to know that life is inexhaustible. â€</em></p>
<p><em>â€”â€”æ³°æˆˆå°”ã€Šé£é¸Ÿé›†ã€‹</em></p>
</blockquote>
<p>ä½œä¸ºäººç±»ï¼Œæˆ‘ä»¬çš„ç”Ÿå‘½æ˜¯æœ‰é™çš„ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬ä½“å†…çš„åŸºå› ä¼šä¸€ç›´éšç€æˆ‘ä»¬çš„ç¹è¡ä¸æ–­å»¶ç»­ä¸‹å»ã€‚â€œåŸºå› æ—¢æ˜¯é—ä¼ çš„åŸºæœ¬å•ä½ï¼Œä¹Ÿæ˜¯è‡ªç„¶é€‰æ‹©çš„åŸºæœ¬å•ä½ã€‚â€åœ¨é“é‡‘æ–¯ã€Šè‡ªç§çš„åŸºå› ã€‹ä¸€ä¹¦ä¸­ï¼Œä»–æŒ‡å‡ºï¼ŒåŸºå› çš„æœ¬è´¨æ˜¯è‡ªç§çš„ï¼Œå®ƒä»¬æ§åˆ¶ç”Ÿç‰©çš„å„ç§è¡Œä¸ºæ´»åŠ¨ï¼Œåªä¸ºäº†è‡ªå·±æ›´å¤šæ›´å¿«é€Ÿåœ°å¤åˆ¶ï¼Œä»¥è¾¾åˆ°ä¸æ–­åœ°å»¶ç»­ã€‚</p>
<p>ä»¥æ¯äº²åæœˆæ€€èƒä¸ºä¾‹ï¼Œæ¯å­ä¹‹é—´**å¹¶éå’Œå¹³å…±ç”Ÿï¼Œè€Œæ˜¯ä¸æ–­çš„æŠ—äº‰ã€‚**æ¯ä½“ä¸ºäº†å»¶ç»­è‡ªå·±çš„åŸºå› è€Œç”Ÿè‚²ï¼Œä½†åœ¨èƒå„¿çš„æˆé•¿ä¹‹ä¸­ï¼Œä»–ä¸æ–­å¸å–ç”šè‡³æ å¤ºå…»åˆ†ï¼Œä¸é¡¾æ¯ä½“æ­»æ´»ä¿è¯è‡ªå·±çš„å­˜æ´»å’Œç”Ÿé•¿ã€‚ä¸æ­¤åŒæ—¶ï¼Œä¸ºäº†é˜²æ­¢è‡ªèº«çš„æ­»äº¡ï¼Œæ¯ä½“ä¹Ÿä¼šæ—¶åˆ»è­¦æƒ•èƒå„¿ï¼Œä¿è¯è‡ªå·±æ’å¼‚çš„æƒåˆ©ï¼Œä¸€æ—¦èƒå„¿å¸å–è¿‡å¤šè¥å…»æˆ–äº§ç”Ÿä¸å¥åº·ååº”ï¼Œå°±ä¼šç«‹åˆ»åœæ­¢ä¾›åº”æ’å‡ºå©´å„¿ã€‚</p>
<p>åŸºå› ä¸€ç›´æ˜¯è‡ªç§çš„ï¼Œèƒå„¿çš„åŸºå› æ— æ„è¯†åœ°åªä»¥ç”Ÿå­˜ä¸ºç›®çš„ä¼¤å®³äº†æ¯ä½“ï¼Œç„¶è€Œæˆé•¿ä¹‹åè‡ªå·±æˆä¸ºæ¯äº²å´åˆè¢«ä¼¤å®³ï¼Œç›®ç¹æ­»äº¡åˆ°è‡ªå·±æ¥å—æ­»äº¡ï¼Œè¢«å»¶ç»­åˆ°è‡ªå·±ç»§ç»­å»¶ç»­ï¼Œä¸€æ¬¡ä¸€æ¬¡çš„ç”Ÿå‘½çš„ç»§æ‰¿å³æ˜¯<strong>Revive</strong>ï¼Œåœ¨ä¸æ–­çš„æ­»ä¸­æ˜ç™½ç”Ÿçš„æ— ç©·å°½ã€‚</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303261616467.png" alt="Snipaste_2023-03-26_16-12-31"></p>
<h2 id="æ¸¸æˆç©æ³•">æ¸¸æˆç©æ³•</h2>
<p>æ¸¸æˆå…±æœ‰ä¸‰ä¸ªå…³å¡ï¼Œä¸»è¦ä»¥WASDè¿›è¡Œæ“ä½œ**ã€‚**ç©å®¶å°†æ“æ§ä¸€ä¸ªçƒä½“ï¼Œåœ¨æ¸¸ç©ä¸­ï¼Œçƒä½“å°†ä¸æ–­æˆé•¿ï¼Œå…¶å¯“æ„ç€ç”Ÿå‘½ç”±ç²¾å­â€”å—ç²¾åµâ€”èƒšèƒçš„å‘å±•ï¼Œæœ€åé•¿æˆå©´å„¿å‡ºç”Ÿã€‚ç©å®¶é€æ­¥å®Œæˆå…³å¡çš„è¿‡ç¨‹ï¼Œå®é™…å°±æ˜¯èƒå„¿ä¸æ¯ä½“æ–—äº‰ä¼¤å®³ç›´è‡³å‡ºç”Ÿç¦»å¼€æ¯ä½“çš„è¿‡ç¨‹ã€‚æ¸¸æˆå°†è¥é€ ä¸€ä¸ªè¾ƒä¸ºæŠ½è±¡çš„å½¢è±¡ï¼Œå¹¶ä¸ä¼šç›´æ¥ä½“ç°å…·ä½“è¦ç´ ï¼Œåªæœ‰åœ¨å®Œæˆä¸‰ä¸ªå…³å¡åï¼Œæ¸¸æˆçš„çœŸé¢ç›®æ‰ä¼šçœŸæ­£æ­å¼€ã€‚</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303261616505.png" alt="Snipaste_2023-03-26_16-13-31"></p>
<h2 id="å…³å¡è®¾è®¡">å…³å¡è®¾è®¡</h2>
<p>**ï¼ˆ1ï¼‰   ç¬¬ä¸€å…³ï¼š**æ¨¡æ‹Ÿå—ç²¾åµçš„å½¢æˆã€‚ç©å®¶å°†æ“æ§ä»£è¡¨ç²¾å­çš„çƒä½“åœ¨ç±»ä¼¼è¾“åµç®¡çš„åœ°å›¾ä¸­ä¸æ–­å‰è¡Œï¼Œä»¥æ¥è¿‘åµå­è¿›è¡Œç»“åˆã€‚ä½†è¿‡ç¨‹ä¸­å°†ä¼šæœ‰éšœç¢ï¼šç´«è‰²ç²˜æ¶²ä»£è¡¨å—åˆ°å­å®«é¢ˆç²˜æ¶²çš„é˜»æŒ¡ï¼Œç©å®¶ç»è¿‡ä¼šå‡ç¼“é€Ÿåº¦ï¼›ç™½è‰²æ™¶ä½“ä¼šåœ¨ä¸€å®šèŒƒå›´å†…è¿½è¸ªç©å®¶ï¼Œå¦‚æœè¢«è¿½ä¸Šå°†ä¼šè¢«åé£Ÿï¼Œå…³å¡å°†é‡æ–°å¼€å§‹ã€‚ç©å®¶éœ€æ“æ§è§’è‰²èº²é¿ï¼Œé¡ºåˆ©åˆ°è¾¾ç»ˆç‚¹ï¼Œå®Œæˆç²¾åµç»“åˆã€‚</p>
<p>**ï¼ˆ2ï¼‰   ç¬¬äºŒå…³ï¼š**æ¨¡æ‹Ÿå—ç²¾åµä»æ¯ä½“ä¸­æ±²å–å…»åˆ†ã€‚ç©å®¶éœ€æ“æ§çƒä½“åé£Ÿå‘¨è¾¹çš„å…»æ–™ï¼Œä»¥ä¸æ–­å£®å¤§è‡ªèº«ï¼ŒåŒæ—¶ä¹Ÿè¦æš‚æ—¶é¿å¼€éš¾ä»¥åé£Ÿçš„å…»åˆ†ã€‚ä½¿ç”¨ç©ºæ ¼é”®å¯ä»¥çŸ­æš‚åŠ é€Ÿï¼Œä½†ä½¿ç”¨ä¸€æ¬¡åéœ€è¦æ—¶é—´æ¢å¤ä½“åŠ›ã€‚æ¯å½“æœ‰å…»æ–™è¢«åé£Ÿæ—¶ï¼Œéƒ½ä¼šå‡ºç°è¡€ä¸ï¼Œæ„ä¸ºä»æ¯ä½“è·å¾—çš„å…»åˆ†å¯¹æ¯ä½“çš„ä¼¤å®³ã€‚åœ°å›¾äºŒè¿›åˆ¶çš„è®¾è®¡ä»£è¡¨è®¡ç®—æœºè¯­è¨€çš„æœ€åˆå§‹ï¼Œä¹Ÿä½“ç°ç€å½“ä»Šç§‘æŠ€æ—¶ä»£çš„åˆå§‹ï¼Œäº¦ä¸ç”Ÿå‘½çš„å¼€å§‹ç›¸å‘¼åº”ï¼Œè¿æ¥ç€è™šæ‹Ÿä¸ç°å®ã€‚å½“çƒä½“å£®å¤§åˆ°ä¸€å®šç¨‹åº¦æ—¶ï¼Œå°†è‡ªåŠ¨è¿›å…¥ä¸‹ä¸€å…³ã€‚</p>
<p>**ï¼ˆ3ï¼‰   ç¬¬ä¸‰å…³ï¼š**æ¨¡æ‹Ÿèƒå„¿åå‘è¾“é€æ¿€ç´ ï¼Œæ¦¨å–æ›´å¤šèƒ½é‡ã€‚ç©å®¶ä»¥ADé”®æ“ä½œï¼Œå½“ç™½çƒåˆ°åˆ¤å®šçº¿æ—¶éœ€æŒ‰ä¸‹Dï¼Œçº¢çƒå³ä¸ºAï¼Œæ¯è¿å‡»ä¸€æ¬¡åŠ ä¸€åˆ†ï¼Œæ‰è½ä¸€æ¬¡å‡ä¸€åˆ†ï¼Œè¾¾åˆ°ä¸€å®šåˆ†æ•°æ—¶ï¼ŒèƒŒæ™¯å°†ä¼šå‘ç”Ÿå˜åŒ–ï¼Œæ ‘çš„æ ¹ä¼šè¶Šæ¥è¶Šå¤šè¶Šæ¥è¶Šé•¿ï¼Œä¸‹è½é€Ÿåº¦ä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ï¼ŒåŒæ—¶ä¼ å‡ºæµè¡€éŸ³æ•ˆï¼Œæ„ä¸ºè¡€ç®¡æ‰æ ¹å’Œå¯¹æ¯ä½“å¿ƒè·³åŠ é€Ÿçš„å½±å“ã€‚å®Œæˆæ¿€ç´ è¾“é€ï¼Œæ¸¸æˆç»“æŸï¼Œè¿æ¥å©´å„¿è¯ç”Ÿã€‚</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303261616278.png" alt="Snipaste_2023-03-26_16-15-14"></p>
<h2 id="ç¾æœ¯é£æ ¼">ç¾æœ¯é£æ ¼</h2>
<p>æ•´ä½“ç¾æœ¯é£æ ¼ä»¥é»‘ç™½ä¸ºä¸»ï¼Œä¸­é—´ç©¿æ’çº¢è“ç­‰é¥±å’Œåº¦è¾ƒä½çš„è‰²è°ƒï¼Œä½“ç°çœŸç›¸çš„æ®‹å¿ã€‚èƒŒæ™¯ä»¥æ¯ä½“ç”Ÿè‚²å™¨å®˜ä¸ºåŸºç¡€ï¼Œä¸ºä¿ç•™ç¥ç§˜æ€§å¹¶éå®Œå…¨å…·è±¡ï¼Œè¿›è¡Œäº†è‰ºæœ¯åŠ å·¥ã€‚ä¸»è§’çƒä½“çš„é‡‡ç”¨ä¹Ÿå¯“æ„ç€åŸºå› çš„ä¸æ–­å»¶ç»­ï¼Œå®¿å‘½çš„ä¸æ–­è½®å›ã€‚</p>
<h2 id="éŸ³ä¹é£æ ¼">éŸ³ä¹é£æ ¼</h2>
<p>æ¸¸æˆèƒŒæ™¯éŸ³ä¹é‡‡ç”¨çº¯é’¢ç´æ¼”å¥ï¼Œåœ¨æ‚²ä¼¤é™è°§çš„æ°›å›´ä¸­æ„Ÿå—ç”Ÿå‘½çš„æ®‹å¿å’ŒåŸºå› çš„è‡ªç§ï¼Œè¿åˆæ¸¸æˆä¸»é¢˜ï¼Œå™äº‹æ„Ÿè¾ƒå¼ºã€‚</p>
<h2 id="åˆ›æ„ç†å¿µ">åˆ›æ„ç†å¿µ</h2>
<p>çµæ„Ÿæ¥æºå³ä¸ºã€Šè‡ªç§çš„åŸºå› ã€‹ä¸€ä¹¦ã€‚æ¸¸æˆç­–åˆ’è¿‡ç¨‹ä¸­ï¼Œå…³äºæœºåˆ¶å‡å‚è€ƒäº†èƒšèƒçš„å½¢æˆå’Œå‘è‚²è¿‡ç¨‹ï¼Œå¹¶ä½“ç°å‡ºå…¶åœ¨æˆé•¿è¿‡ç¨‹ä¸­å¯¹æ¯ä½“çš„ä¼¤å®³ã€‚åˆ¶ä½œè¿‡ç¨‹ä¸­ï¼Œç¬¬ä¸€å…³åœ°å›¾ä»¥è¾“åµç®¡ä¸ºåŸºç¡€è¿›è¡ŒåŠ å·¥ï¼Œä½¿å…¶æ›´åŠ æ‰­æ›²å’ŒæŠ½è±¡ï¼Œè¿åˆæ¸¸æˆæ°›å›´ï¼›ç¬¬äºŒå…³æ´»åŠ¨åŒºåŸŸæ¨¡æ‹Ÿå­å®«ç¯å¢ƒï¼Œä»¥äººä½“æ‰€éœ€è‘¡è„ç³–ä¸ºå…»æ–™ä¹‹ä¸€è¿›è¡Œè®¾è®¡ï¼›ç¬¬ä¸‰å…³ï¼Œä»¥ä¸æ–­é•¿å¤§çš„èƒå„¿ä½œä¸ºæ ‘å† ï¼Œä»¥é€†å¡å·´æ‹‰ç”Ÿå‘½æ ‘è±¡å¾åè¾“é€æ¿€ç´ ï¼Œä¸é¡¾æ¯ä½“å®‰å±ã€‚çº¢é”®è±¡å¾æµè¡€ï¼Œè€Œç™½é”®è±¡å¾ç”Ÿå‘½å»¶ç»­çš„å¸Œæœ›ï¼Œä½“ç°å‡ºæ¯ä½“å—ä¼¤å’ŒåŸºå› å»¶ç»­çš„çŸ›ç›¾æ€§ã€‚èƒšèƒåå‘è¾“é€æ¿€ç´ æ—¶ï¼Œæ¯ä½“çš„æµè¡€ä¼šå¢åŠ ï¼Œå³ä¸ºéŸ³æ•ˆé‡‡ç”¨æµè¡€çš„åŸå› ï¼›å¿ƒè·³ä¼šåŠ é€Ÿï¼Œä¹Ÿæ˜¯åˆ¤å®šçº¿é‡‡ç”¨å¿ƒç”µå›¾çš„åŸå› ã€‚</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303261616663.png" alt="Snipaste_2023-03-26_16-16-02"></p>
]]></content>
      <categories>
        <category>Projects</category>
        <category>2022</category>
      </categories>
      <tags>
        <tag>Unity</tag>
        <tag>GameProject</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŒCyberpsychosisã€AI Game Jam 2022</title>
    <url>/posts/3/</url>
    <content><![CDATA[<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303261558559.png" alt="qN0WZOY3ZLuswAaY2CB4RM3NRHPgpBfQE9G2VaSz"></p>
<h1>Cyberpsychosis</h1>
<blockquote>
<p><strong>æ¸¸æˆé¡µé¢</strong>ï¼š<a href="https://gmhub.com/game/2005">https://gmhub.com/game/2005</a></p>
<p><strong>ä»‹ç»è§†é¢‘</strong>ï¼š<a href="https://www.bilibili.com/video/BV1U44y1Z7oU/">https://www.bilibili.com/video/BV1U44y1Z7oU/</a></p>
</blockquote>
<p>æˆ‘åœ¨æœ¬æ¬¡é¡¹ç›®ä¸­æ‹…ä»»ç¨‹åºï¼Œä½¿ç”¨Unityå¼•æ“è´Ÿè´£äº†éƒ¨åˆ†ä»£ç çš„ç¼–å†™</p>
<h2 id="å°ç»„æˆå‘˜">å°ç»„æˆå‘˜</h2>
<p><strong>å®šç¦åº„AIå°é˜Ÿï¼š</strong></p>
<ul>
<li>
<p>ç­–åˆ’ï¼šè™šè™šã€TenGo</p>
</li>
<li>
<p>ç¨‹åºï¼šç´«åœ°ä¸ã€<strong>å¾½å¢¨è¡Œæ·±(ä¼æ³½å)</strong></p>
</li>
<li>
<p>ç¾æœ¯ï¼šèŒƒé™äº‘</p>
</li>
</ul>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303261601861.jpg" alt="tjM0fNlKlAXcGfzvM1iy4WCGjKLP7xijILJWeR2j"></p>
<h2 id="æ¸¸æˆç®€ä»‹">æ¸¸æˆç®€ä»‹</h2>
<p>ä¸€æ¬¾è”åˆç§»åŠ¨çš„æ¨ç®±å­æ¸¸æˆï¼Œç”±5åä¸­å›½ä¼ åª’å¤§å­¦çš„å¤§ä¸€å­¦ç”Ÿå…±åŒå®Œæˆã€‚</p>
<p>æœ¬æ¬¡Game Jamçš„ä¸»é¢˜æ˜¯ã€Œå’Œè°çš„ç¼åˆæ€ªã€ï¼Œæˆ‘ä»¬çš„åˆ›ä½œæ€è·¯æ˜¯åœ¨ä¸€ä¸ªç»å…¸ç®€æ´çš„æ¸¸æˆæœºåˆ¶ä¸Šï¼Œåšä¸€äº›å°çš„è°ƒæ•´å’Œåˆ›æ–°ã€‚æ¸¸æˆæ•…äº‹èƒŒæ™¯è®¾å®šå‚ç…§äº†ã€Œèµ›åšæœ‹å…‹ã€ï¼Œå…¶ä¸­çš„äººç±»è¿›è¡Œè¿›è¡Œå¤§é‡æœºæ¢°æ¤å…¥åˆè¦ä¿è¯äººæ€§ä¸ä¸§å¤±ï¼Œé¿å…ã€Œèµ›åšç²¾ç¥ç—…ã€ï¼Œæˆ‘ä»¬æƒ³è¿™ç§äººæ€§ä¸æœºæ¢°çš„å¹³è¡¡æ­£ç¬¦åˆæœ¬æ¬¡å¤§èµ›çš„ä¸»é¢˜ï¼Œå› è€Œæ¸¸æˆåä¹Ÿå–ä½œã€ŒCyberpsychosisã€ã€‚</p>
<p>æ¸¸æˆå¥³ä¸»å› è½¦ç¥¸è€Œéœ€è¦è¿›è¡Œæœºæ¢°ç§»æ¤æ²»ç–—ï¼Œæ‰‹æœ¯åæ£€æµ‹æŠ¥å‘Šæ˜¾ç¤ºå¥¹å¾ˆå¤§æ¦‚ç‡ä¼šå› å…ç–«æ’æ–¥è€Œå‡ºç°åŒå‘æƒ…æ„Ÿéšœç¢ï¼Œè€Œå¥¹ä¸å¯Œè£•çš„å®¶å¢ƒæ— æ³•æ‰¿æ‹…é«˜é¢çš„å…ç–«æŠ‘åˆ¶å‰‚è´¹ç”¨ã€‚åœ¨åŒ»ç”Ÿçš„å»ºè®®ä¸‹ï¼Œå¥¹é€šè¿‡æ§åˆ¶è™šæ‹Ÿæ¸¸æˆä¸­åˆ†è£‚çš„ä¸¤ä¸ªè‡ªæˆ‘ï¼ˆç‹‚èºå’ŒæŠ‘éƒï¼‰ï¼Œå»åä½œå®Œæˆæ¸¸æˆç›®æ ‡ï¼Œæ¥è¾¾åˆ°è®­ç»ƒè‡ªæˆ‘è¾¾åˆ°å¹³è¡¡çš„æ•ˆæœã€‚</p>
<p>æ¸¸æˆå†…èƒŒæ™¯ã€äººç‰©ç«‹ç»˜ã€BGMéƒ½æ˜¯ç”±AIè¿›è¡Œåˆ›ä½œã€‚ï¼ˆç­–åˆ’å’Œç¾æœ¯éƒ½è¢«AIé©¯æœäº†ï¼‰</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303261601694.png" alt="6dAGl1r5fzLbMt6RppK7lLODYiCtMPYapnhXBoud"></p>
]]></content>
      <categories>
        <category>Projects</category>
        <category>2022</category>
      </categories>
      <tags>
        <tag>Unity</tag>
        <tag>GameProject</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŒEscapeFromVirusã€ä¸¥è‚ƒæ¸¸æˆå·¥åŠä½œå“</title>
    <url>/posts/2/</url>
    <content><![CDATA[<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303261533351.png" alt="logo" style="zoom: 50%;" />
<h1>èº²é¿ç—…æ¯’</h1>
<blockquote>
<p><strong>é¡¹ç›®ä»‹ç»</strong>ï¼š<a href="https://mp.weixin.qq.com/s/vUAJRW31vuiZmy-ZV_FtrA">https://mp.weixin.qq.com/s/vUAJRW31vuiZmy-ZV_FtrA</a></p>
</blockquote>
<p>æˆ‘åœ¨æœ¬æ¬¡é¡¹ç›®ä¸­ç‹¬è‡ªæ‹…ä»»ç¨‹åºï¼Œä½¿ç”¨Unityå¼•æ“è´Ÿè´£äº†å…¨éƒ¨ä»£ç çš„ç¼–å†™</p>
<h2 id="å°ç»„æˆå‘˜">å°ç»„æˆå‘˜</h2>
<ul>
<li>
<p>ç­–åˆ’ï¼šå”è¯—</p>
</li>
<li>
<p>ç¾æœ¯ï¼šç‹å­å½¤ åˆ˜æœˆæ˜ </p>
</li>
<li>
<p>ç¨‹åºï¼š<strong>ä¼æ³½å</strong></p>
</li>
<li>
<p>æµ‹è¯•ï¼šæ¨å…‰å¹³</p>
</li>
</ul>
<h2 id="æ¸¸æˆå†…å®¹">æ¸¸æˆå†…å®¹</h2>
<p>è¿™æ˜¯ä¸€æ¬¾ç«–ç‰ˆå¼¹å¹•ç±»ã€åŠ¨ä½œæ•æ·ç±»å¹³é¢æ¸¸æˆã€‚</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303261547150.png" alt="640 (1)" style="zoom:50%;" />
<h2 id="æ¸¸æˆæœºåˆ¶">æ¸¸æˆæœºåˆ¶</h2>
<p>ç©å®¶éœ€è¦æ‰®æ¼”è§’è‰²â€œé˜¿å°¼â€æˆ–â€œAå–µâ€ï¼Œåœ¨å±å¹•ä¸Šèº²é¿ä»å±å¹•å››å‘¨è¢­æ¥çš„è±¡å¾å† çŠ¶ç—…æ¯’çš„å¼¹å¹•ï¼ŒæœŸé—´å°½å¯èƒ½æ”¶é›†å£ç½©ç­‰é˜²ç–«ç‰©å“ï¼Œè·å¾—æœ‰åŠ©äºé€šå…³çš„å¢ç›Šæ•ˆæœã€‚</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303261548998.png" alt="640" style="zoom:50%;" />
<h2 id="æ¸¸æˆä»‹ç»">æ¸¸æˆä»‹ç»</h2>
<p>é€šè¿‡å›ç­”é˜²ç–«ç›¸å…³é—®é¢˜ï¼Œè·å–çŒ«ç²®ï¼Œå°½å¯èƒ½é•¿æ—¶é—´åœ°ç”Ÿå­˜ä¸‹æ¥ï¼Œç”Ÿå­˜æ—¶é—´è¶Šé•¿å¾—åˆ†è¶Šé«˜ã€‚</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303261548606.png" alt="640 (2)" style="zoom:50%;" />
<h2 id="åˆ›ä½œç«‹æ„">åˆ›ä½œç«‹æ„</h2>
<p>å¸Œæœ›é€šè¿‡åˆ¶ä½œè¿™æ ·çš„ä¸€æ¬¾ä¸¥è‚ƒæ¸¸æˆï¼Œèƒ½è®©ç©å®¶å…³æ³¨é˜²ç–«æ”¿ç­–çš„å˜åŒ–ï¼Œå­¦ä¹ åˆ°é˜²èŒƒç—…æ¯’çš„å°çŸ¥è¯†ï¼Œå­¦ä¼šåšè‡ªå·±å¥åº·ç¬¬ä¸€è´£ä»»äººã€‚</p>
]]></content>
      <categories>
        <category>Projects</category>
        <category>2022</category>
      </categories>
      <tags>
        <tag>Unity</tag>
        <tag>GameProject</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŒJust Suck.ã€å‰æ¯”ç‰¹GameJam2023</title>
    <url>/posts/8/</url>
    <content><![CDATA[<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202311010242672.jpeg" alt="img"></p>
<h1>JUST SUCK.</h1>
<blockquote>
<p><strong>æ¼”ç¤ºè§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1aN41137tc/">https://www.bilibili.com/video/BV1aN41137tc/</a></strong></p>
<p><strong>ä»‹ç»è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1uN4y1a75f/">https://www.bilibili.com/video/BV1uN4y1a75f/</a></strong></p>
<p><strong>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/JBT-GameJam-23/JustSuck">https://github.com/JBT-GameJam-23/JustSuck</a></strong></p>
</blockquote>
<p>æˆ‘åœ¨æœ¬æ¬¡é¡¹ç›®ä¸­ç‹¬è‡ªæ‹…ä»»ç¨‹åºï¼Œä½¿ç”¨Unityå¼•æ“è´Ÿè´£äº†å…¨éƒ¨ä»£ç çš„ç¼–å†™</p>
<p>åœ¨æœ¬æ¬¡æ¯”èµ›ä¸­ï¼Œæˆ‘ä»¬çš„ä½œå“è·å¾—äº†<strong>ä¸‰ç­‰å¥–</strong></p>
<h2 id="å°ç»„æˆå‘˜">å°ç»„æˆå‘˜</h2>
<ul>
<li>
<p>ç­–åˆ’ï¼šé¡¾å®¸å½¦ã€æ—ç¹æ£®</p>
</li>
<li>
<p>ç¨‹åºï¼š<strong>ä¼æ³½å</strong></p>
</li>
<li>
<p>ç¾æœ¯ï¼šç‹å˜‰èª‰</p>
</li>
<li>
<p>éŸ³æ•ˆï¼šé©¬å°é¾™Matti</p>
</li>
</ul>
<h2 id="æ¸¸æˆç®€ä»‹">æ¸¸æˆç®€ä»‹</h2>
<p>æœ¬æ¬¡GameJamä»¥â€œå¸æ”¶â€ä½œä¸ºä¸»é¢˜å±•å¼€ï¼Œæˆ‘ä»¬é€‰æ‹©äº†æç®€çš„è®¾è®¡é£æ ¼ï¼Œå°†â€œå¸â€ä½œä¸ºå”¯ä¸€çš„ç©æ³•ï¼Œå°½é‡å‡å°‘å¤šä½™ç”»é¢å…ƒç´ çš„å †ç Œï¼ŒåŒæ—¶è¾…ä»¥å¤§é‡éŸ³æ•ˆã€åŠ¨æ•ˆä½œä¸ºç©å®¶æ“ä½œçš„åé¦ˆï¼Œä»¥ä¸ºç©å®¶å¸¦æ¥ç‹¬ç‰¹çš„æ¸¸æˆä½“éªŒ</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202312182356619.png" alt="image-20231218235608482"></p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202312182356792.png" alt="image-20231218235624709"></p>
]]></content>
      <categories>
        <category>Projects</category>
        <category>2023</category>
      </categories>
      <tags>
        <tag>Unity</tag>
        <tag>GameProject</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŒSCPã€æ¸¸æˆåˆ›ä½œ1 week3</title>
    <url>/posts/5/</url>
    <content><![CDATA[<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202305221534305.jpg" alt="SCP"></p>
<h1>SCP</h1>
<blockquote>
<p><strong>é¡¹ç›®åœ°å€</strong>ï¼š<a href="https://github.com/hmxsqaq/Unity-SCP">https://github.com/hmxsqaq/Unity-SCP</a></p>
</blockquote>
<p>æˆ‘åœ¨æœ¬æ¬¡é¡¹ç›®ä¸­ç‹¬è‡ªæ‹…ä»»ç¨‹åºï¼Œä½¿ç”¨Unityå¼•æ“è´Ÿè´£äº†å…¨éƒ¨ä»£ç çš„ç¼–å†™</p>
<h2 id="å°ç»„æˆå‘˜">å°ç»„æˆå‘˜</h2>
<ul>
<li>
<p>ç­–åˆ’ï¼šæœä¿®è‡£</p>
</li>
<li>
<p>ç¨‹åºï¼š<strong>ä¼æ³½å</strong></p>
</li>
<li>
<p>ç¾æœ¯ï¼šé­å¯æ¬£</p>
</li>
<li>
<p>éŸ³æ•ˆï¼šé«˜ç¥ç¥ã€ç‹è²é˜³</p>
</li>
</ul>
<h2 id="æ¸¸æˆç®€ä»‹">æ¸¸æˆç®€ä»‹</h2>
<p>è¿™æ˜¯ä¸€æ¬¾åŸºäºUnityçš„2Dææ€–æ¸¸æˆï¼Œã€æ¸¸æˆåˆ›ä½œ1ã€‘è¯¾ç¨‹ç¬¬ä¸‰å‘¨çš„å°ç»„ä½œä¸šï¼Œå›´ç»•æ‹å–åˆ°çš„ä¸»é¢˜â€œSCPâ€è¿›è¡Œå±•å¼€</p>
<p>æ•…äº‹å‘ç”Ÿåœ¨SCPæ”¶å®¹å¤±è´¥çš„èƒŒæ™¯ä¸‹ï¼Œç©å®¶å¯ä»¥é€šè¿‡W/A/S/Dæ§åˆ¶ä¾¥å¹¸å­˜æ´»çš„Dçº§äººå‘˜ï¼Œä¸å„ç±»ç‰©å“è¿›è¡Œäº¤äº’</p>
<p>é€”ä¸­ç©å®¶ä¼šé‡åˆ°å„ç±»SCPï¼Œè¿ç”¨ä½ çš„çŸ¥è¯†ä¸æ‰‹æ®µé€ƒå‡ºå»å§ï¼</p>
<h2 id="æˆªå›¾">æˆªå›¾</h2>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202305221535994.png" alt="æˆªå›¾1"></p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202305221535175.png" alt="æˆªå›¾2"></p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202305221535877.png" alt="æˆªå›¾3"></p>
]]></content>
      <categories>
        <category>Projects</category>
        <category>2023</category>
      </categories>
      <tags>
        <tag>Unity</tag>
        <tag>GameProject</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Œç”µå‡»å°å­ã€CiGA GameJam 2023</title>
    <url>/posts/7/</url>
    <content><![CDATA[<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202307161555859.webp" alt="img" style="zoom:50%;" />
<h1>ç”µå‡»å°å­</h1>
<blockquote>
<p><strong>æ¸¸æˆé¡µé¢</strong>ï¼š<a href="https://gmhub.com/game/2698">https://gmhub.com/game/2698</a></p>
<p><strong>ä»‹ç»è§†é¢‘</strong>ï¼š<a href="https://www.bilibili.com/video/BV1TW4y1f7ai/">https://www.bilibili.com/video/BV1TW4y1f7ai/</a></p>
</blockquote>
<p>æˆ‘åœ¨æœ¬æ¬¡é¡¹ç›®ä¸­ç‹¬è‡ªæ‹…ä»»ç¨‹åºï¼Œä½¿ç”¨Unityå¼•æ“è´Ÿè´£äº†å…¨éƒ¨ä»£ç çš„ç¼–å†™</p>
<h2 id="å°ç»„æˆå‘˜">å°ç»„æˆå‘˜</h2>
<ul>
<li>
<p>ç­–åˆ’ï¼šæˆ´å­é€¸ã€æ—å¼˜æ¶›</p>
</li>
<li>
<p>ç¨‹åºï¼šä¼æ³½å</p>
</li>
<li>
<p>ç¾æœ¯ï¼šé…·ç°å•ƒé¸¡ã€äºŒç‹—ã€æ°´æ°´</p>
</li>
</ul>
<h2 id="æ¸¸æˆç®€ä»‹">æ¸¸æˆç®€ä»‹</h2>
<p>æƒ³æƒ³åŒ—äº¬çš„å†¬å¤©å§ï¼å½“ä½ ä»å¯’å†·çš„æˆ·å¤–èµ°å…¥æ¸©æš–çš„å®¤å†…ï¼Œå½“ä½ è„±ä¸‹ä½ çš„å¤§æ£‰è¢„ï¼Œæƒ³å’Œèˆå‹å‡»æŒâ€”â€”å•ªï¼çš„ä¸€ä¸‹ï¼Œé™ç”µæŠŠäººç”µéº»äº†ã€‚è¿™ç§TOUCHçœŸæ˜¯ä»¤äººå½±å“æ·±åˆ»ã€‚</p>
<p>åœ¨æˆ‘ä»¬çš„æ¸¸æˆä¸­ï¼Œæˆ‘ä»¬å°è¯•å»è¿˜åŸè¿™ä¸€ç§ç”Ÿæ´»ç»å†ï¼šä¸»è§’è¦å’Œå…¶ä»–äººTOUCHæ¥ç§¯æ”’é™ç”µï¼Œå†å»TOUCHåˆ«äººå»ç”µä»–ä»¬ã€‚</p>
<p>TOUCHæ—¢æ˜¯è¿‡ç¨‹ï¼Œä¹Ÿæ˜¯ç›®çš„ã€‚</p>
<p>å¸Œæœ›å¤§å®¶éƒ½èƒ½å¤Ÿäº«å—è¿™ç§ä»¤äººå½±å“æ·±åˆ»çš„â€œTOUCHâ€</p>
<h2 id="æˆªå›¾">æˆªå›¾</h2>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202307161603087.webp" alt="img"></p>
<p><img src="https://files.gmhub.com/storage/upload/hYjVX1ws7olyqOOGhz57oGULQU6pTz0wiXeDtmnt.png.webp" alt="img"></p>
]]></content>
      <categories>
        <category>Projects</category>
        <category>2023</category>
      </categories>
      <tags>
        <tag>Unity</tag>
        <tag>GameProject</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Œè”æœºè±¡æ£‹ã€æ¸¸æˆç¼–ç¨‹å®è®­</title>
    <url>/posts/4/</url>
    <content><![CDATA[<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202307161608249.png" alt="image-20230716150851155" style="zoom: 80%;" />
<h1>è”æœºè±¡æ£‹</h1>
<blockquote>
<p><strong>é¡¹ç›®åœ°å€</strong>ï¼š<a href="https://github.com/hmxsqaq/C-ChineseChessWithLAN">https://github.com/hmxsqaq/C-ChineseChessWithLAN</a></p>
</blockquote>
<p>æˆ‘åœ¨æœ¬æ¬¡é¡¹ç›®ä¸­æ‹…ä»»ç¨‹åºï¼Œä½¿ç”¨C++Socketå®ç°äº†å±€åŸŸç½‘p2pè”æœºï¼ŒåŒæ—¶å®Œæˆäº†æ£‹å­åˆæ³•æ€§åˆ¤æ–­çš„é€»è¾‘</p>
<h2 id="å°ç»„æˆå‘˜">å°ç»„æˆå‘˜</h2>
<ul>
<li>
<p>ä¼æ³½åï¼šè´Ÿè´£ç½‘ç»œæ¨¡å—ã€æ£‹å­åˆæ³•æ€§åˆ¤æ–­</p>
</li>
<li>
<p>æå»ºè±ªï¼šè´Ÿè´£æ¸¸æˆå‰ç«¯ã€æ¸¸æˆæµç¨‹</p>
</li>
</ul>
<h2 id="æ¸¸æˆç®€ä»‹">æ¸¸æˆç®€ä»‹</h2>
<p>ä¸€æ¬¾å¯å±€åŸŸç½‘è”æœºçš„ä¸­å›½è±¡æ£‹æ¸¸æˆ</p>
<p>å±€åŸŸç½‘è”æœºåŠŸèƒ½é€šè¿‡Cè¯­è¨€Socketå®ç°</p>
<p>æ¸¸æˆå‰ç«¯é€šè¿‡EasyXå›¾å½¢åº“å‘ˆç°</p>
<p>å¤§å­¦ç”Ÿç»ƒä¹ ä½œå“</p>
]]></content>
      <categories>
        <category>Projects</category>
        <category>2023</category>
      </categories>
      <tags>
        <tag>C/C++</tag>
        <tag>GameProject</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Œè¾Ÿé‚ªå‚©ç‹®ã€æ¸¸æˆåˆ›ä½œ1ç»“è¯¾</title>
    <url>/posts/6/</url>
    <content><![CDATA[<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202307161452197.png" alt="image-20230716135205003" style="zoom: 67%;" />
<h1>è¾Ÿé‚ªå‚©ç‹®</h1>
<blockquote>
<p><strong>æ¸¸ç©è§†é¢‘</strong>ï¼š<a href="https://www.bilibili.com/video/BV1Su411t7b8/">https://www.bilibili.com/video/BV1Su411t7b8/</a></p>
</blockquote>
<p>æˆ‘åœ¨æœ¬æ¬¡é¡¹ç›®ä¸­ç‹¬è‡ªæ‹…ä»»ç¨‹åºï¼Œä½¿ç”¨Unityå¼•æ“è´Ÿè´£äº†å…¨éƒ¨ä»£ç çš„ç¼–å†™</p>
<h2 id="å°ç»„æˆå‘˜">å°ç»„æˆå‘˜</h2>
<ul>
<li>
<p>ç»„é•¿ã€ç­–åˆ’ï¼šæ²ˆå“æ—­</p>
</li>
<li>
<p>ç­–åˆ’ï¼šè°¢æ‰¿å­æ˜‚</p>
</li>
<li>
<p>ç¨‹åºï¼š<strong>ä¼æ³½å</strong></p>
</li>
<li>
<p>ç¾æœ¯ï¼šå¤å­èŒ¹</p>
</li>
<li>
<p>ç¾æœ¯ï¼šéƒ­å®œæ—</p>
</li>
<li>
<p>æŒ‡å¯¼è€å¸ˆï¼šé™ˆäº¬ç‚œè€å¸ˆã€å¼ æ¢¦é›¨è€å¸ˆã€ç‹å·å¯…è€å¸ˆ</p>
</li>
</ul>
<h2 id="æ¸¸æˆç®€ä»‹">æ¸¸æˆç®€ä»‹</h2>
<p>ã€Šè¾Ÿé‚ªå‚©ç‹®ã€‹æ˜¯ä¸€æ¬¾2då¹³å°è·³è·ƒæ¸¸æˆï¼Œç©å®¶æ‰®æ¼”é™¤å¤•å¤œæŠ«ç€èˆç‹®æœå‡ºé€ƒçš„å°‘å¥³æ­Œæ²‚ï¼Œåœ¨ä¸€åªä¼šè¯´è¯çš„çŸ³ç‹®å­çš„æŒ‡å¼•ä¸‹ï¼Œæ¢å¯»çˆ·çˆ·ä½œä¸ºè€èˆç‹®é˜Ÿæˆå‘˜ç”Ÿå‰çš„ç§˜å¯†ã€‚</p>
<p>**äº®ç‚¹ï¼š**å°†ä¼ ç»Ÿèˆç‹®æ–‡åŒ–åˆç†æ¸¸æˆåŒ–ï¼Œå¯çˆ±çš„èˆç‹®å°å§‘å¨˜ï¼ï¼ï¼</p>
]]></content>
      <categories>
        <category>Projects</category>
        <category>2023</category>
      </categories>
      <tags>
        <tag>Unity</tag>
        <tag>GameProject</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŒAssAssInã€æ¸¸æˆåˆ›ä½œ2ç»“è¯¾</title>
    <url>/posts/11/</url>
    <content><![CDATA[<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202407211639045.png" alt="å®£ä¼ å›¾5" style="zoom:50%;" />
<h1>AssAssIn</h1>
<blockquote>
<p><strong>æ¼”ç¤ºè§†é¢‘</strong>ï¼š<a href="https://www.bilibili.com/video/BV1Kr421A7tC/">https://www.bilibili.com/video/BV1Kr421A7tC/</a></p>
<p><strong>é¡¹ç›®åœ°å€</strong>ï¼š<a href="https://github.com/GameCreation2-2024-NoName/AssAssInPro">https://github.com/GameCreation2-2024-NoName/AssAssInPro</a></p>
</blockquote>
<h2 id="å°ç»„æˆå‘˜">å°ç»„æˆå‘˜</h2>
<ul>
<li>ç­–åˆ’ï¼š<a href="https://space.bilibili.com/423851637">@gu0kke </a>ã€<a href="https://space.bilibili.com/178969683">@å¤œä¹‹å‡æ®‡_</a></li>
<li>ç¨‹åºï¼š<a href="https://space.bilibili.com/89364405">@ç´«åœ°ä¸Pditine </a>ã€<a href="https://space.bilibili.com/11752174">@å¾½å¢¨è¡Œæ·±</a></li>
<li>ç¾æœ¯ï¼š<a href="https://space.bilibili.com/26404651">@Starlightç‚¹ç‚¹ </a>ã€<a href="https://space.bilibili.com/505778653">@æ— éª¨å°é¸¡</a></li>
</ul>
<h2 id="æ¸¸æˆç®€ä»‹">æ¸¸æˆç®€ä»‹</h2>
<blockquote>
<p>â€œäº’æˆ³â€å³æ˜¯æ­£ä¹‰ã€‚	â€”â€”â€œAssAssInâ€ä¹‹ç‹</p>
</blockquote>
<p>åœ¨ä¸€ä¸ªé¥è¿œä¹‹åœ°ï¼Œæ¯ä¸ªç”Ÿçµéƒ½ç”±â€œåˆºâ€å’Œâ€œASSâ€ä¸¤éƒ¨åˆ†æ„æˆã€‚â€œåˆºâ€åšç¡¬é”‹åˆ©ï¼Œæ˜¯æ¯ä¸ªç”Ÿçµç‹¬ä¸€æ— äºŒçš„æ­¦å™¨ï¼›â€œASSâ€è„†å¼±ä¸å ªï¼Œæ˜¯æ¯ä¸ªç”Ÿçµçš„åŠ¨åŠ›ä¹‹æºã€ç”Ÿå‘½ä¹‹æœ¬ã€‚åœ¨å¦‚æ­¤ç‹¬ç‰¹ç»“æ„çš„å½±å“ä¸‹ï¼Œè¿™ç‰‡å¤§åœ°æ¼”å˜å‡ºäº†ä¸€é¡¹æœ€ä¸ºç››å¤§çš„ç«æŠ€é¡¹ç›®â€œAssAssInâ€â€”â€”åŒæ–¹åœ¨ç«æŠ€åœºä¸­æ¨ªå†²ç›´æ’ï¼Œç”¨è‡ªå·±çš„â€œåˆºâ€æˆ³çˆ†å¯¹æ–¹çš„â€œASSâ€ï¼æ¯ä¸€ä½ç”Ÿçµéƒ½ä¸ºäº†èƒ½æˆä¸ºè¿™é¡¹ç«æŠ€çš„èƒœè€…è€Œä¸æ–­åŠªåŠ›ï¼Œåœ¨è¿™ç‰‡åœºåœ°ä¸­è‚†æ„ç¢°æ’ï¼Œé¿å…â€œASSâ€è¢«æˆ³çˆ†ï¼Œç›´è‡³ä»…å‰©è‡ªå·±å±¹ç«‹äºç«æŠ€åœºä¹‹ä¸Šã€‚</p>
<p>æ‰®æ¼”ä¸€ä½â€œAssAssInâ€å¤§èµ›çš„å‚èµ›è€…ï¼Œåˆ©ç”¨ç‹¬ç‰¹çš„å†²åˆºæŠ€å·§å’Œåœºåœ°ä¸­ä¸æ–­ç”Ÿæˆçš„èƒ½é‡çƒï¼Œåœ¨ä¸åŒçš„ç«æŠ€åœºä¸­ä¸å¯¹æ‰‹æˆ˜æ–—ã€‚è§‰å¾—è‡ªå·±å¤ªè¿‡å¹³åº¸ï¼Ÿæ²¡å…³ç³»ï¼æ”¹é€ è‡ªèº«çš„â€œåˆºâ€å’Œâ€œASSâ€æ˜¯æ¯ä¸€ä½å‚èµ›è€…çš„æƒåˆ©ã€‚æ‰¾åˆ°é€‚åˆè‡ªå·±çš„èº«ä½“ä¸æˆ˜æ–—æŠ€å·§ï¼Œåœ¨å¤§èµ›ä¸­ä¸æ–­èƒœåˆ©ï¼Œæˆä¸ºâ€œAssAssInâ€ä¹‹ç‹ï¼</p>
<p>ã€ŠAssAssInã€‹æ˜¯ä¸€æ¬¾ä»¥åŒäººå¯¹æˆ˜æ¨¡å¼ä¸ºæ ¸å¿ƒçš„2Dæ´¾å¯¹æ¸¸æˆã€‚ä½ éœ€è¦åœ¨è¿™ç‰‡è™šæ‹Ÿçš„ç«æŠ€åœºä¸­æˆ³çˆ†æ¯ä¸€ä¸ªåœ¨ä½ é¢å‰çš„â€œASSâ€ï¼Œç”šè‡³å®ƒçš„æ‰€æœ‰è€…å°±ååœ¨ä½ çš„æ—è¾¹ã€‚å°†è‡ªå·±çš„â€œåˆºâ€ç£¨ç ºä¸ºæœ€åšéŸ§çš„â€œåˆºâ€ï¼Œå°†è‡ªå·±çš„â€œASSâ€ä¿æŠ¤å¾—å¯†ä¸é€é£ï¼Œå°†æ¯ä¸€æ¬¡å†²æ’è§†ä½œå¿…ä¸­çš„ä¸€å‡»ï¼šä½ æ— æ•Œäº†ï¼Œå­©å­ã€‚</p>
<p>å½“ç„¶ï¼Œå¦‚æœå¯¹ä¸€æ¬¡æ¬¡â€œAssAssInâ€æ¯”èµ›åçš„ç°å®ä¸–ç•Œâ€œçœŸäººå¿«æ‰“â€æ„Ÿåˆ°åŒå€¦ï¼Œä½ å¯ä»¥è¯•è¯•ä¸€äº›æ”»å‡»æ€§å¹¶æ²¡æœ‰é‚£ä¹ˆå¼ºçš„ç«æŠ€é¡¹ç›®ï¼šè¶³çƒå¤§æˆ˜ã€ç«é€Ÿæ¯”èµ›ã€æ¶‚è‰²æ”»åšâ€¦â€¦ä¸è¿‡ï¼Œä¸€åˆ‡ä»åœ¨å¼€å‘ä¸­ã€‚</p>
<p><strong>å†²åˆºã€ç¢°æ’ã€æˆ³çˆ†ã€èƒœåˆ©</strong>ã€ä½ å°†åœ¨ã€ŠAssAssInã€‹ä¸­è·å¾—éš¾ä»¥å¿˜æ€€çš„å¿«ä¹ä½“éªŒã€‚</p>
<h2 id="æ¸¸æˆç‰¹è‰²">æ¸¸æˆç‰¹è‰²</h2>
<ul>
<li>åˆ«å‡ºå¿ƒè£çš„åŒäººå¨±ä¹ç«æŠ€ï¼šéšæ—¶å«ä¸Šä¸‰äº”å¥½å‹ï¼Œåœ¨è™šæ‹Ÿçš„æ¸¸æˆä¸–ç•Œä¸­ä»¥å†²åˆºçš„æ–¹å¼æˆ³çˆ†æœ‹å‹çš„â€œASSâ€ï¼Œçœ‹çœ‹è°æ‰æ˜¯çœŸæ­£çš„â€œAssAssInâ€ä¹‹ç‹ï¼</li>
<li>ç®€å•æ˜“æ‡‚çš„æ“ä½œæ¨¡å¼ï¼šä»…éœ€æœ€å¤šä¸¤ä¸ªæŒ‰é”®å³å¯æµç•…æ“ä½œï¼Œè®©ä½ éšæ—¶æ„Ÿå—æœ€çº¯çœŸçš„æ´¾å¯¹æ¸¸æˆä½“éªŒã€‚ï¼ˆç›®å‰æ¸¸ç©åŒäººæœ¬åœ°æ¨¡å¼å¿…é¡»æ¥å…¥æ‰‹æŸ„ï¼‰</li>
<li>é£æ ¼å¤šæ ·çš„è£…å¤‡ç³»ç»Ÿï¼šå¯ä¾›ä»»æ„é€‰æ‹©çš„å¤šç§â€œåˆºâ€å’Œâ€œASSâ€ï¼Œå„æœ‰è‡ªèº«ç‹¬ç‰¹ä¹‹å¤„ã€‚éšæ„æ­é…ï¼Œè‡ªç”±ç»„åˆã€‚æ‰¾å¯»æœ€å–œçˆ±çš„ä¸€å¯¹â€œåˆºâ€ä¸â€œASSâ€ï¼Œä»¥å±äºè‡ªå·±çš„æ–¹å¼å–å¾—æ¸¸æˆçš„èƒœåˆ©ã€‚</li>
<li>ç²¾å¿ƒè®¾è®¡çš„ç«æŠ€åœºåœ°ï¼šæ¯ä¸€ä¸ªåœ°å›¾éƒ½æœ‰ç€å„è‡ªçš„åœ°å›¾ç‰¹æ€§ã€‚åˆ©ç”¨å¥½æ¯ä¸€ä¸ªç«æŠ€åœºçš„ç‰¹ç‚¹ï¼Œä½ ä¼šåœ¨æ¯”èµ›ä¸­å–å¾—å·¨å¤§ä¼˜åŠ¿ã€‚ä¹Ÿè®¸äº†è§£å…¨éƒ¨çš„ç«æŠ€åœºï¼Œæ‰èƒ½ç®—æ˜¯â€œAssAssInâ€ä¹‹ç‹ã€‚</li>
</ul>
<h2 id="æ¸¸æˆæˆªå›¾">æ¸¸æˆæˆªå›¾</h2>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202407211641753.png" alt="å®£ä¼ å›¾2"></p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202407211641832.png" alt="å®£ä¼ å›¾3"></p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202407211641044.png" alt="å®£ä¼ å›¾1"></p>
]]></content>
      <categories>
        <category>Projects</category>
        <category>2024</category>
      </categories>
      <tags>
        <tag>Unity</tag>
        <tag>GameProject</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŒWorld Pieceã€-GMTK GameJam 2024</title>
    <url>/posts/13/</url>
    <content><![CDATA[<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281439687.png" style="zoom: 67%;" />
<h1>World piece</h1>
<blockquote>
<p><strong>World peace? or World piece?</strong></p>
<p>URL: <a href="https://bgar1222.itch.io/world-pieces">https://bgar1222.itch.io/world-pieces</a></p>
</blockquote>
<h2 id="Background">Background</h2>
<p>As the shadow of war engulfs Europe, the FÃ¼hrerâ€™s ambition for domination grows boundless. The Empire is locked in a fierce battle, where every decision could tip the scales between victory and annihilation. In these dark times, the FÃ¼hrer has summoned youâ€”one of the Empireâ€™s most brilliant weapons engineers. Your mission is to craft the deadliest missiles with unparalleled precision, capable of obliterating enemy cities with minimal resources.</p>
<p>But this is no ordinary task. The Empireâ€™s resources are rapidly dwindling, and the FÃ¼hrer demands nothing less than perfection. He has entrusted you with the power to alter the course of history, but any misstep could mean the end of everything.</p>
<p>The fate of the Empireâ€”and your own survivalâ€”rests in your hands.</p>
<h2 id="Brief">Brief</h2>
<p>In this game, youâ€™ll play the role of a scientist who creates a nuclear bomb and decides to launch it. Youâ€™ll have to create the bomb with the least amount of resources and launch it according to the FÃ¼hrerâ€™s orders.</p>
<p>You will use basic shapes such as triangles, squares, overlays, rotations, scaling and other effects to create shapes that correspond to the bombing zones given by the FÃ¼hrer.</p>
<p>Then you press the launch button, and the fate of all men is in your hands.</p>
<h2 id="Rules">Rules</h2>
<p>Players can input the basic shape and other components to modify the shape.</p>
<p>The right-hand slot performs an in-computation on the left-hand computation result. The rightmost slot outputs the final result.</p>
<p><strong><img src="https://img.itch.zone/aW1nLzE3NDM2Mjc1LmpwZw==/original/Ke%2B0e6.jpg" alt="img"></strong></p>
<p>Please use each component to create the same shape as the required blast zone.</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281441415.png" alt="img"></p>
<p><img src="https://img.itch.zone/aW1hZ2UvMjkxMTQwMi8xNzQzMTkzMi5wbmc=/original/%2F3X%2FcA.png" alt="img"></p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202411281442617.png" alt="img"></p>
]]></content>
      <categories>
        <category>Projects</category>
        <category>2024</category>
      </categories>
      <tags>
        <tag>Unity</tag>
        <tag>GameProject</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŒBlindTrustã€æ¸¸æˆåˆ›ä½œ2 week3</title>
    <url>/posts/10/</url>
    <content><![CDATA[<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202407211628143.jpeg" alt="img" style="zoom:50%;" />
<h1>BlindTrust</h1>
<blockquote>
<p><strong>æ¼”ç¤ºè§†é¢‘</strong>ï¼š<a href="https://www.bilibili.com/video/BV1yx4y1e7Eo/">https://www.bilibili.com/video/BV1yx4y1e7Eo/</a></p>
<p><strong>é¡¹ç›®åœ°å€</strong>ï¼š<a href="https://github.com/GameCreation2-2024-NoName/Blind-Trust">https://github.com/GameCreation2-2024-NoName/Blind-Trust</a></p>
</blockquote>
<h2 id="å°ç»„æˆå‘˜">å°ç»„æˆå‘˜</h2>
<ul>
<li>ç­–åˆ’ï¼š<a href="https://space.bilibili.com/423851637">@gu0kke </a>ã€<a href="https://space.bilibili.com/178969683">@å¤œä¹‹å‡æ®‡_</a></li>
<li>ç¨‹åºï¼š<a href="https://space.bilibili.com/89364405">@ç´«åœ°ä¸Pditine </a>ã€<a href="https://space.bilibili.com/11752174">@å¾½å¢¨è¡Œæ·±</a></li>
<li>ç¾æœ¯ï¼š<a href="https://space.bilibili.com/26404651">@Starlightç‚¹ç‚¹ </a>ã€<a href="https://space.bilibili.com/505778653">@æ— éª¨å°é¸¡</a></li>
</ul>
<h2 id="æ¸¸æˆç®€ä»‹">æ¸¸æˆç®€ä»‹</h2>
<p>è¿™æ˜¯ä¸€ä¸ªç®€æ˜“çš„æ¨¡æ‹Ÿç›²äººå‡ºè¡Œçš„ç•¥æœ‰ä¸€äº›äº›ä¸¥è‚ƒå‘çš„æ¸¸æˆï¼Œä¸¤ä½ç©å®¶åˆ†åˆ«é¥°æ¼”ç›²äººä¸å¯¼ç›²çŠ¬ï¼Œåœ¨æ²¡æœ‰ç‰µå¼•ç»³çš„æƒ…å†µä¸‹ï¼Œç›²äººæ˜¯å¦èƒ½å®Œå…¨ä¿¡ä»»å¯¼ç›²çŠ¬çš„æŒ‡å¼•ï¼Ÿå¯¼ç›²çŠ¬åˆæ˜¯å¦èƒ½æŒ‡å¼•ä¸»äººæ‰¾åˆ°æ­£ç¡®çš„é“è·¯ï¼Ÿä¸€åˆ‡çš„ç»“å±€ï¼Œéƒ½å–å†³äºç©å®¶è‡ªå·±çš„è¡Œä¸ºâ€¦â€¦</p>
<p>â€œæ»¡å¤´å¤§æ±—äº†å®¶äººä»¬â€ï¼Œâ€œè¿™ä¹ˆéš¾çš„å—è¿™ç©æ„â€ï¼Œâ€œå¤ªå¯æ€•äº†â€â€¦â€¦å½“ä½ çœŸçš„çœ‹ä¸è§è¿™ä¸ªä¸–ç•Œï¼Œèµ°åœ¨è·¯ä¸Šï¼Œä½ æ‰èƒ½ä½“ä¼šåˆ°ï¼Œé»‘æš—ä¸­ï¼Œæ‰‹è„šå’Œå†…å¿ƒçš„æ— åŠ©ã€‚è¿™äº›æˆ‘ä»¬ä»…ä»…åªä½“éªŒäº†å‡ åˆ†é’Ÿçš„å›°éš¾ï¼Œä¹Ÿè®¸å°±æ˜¯è§†éšœäººç¾¤çš„ä¸€è¾ˆå­ã€‚å¸Œæœ›æˆ‘ä»¬éƒ½èƒ½å°Šé‡è§†éšœäººç¾¤çš„ç”Ÿæ´»ï¼Œä»ä¸å ç”¨ç›²é“è¿™äº›ç‚¹æ»´å°äº‹åšèµ·ï¼ï¼</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202407211629783.png" alt="image-20240721162946624" style="zoom:50%;" />
]]></content>
      <categories>
        <category>Projects</category>
        <category>2024</category>
      </categories>
      <tags>
        <tag>Unity</tag>
        <tag>GameProject</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Œå¹æ°”çƒã€æ¸¸æˆåˆ›ä½œ2 week1</title>
    <url>/posts/9/</url>
    <content><![CDATA[<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202407211553628.png" alt="image-20240721155347372" style="zoom:50%;" />
<h1>å¹æ°”çƒ</h1>
<blockquote>
<p><strong>æ¼”ç¤ºè§†é¢‘</strong>ï¼š<a href="https://www.bilibili.com/video/BV1ZD42177Gp/">https://www.bilibili.com/video/BV1ZD42177Gp/</a></p>
<p><strong>é¡¹ç›®åœ°å€</strong>ï¼š<a href="https://github.com/hmxsqaq/Unity-BlowUpTheFxxkingBalloon">https://github.com/hmxsqaq/Unity-BlowUpTheFxxkingBalloon</a></p>
</blockquote>
<p>æˆ‘åœ¨æœ¬æ¬¡é¡¹ç›®ä¸­ç‹¬è‡ªæ‹…ä»»ç¨‹åºï¼Œä½¿ç”¨Unityå¼•æ“è´Ÿè´£äº†å…¨éƒ¨ä»£ç çš„ç¼–å†™</p>
<h2 id="å°ç»„æˆå‘˜">å°ç»„æˆå‘˜</h2>
<ul>
<li>ç­–åˆ’ï¼š<a href="https://space.bilibili.com/423851637">@gu0kke</a></li>
<li>ç¨‹åºï¼š<a href="https://space.bilibili.com/11752174">@å¾½å¢¨è¡Œæ·±</a></li>
<li>ç‰¹æ•ˆï¼š<a href="https://space.bilibili.com/26404651">@Starlightç‚¹ç‚¹</a></li>
<li>ç¾æœ¯ï¼š<a href="https://space.bilibili.com/505778653">@æ— éª¨å°é¸¡</a></li>
<li>éŸ³ä¹ï¼š<a href="https://space.bilibili.com/178969683">@å¤œä¹‹å‡æ®‡_</a></li>
</ul>
<h2 id="æ¸¸æˆç®€ä»‹">æ¸¸æˆç®€ä»‹</h2>
<p>å¦‚æœä½ æ— èŠçš„è¯ï¼Œé‚£å°±æ¥å¹æ°”çƒå§ï¼ï¼</p>
<p>è¿™æ˜¯ä¸€ä¸ªååˆ†ç®€å•çš„å¹æ°”çƒæ¨¡æ‹Ÿå™¨ï¼Œä½ åªéœ€è¦æŒ‰ä½å±å¹•ï¼Œå³å¯ä¸ºæ°”çƒå¹æ°”ï¼æ°”çƒæŠ–åŠ¨çš„é¢‘ç‡ä¼šæš—ç¤ºæ°”çƒä»€ä¹ˆæ—¶å€™çˆ†ç‚¸å“¦ï½ æˆ‘ä»¬ä¸ç»™æ¸¸æˆæœ¬èº«è®¾å®šä»»ä½•è§„åˆ™ã€‚</p>
<p>ä½œä¸ºä¸€ä¸ªæ´¾å¯¹æ¸¸æˆâ€œé“å…·â€ï¼Œç©å®¶å¯ä»¥è‡ªè¡Œè®¾å®šä»»ä½•è‡ªå·±å–œæ¬¢çš„è§„åˆ™ï¼Œæ— è®ºæ˜¯è½®æµå¹æ°”çƒåˆ°è°é‚£å¹çˆ†äº†è°è¾“ï¼Œè¿˜æ˜¯å¾€ä¸Šå åŠ å›åˆè®¡æ—¶ã€å¾®æ“è®¡åˆ†ç­‰è§„åˆ™ï¼Œåªè¦äº«å—å¼€å¿ƒç¬é—´å°±å¥½ï¼o(â‰§vâ‰¦)o</p>
]]></content>
      <categories>
        <category>Projects</category>
        <category>2024</category>
      </categories>
      <tags>
        <tag>Unity</tag>
        <tag>GameProject</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»é›¶å¼€å§‹çš„C++è½¯å…‰æ …æ¸²æŸ“å™¨</title>
    <url>/posts/12/</url>
    <content><![CDATA[<h1>ä»é›¶å¼€å§‹çš„C++è½¯å…‰æ …æ¸²æŸ“å™¨å¼€å‘</h1>
<blockquote>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/hmxsqaq/Graphics-TinyRenderer">https://github.com/hmxsqaq/Graphics-TinyRenderer</a></p>
<p>GitHubä¸­æœ‰æ›´åŠ è¯¦ç»†çš„è‹±è¯­é¡¹ç›®æ–‡æ¡£ä¸å®æ—¶æ›´æ–°çš„é¡¹ç›®æºç </p>
<p><em>è¿™ä¸ªé¡¹ç›®æ˜¯æˆ‘è¿›è¡Œå›¾å½¢å­¦å­¦ä¹ çš„èµ·ç‚¹ï¼Œå­˜åœ¨ç€è¯¸å¤šä¸å®Œå–„ä¸æˆ‘è‡ªå·±ä¸æ»¡æ„çš„åœ°æ–¹ï¼Œæˆ‘æ­£åœ¨åŸºäº<code>Win32API</code>å¯¹é¡¹ç›®è¿›è¡Œé‡æ„ï¼Œæ„Ÿå…´è¶£çš„è¯å¯ä»¥æŸ¥çœ‹<a href="https://github.com/hmxsqaq/HmxsRenderer">è¿™é‡Œ</a></em></p>
</blockquote>
<h2 id="æ¦‚è¿°">æ¦‚è¿°</h2>
<p>è¿™æ˜¯ä¸€ä¸ªåŸºäº <a href="https://github.com/ssloy/tinyrenderer/wiki">tinyrenderer</a> çš„å¾®å‹ C++ è½¯å…‰æ …æ¸²æŸ“å™¨ï¼Œå¯ä»¥è¯»å–<code>.obj</code>æ¨¡å‹æ–‡ä»¶ä¸<code>.tga</code>çº¹ç†å›¾åƒï¼Œå¯¹æ¨¡å‹è¿›è¡Œæ¸²æŸ“åå°†ç»“æœè¾“å‡ºåˆ°<code>.tga</code>æ–‡ä»¶ä¸­</p>
<p>æˆ‘çš„ç›®æ ‡æ˜¯åˆ›å»ºä¸€ä¸ªä¸ä¾èµ–ä»»ä½•ç¬¬ä¸‰æ–¹åº“çš„è¶³å¤Ÿçµæ´»çš„æ¸²æŸ“å™¨ï¼Œåœ¨è¿™ä¸€å®è·µä¸­æˆ‘ä¼šäº²è‡ªç¼–å†™ä»æœ€åŸºç¡€çš„å‡ ä½•æ•°å­¦åº“åˆ°å…‰æ …åŒ–æ¸²æŸ“å™¨çš„å…¨éƒ¨ä»£ç ï¼Œåœ¨è¿™ä¸€è¿‡ç¨‹ä¸­ï¼Œæˆ‘å¯ä»¥å…¨é¢åœ°äº†è§£å¹¶æ§åˆ¶æ¸²æŸ“å™¨ä¸­çš„ä¸€åˆ‡ï¼Œæå‡è‡ªå·±å¯¹å›¾å½¢å­¦ã€C++ä¸è½¯ä»¶æ¶æ„è®¾è®¡çš„ç†è§£ï¼Œè¿™å¯¹æˆ‘ä¹‹åçš„å­¦ä¹ å¤§æœ‰è£¨ç›Šã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€äº›è¾“å‡ºå›¾ç‰‡çš„ä¾‹å­ï¼š</p>
<p><em>å› ä¸ºmdä¸æ”¯æŒåŸç”Ÿæ˜¾ç¤ºtgaå›¾ç‰‡ï¼Œä¸ºæ–¹ä¾¿å±•ç¤ºï¼Œè¿™é‡Œçš„å›¾ç‰‡ç»ç”±å¤–éƒ¨è½¬æ¢ä¸ºäº†pngæ ¼å¼</em></p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202406202341390.png" alt="image-20240620234127293" style="zoom: 25%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202406202345553.png" alt="african_head_gouraud_shader" style="zoom: 25%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202406202345558.png" alt="african_head_static_layer_value_shader" style="zoom: 25%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202406202351974.png" alt="boggie" style="zoom: 25%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202406202351979.png" alt="diablo3_tangent_shader" style="zoom: 25%;" />
<h2 id="ç‰¹æ€§">ç‰¹æ€§</h2>
<ul>
<li>[x] æ— ç¬¬ä¸‰æ–¹åº“ä¾èµ–</li>
<li>[x] å°å‹çµæ´»çš„æ¶æ„</li>
<li>[x] è‡ªå»ºå‡ ä½•åº“ï¼ˆå‘é‡ä¸çŸ©é˜µæ“ä½œï¼‰</li>
<li>[x] <code>.obj</code> æ¨¡å‹è¯»å–</li>
<li>[x] <code>.tga</code> å›¾ç‰‡è¯»å–ä¸å†™å…¥ï¼ˆå¸¦ RLE å‹ç¼©ç®—æ³•ï¼‰</li>
<li>[x] çº¿æ®µç»˜åˆ¶</li>
<li>[x] é‡å¿ƒåæ ‡è®¡ç®—</li>
<li>[x] ä¸‰è§’å½¢å…‰æ …åŒ–</li>
<li>[x] æ·±åº¦ç¼“å†²</li>
<li>[x] æ³•çº¿è´´å›¾</li>
<li>[x] çº¹ç†æ˜ å°„</li>
<li>[x] Phong ç€è‰²</li>
<li>[x] å¯å®šåˆ¶çš„ç€è‰²å™¨</li>
<li>[ ] é˜´å½±æ˜ å°„</li>
<li>[ ] æŠ—é”¯é½¿</li>
</ul>
<h2 id="æ¶æ„">æ¶æ„</h2>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202406202351924.png" alt="class_diagram"></p>
<ul>
<li><code>main.cpp</code></li>
</ul>
<p>è¿™æ˜¯ç¨‹åºçš„ä¸»æ¸²æŸ“æµç¨‹ã€‚</p>
<ol>
<li>å®šä¹‰åŸºæœ¬ä¿¡æ¯ï¼Œå¦‚å›¾åƒå¤§å°ã€æ¨¡å‹è·¯å¾„ã€ç›¸æœºç­‰</li>
<li>åŠ è½½æ¨¡å‹å’Œçº¹ç†</li>
<li>åˆå§‹åŒ–æ¸²æŸ“å™¨ä¸ç€è‰²å™¨</li>
<li>è®¾ç½®MVPçŸ©é˜µå’Œè§†å£çŸ©é˜µ</li>
<li>æ¸²æŸ“!!!</li>
<li>ä¿å­˜å›¾åƒ</li>
</ol>
<p>ä½ å¯ä»¥åœ¨ <code>main.cpp</code> æ–‡ä»¶ä¸­å®šä¹‰ä½ è‡ªå·±çš„ç€è‰²å™¨</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span>** argv)</span> </span>&#123;</span><br><span class="line">    std::vector&lt;std::string&gt; object_infos = &#123;</span><br><span class="line">            <span class="comment">// R&quot;(..\model\african_head\african_head.obj)&quot;,</span></span><br><span class="line">            <span class="comment">// R&quot;(..\model\african_head\african_head_eye_inner.obj)&quot;,</span></span><br><span class="line">            <span class="comment">// R&quot;(..\model\diablo3_pose\diablo3_pose.obj)&quot;,</span></span><br><span class="line">            <span class="comment">// R&quot;(..\model\boggie\body.obj)&quot;,</span></span><br><span class="line">            <span class="comment">// R&quot;(..\model\boggie\eyes.obj)&quot;,</span></span><br><span class="line">            <span class="comment">// R&quot;(..\model\boggie\head.obj)&quot;,</span></span><br><span class="line">            <span class="string">R&quot;(..\model\cottage.obj)&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="type">const</span> std::string output_filename = <span class="string">&quot;../image/output.tga&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">Renderer <span class="title">renderer</span><span class="params">(width, height, Color::RGB)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; model_path : object_infos) &#123;</span><br><span class="line">        <span class="function">Object <span class="title">object</span><span class="params">(model_path, &#123;<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>&#125;, <span class="number">0</span>, <span class="number">1</span>)</span></span>;</span><br><span class="line">        <span class="built_in">set_model_mat</span>(object.angle, object.scale, object.position);</span><br><span class="line">        <span class="built_in">set_view_mat</span>(camera.position);</span><br><span class="line">        <span class="built_in">set_projection_mat</span>(camera.fov, camera.aspect_ratio, camera.zNear, camera.zFar);</span><br><span class="line">        <span class="function">GouraudShader <span class="title">shader</span><span class="params">(object.model, &#123;light1, light2&#125;)</span></span>;</span><br><span class="line">        renderer.<span class="built_in">draw_object</span>(object, shader);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TGAHandler::<span class="built_in">write_tga_file</span>(output_filename,</span><br><span class="line">                               renderer.<span class="built_in">width</span>(),</span><br><span class="line">                               renderer.<span class="built_in">height</span>(),</span><br><span class="line">                               renderer.<span class="built_in">bpp</span>(),</span><br><span class="line">                               renderer.<span class="built_in">frame_data</span>());</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>geometry.h</code> å’Œ <code>color.h</code></li>
</ul>
<p>å®ƒä»¬æ˜¯åŸºæœ¬çš„å‡ ä½•å’Œé¢œè‰²ç±»ï¼Œç”¨äºå®šä¹‰ç¨‹åºçš„åŸºæœ¬æ•°æ®ç»“æ„ã€‚</p>
<p><code>geometry</code> ä½¿ç”¨ <code>template</code> å®šä¹‰äº† <code>Vec&lt;int&gt;</code>ã€<code>Mat&lt;int, int&gt;</code> ç±»ï¼Œç”¨äºè¡¨ç¤ºå‘é‡å’ŒçŸ©é˜µã€‚å®ƒå®ç°äº†ä¸€äº›åŸºæœ¬çš„å‘é‡å’ŒçŸ©é˜µæ“ä½œï¼Œå¦‚ <code>+</code>ã€<code>-</code>ã€<code>*</code>ã€<code>/</code> ç­‰ï¼Œä»¥åŠä¸€äº›æœ‰ç”¨çš„å‡½æ•°ï¼Œå¦‚ <code>cross()</code>ã€<code>normalize()</code>ã€<code>invert()</code>ã€<code>transpose()</code> ç­‰ã€‚</p>
<p><code>color</code> å®šä¹‰äº† <code>Color</code> ç±»ï¼Œç”¨äºè¡¨ç¤ºå›¾åƒçš„é¢œè‰²ï¼Œä½¿ç”¨å››ä½ <code>uint8_t</code> å­˜å‚¨é¢œè‰²æ•°æ®ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">    <span class="keyword">enum</span> <span class="title class_">ColorFormat</span> &#123; GRAYSCALE = <span class="number">1</span>, RGB = <span class="number">3</span>, RGBA = <span class="number">4</span> &#125;;</span><br><span class="line"></span><br><span class="line">    std::array&lt;std::<span class="type">uint8_t</span>, 4&gt; bgra = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>&#125;; <span class="comment">// BLUE, GREEN, RED, alpha</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">constexpr</span> std::<span class="type">uint8_t</span>&amp; <span class="keyword">operator</span>[](<span class="type">const</span> <span class="type">int</span> i) <span class="keyword">noexcept</span> &#123; <span class="built_in">assert</span>(i &gt;= <span class="number">0</span> &amp;&amp; i &lt; <span class="number">4</span>); <span class="keyword">return</span> bgra[i]; &#125;</span><br><span class="line">    <span class="keyword">constexpr</span> std::<span class="type">uint8_t</span> <span class="keyword">operator</span>[](<span class="type">const</span> <span class="type">int</span> i) <span class="type">const</span> <span class="keyword">noexcept</span> &#123; <span class="built_in">assert</span>(i &gt;= <span class="number">0</span> &amp;&amp; i &lt; <span class="number">4</span>); <span class="keyword">return</span> bgra[i]; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">constexpr</span> std::<span class="type">uint8_t</span> <span class="title">R</span><span class="params">()</span> <span class="type">const</span> <span class="keyword">noexcept</span> </span>&#123; <span class="keyword">return</span> bgra[<span class="number">2</span>]; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">constexpr</span> std::<span class="type">uint8_t</span> <span class="title">G</span><span class="params">()</span> <span class="type">const</span> <span class="keyword">noexcept</span> </span>&#123; <span class="keyword">return</span> bgra[<span class="number">1</span>]; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">constexpr</span> std::<span class="type">uint8_t</span> <span class="title">B</span><span class="params">()</span> <span class="type">const</span> <span class="keyword">noexcept</span> </span>&#123; <span class="keyword">return</span> bgra[<span class="number">0</span>]; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">constexpr</span> std::<span class="type">uint8_t</span> <span class="title">A</span><span class="params">()</span> <span class="type">const</span> <span class="keyword">noexcept</span> </span>&#123; <span class="keyword">return</span> bgra[<span class="number">3</span>]; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">constexpr</span> Vec3 <span class="title">to_vec3</span><span class="params">()</span> <span class="type">const</span> <span class="keyword">noexcept</span> </span>&#123; <span class="keyword">return</span> &#123; <span class="built_in">R</span>() / <span class="number">255.0</span>, <span class="built_in">G</span>() / <span class="number">255.0</span>, <span class="built_in">B</span>() / <span class="number">255.0</span> &#125;; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span> std::ostream&amp; <span class="keyword">operator</span>&lt;&lt;(std::ostream &amp;out, <span class="type">const</span> Color &amp;color) &#123;</span><br><span class="line">    out &lt;&lt;</span><br><span class="line">    <span class="string">&quot;R &quot;</span> &lt;&lt; <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(color.<span class="built_in">R</span>()) &lt;&lt;</span><br><span class="line">    <span class="string">&quot; G &quot;</span> &lt;&lt; <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(color.<span class="built_in">G</span>()) &lt;&lt;</span><br><span class="line">    <span class="string">&quot; B &quot;</span> &lt;&lt; <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(color.<span class="built_in">B</span>()) &lt;&lt;</span><br><span class="line">    <span class="string">&quot; A &quot;</span> &lt;&lt; <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(color.<span class="built_in">A</span>());</span><br><span class="line">    <span class="keyword">return</span> out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span> Color <span class="keyword">operator</span>*(<span class="type">const</span> Color &amp;color, <span class="type">const</span> <span class="type">double</span> scalar) &#123;</span><br><span class="line">    Color result;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; ++i)</span><br><span class="line">        result[i] = <span class="built_in">static_cast</span>&lt;std::<span class="type">uint8_t</span>&gt;(color[i] * scalar);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>texture.h</code> å’Œ <code>model.h</code></li>
</ul>
<p>å®ƒä»¬ç”¨äºåŠ è½½çº¹ç†å’Œæ¨¡å‹ã€‚</p>
<p><code>texture</code> å®šä¹‰äº† <code>Texture</code> ç±»ï¼Œå­˜å‚¨çº¹ç†å›¾åƒçš„é¢œè‰²æ•°æ®ã€‚å¹¶ä¸”å®ƒæä¾›äº† <code>get_color(uv)</code> å‡½æ•°ï¼Œè®©å…¶ä»–ç±»å¯ä»¥åœ¨ç»™å®šçš„ uv åæ ‡å¤„è·å–çº¹ç†å›¾åƒçš„é¢œè‰²ã€‚</p>
<p><code>model</code> å®šä¹‰äº† <code>Model</code> ç±»ï¼Œå¯ä»¥è¯»å– <code>.obj</code> æ¨¡å‹æ–‡ä»¶å¹¶å°†å…¶æ•°æ®ï¼ˆé¡¶ç‚¹ï¼Œé¢ï¼Œçº¹ç†ç­‰ï¼‰åŠ è½½åˆ°å†…å­˜ä¸­ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Texture</span> &#123;</span><br><span class="line">    <span class="type">int</span> width = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> height = <span class="number">0</span>;</span><br><span class="line">    std::<span class="type">uint8_t</span> bpp = <span class="number">0</span>;</span><br><span class="line">    std::vector&lt;std::<span class="type">uint8_t</span>&gt; data = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Texture</span>() = <span class="keyword">default</span>;</span><br><span class="line">    <span class="built_in">Texture</span>(<span class="type">const</span> <span class="type">int</span> _width, <span class="type">const</span> <span class="type">int</span> _height, <span class="type">const</span> std::<span class="type">uint8_t</span> _bpp)</span><br><span class="line">        : <span class="built_in">width</span>(_width), <span class="built_in">height</span>(_height), <span class="built_in">bpp</span>(_bpp), <span class="built_in">data</span>(_width * _height * _bpp) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">Color <span class="title">get_color</span><span class="params">(<span class="type">const</span> <span class="type">int</span> x, <span class="type">const</span> <span class="type">int</span> y)</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (data.<span class="built_in">empty</span>() || x &lt; <span class="number">0</span> || y &lt; <span class="number">0</span> || x &gt;= width || y &gt;= height) &#123;</span><br><span class="line">            std::cerr &lt;&lt; <span class="string">&quot;get pixel fail: x &quot;</span> &lt;&lt; x &lt;&lt; <span class="string">&quot; y &quot;</span> &lt;&lt; y &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">            <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Color ret = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line">        <span class="type">const</span> std::<span class="type">uint8_t</span> *pixel = data.<span class="built_in">data</span>() + (x + y * width) * bpp;</span><br><span class="line">        std::<span class="built_in">copy_n</span>(pixel, bpp, ret.bgra.<span class="built_in">begin</span>());</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">Color <span class="title">get_color</span><span class="params">(<span class="type">const</span> Vec2&amp; uv)</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">get_color</span>(<span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(uv[<span class="number">0</span>] * width), <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(uv[<span class="number">1</span>] * height));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">flip_horizontally</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="type">const</span> <span class="type">int</span> half = width &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> x = <span class="number">0</span>; x &lt; half; ++x)</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> y = <span class="number">0</span>; y &lt; height; ++y)</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> b = <span class="number">0</span>; b &lt; bpp; ++b)</span><br><span class="line">                    std::<span class="built_in">swap</span>(data[(x + y * width) * bpp + b],</span><br><span class="line">                              data[(width - <span class="number">1</span> - x + y * width) * bpp + b]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">flip_vertically</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="type">const</span> <span class="type">int</span> half = height &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> x = <span class="number">0</span>; x &lt; width; ++x)</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> y = <span class="number">0</span>; y &lt; half; ++y)</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> b = <span class="number">0</span>; b &lt; bpp; ++b)</span><br><span class="line">                    std::<span class="built_in">swap</span>(data[(x + y * width) * bpp + b],</span><br><span class="line">                              data[(x + (height - <span class="number">1</span> - y) * width) * bpp + b]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>renderer.h</code></li>
</ul>
<p>å®ƒå®šä¹‰äº† <code>Renderer</code> ç±»ï¼Œè¿™æ˜¯ç¨‹åºçš„æ ¸å¿ƒã€‚å®ƒåŒ…å«äº†ä¸»è¦çš„æ¸²æŸ“ç®—æ³•ï¼Œå¦‚çº¿æ¡ç»˜åˆ¶ã€é‡å¿ƒè·å–ã€ä¸‰è§’å½¢å…‰æ …åŒ–ç­‰ã€‚</p>
<p>å›¾åƒé¢œè‰²æ•°æ®å°†å­˜å‚¨åœ¨ä¸€ä¸ªåä¸º <code>frame_buffer</code> çš„ <code>vector&lt;uint8_t&gt;</code> ä¸­ï¼Œè¿™æ˜¯ä¸€ç§æ ¼å¼è¾ƒä¸ºåº•å±‚çš„æ ¼å¼ï¼Œæˆ‘æƒ³è¿™æœ‰åˆ©äºåç»­çš„å¼€å‘ã€‚æˆ‘ä½¿ç”¨ bppï¼ˆæ¯åƒç´ ä½æ•°ï¼‰ä½œä¸ºåç§»é‡æ¥å­˜å‚¨åƒç´ é¢œè‰²å’Œç´¢å¼•ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">set_model_mat</span><span class="params">(<span class="type">double</span> angle, <span class="type">double</span> scale, <span class="type">const</span> Vec3 &amp;translate)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">set_view_mat</span><span class="params">(<span class="type">const</span> Vec3&amp; eye_point)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">set_projection_mat</span><span class="params">(<span class="type">double</span> fov, <span class="type">double</span> aspect_ratio, <span class="type">double</span> zNear, <span class="type">double</span> zFar)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">set_viewport_mat</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> w, <span class="type">int</span> h)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Renderer</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Renderer</span>() = <span class="keyword">default</span>;</span><br><span class="line">    <span class="built_in">Renderer</span>(<span class="type">int</span> width, <span class="type">int</span> height, <span class="type">int</span> bbp);</span><br><span class="line"></span><br><span class="line">    <span class="function">Color <span class="title">get_pixel</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> <span class="type">const</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">set_pixel</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">const</span> Color &amp;color)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">draw_line</span><span class="params">(Vec2 p0, Vec2 p1, <span class="type">const</span> Color &amp;color)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">draw_triangle_linesweeping</span><span class="params">(Vec2 p0, Vec2 p1, Vec2 p2, <span class="type">const</span> Color &amp;color)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">draw_object</span><span class="params">(<span class="type">const</span> Object &amp;object, IShader &amp;shader)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">width</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> width_; &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">height</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> height_; &#125;</span><br><span class="line">    <span class="function">std::<span class="type">uint8_t</span> <span class="title">bpp</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> bpp_; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">auto</span> <span class="title">frame_data</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> frame_buffer_.<span class="built_in">data</span>(); &#125;</span><br><span class="line">    <span class="function"><span class="keyword">auto</span>&amp; <span class="title">frame_buffer</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> frame_buffer_; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">auto</span> <span class="title">depth_data</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> depth_buffer_.<span class="built_in">data</span>(); &#125;</span><br><span class="line">    <span class="function"><span class="keyword">auto</span>&amp; <span class="title">depth_buffer</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> depth_buffer_; &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">draw_triangle</span><span class="params">(<span class="type">const</span> Mat&lt;<span class="number">3</span>, <span class="number">4</span>&gt; &amp;t_vert_clip, IShader &amp;shader)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">static</span> Vec3 <span class="title">get_barycentric2D</span><span class="params">(<span class="type">const</span> std::array&lt;Vec2, <span class="number">3</span>&gt; &amp;t_vert, <span class="type">const</span> Vec2&amp; p)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">bool</span> <span class="title">is_inside_triangle_cross_product</span><span class="params">(<span class="type">const</span> Vec2 *t, <span class="type">const</span> Vec2&amp; P)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> width_ = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> height_ = <span class="number">0</span>;</span><br><span class="line">    std::<span class="type">uint8_t</span> bpp_ = <span class="number">0</span>; <span class="comment">// bits per pixel</span></span><br><span class="line">    std::vector&lt;std::<span class="type">uint8_t</span>&gt; frame_buffer_ = &#123;&#125;;</span><br><span class="line">    std::vector&lt;<span class="type">double</span>&gt; depth_buffer_ = &#123;&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>shader.h</code></li>
</ul>
<p>å®ƒæ˜¯ä¸æ¸²æŸ“ç›¸å…³çš„ç±»å’Œæ–¹æ³•çš„é›†åˆï¼ŒåŒ…æ‹¬ <code>Object</code> å’Œ <code>Camera</code> ç­‰å·¥å…·ã€‚å®ƒè¿˜å®šä¹‰äº†åŸºæœ¬çš„ <code>IShader</code> æ¥å£ï¼Œä½œä¸ºæ‰€æœ‰ç€è‰²å™¨çš„åŸºç±»ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Camera</span> &#123;</span><br><span class="line">    Vec3 position;</span><br><span class="line">    <span class="type">double</span> fov;</span><br><span class="line">    <span class="type">double</span> aspect_ratio;</span><br><span class="line">    <span class="type">double</span> zNear;</span><br><span class="line">    <span class="type">double</span> zFar;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Camera</span>(<span class="type">const</span> Vec3&amp; position, <span class="type">double</span> fov, <span class="type">double</span> aspect_ratio, <span class="type">double</span> zNear, <span class="type">double</span> zFar)</span><br><span class="line">            : <span class="built_in">position</span>(position), <span class="built_in">fov</span>(fov), <span class="built_in">aspect_ratio</span>(aspect_ratio), <span class="built_in">zNear</span>(zNear), <span class="built_in">zFar</span>(zFar) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Object</span> &#123;</span><br><span class="line">    <span class="type">const</span> Model model;</span><br><span class="line">    Vec3 position;</span><br><span class="line">    <span class="type">double</span> angle;</span><br><span class="line">    <span class="type">double</span> scale;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Object</span>(<span class="type">const</span> std::string &amp;model_path, <span class="type">const</span> Vec3 &amp;position, <span class="type">const</span> <span class="type">double</span> angle, <span class="type">const</span> <span class="type">double</span> scale)</span><br><span class="line">            : <span class="built_in">model</span>(<span class="built_in">Model</span>(model_path)), <span class="built_in">position</span>(position), <span class="built_in">angle</span>(angle), <span class="built_in">scale</span>(scale) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Light</span> &#123;</span><br><span class="line">    Vec3 direction;</span><br><span class="line">    Vec3 intensity;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">IShader</span> &#123;</span><br><span class="line">    <span class="keyword">virtual</span> ~<span class="built_in">IShader</span>() = <span class="keyword">default</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">IShader</span><span class="params">(<span class="type">const</span> Model &amp;model, std::vector&lt;Light&gt;&amp;&amp; lights = std::vector&lt;Light&gt;())</span></span></span><br><span class="line"><span class="function">        : model_(model), lights_(std::move(lights)) &#123;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">start</span><span class="params">()</span> </span>&#123; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">vertex</span><span class="params">(<span class="type">int</span> i_face, <span class="type">int</span> nth_vert, Vec4 &amp;ret_vert)</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">bool</span> <span class="title">fragment</span><span class="params">(<span class="type">const</span> Vec3 &amp;bc, Color&amp; ret_color)</span> </span>= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="type">const</span> Model&amp; model_;</span><br><span class="line">    std::vector&lt;Light&gt; lights_;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>tga-handler.h</code></li>
</ul>
<p>è¿™æ˜¯ä¸€ä¸ªé™æ€çš„ TGA å›¾åƒè¯»å–å™¨å’Œå†™å…¥å™¨ï¼Œå¯ä»¥è¯»å–å’Œå†™å…¥å¸¦æœ‰ RLE å‹ç¼©çš„ TGA å›¾åƒã€‚</p>
<p>Run-Length Encodingï¼ˆRLEï¼‰æ˜¯ä¸€ç§ç®€å•ä¸”é«˜æ•ˆçš„æ•°æ®å‹ç¼©ç®—æ³•ï¼Œç‰¹åˆ«é€‚ç”¨äºå‹ç¼©åŒ…å«å¤§é‡é‡å¤å…ƒç´ çš„æ•°æ®ã€‚RLEçš„åŸºæœ¬æ€æƒ³æ˜¯å°†è¿ç»­å‡ºç°çš„ç›¸åŒæ•°æ®å€¼æ›¿æ¢ä¸ºä¸€ä¸ªå•ä¸€çš„å€¼å’Œä¸€ä¸ªè®¡æ•°ã€‚</p>
<p>ä¾‹å¦‚ï¼Œè€ƒè™‘å­—ç¬¦ä¸² â€œAAAABBBCCDAAâ€ã€‚ä½¿ç”¨RLEï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å¯ä»¥è¢«å‹ç¼©ä¸º â€œ4A3B2C1D2Aâ€ã€‚è¿™é‡Œï¼Œâ€œ4Aâ€è¡¨ç¤ºå­—æ¯ â€˜Aâ€™ è¿ç»­å‡ºç°å››æ¬¡ï¼Œâ€œ3Bâ€è¡¨ç¤º â€˜Bâ€™ è¿ç»­å‡ºç°ä¸‰æ¬¡ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// standard TGA header</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> pack(push, 1)</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">TGAHeader</span> &#123;</span><br><span class="line">    std::<span class="type">uint8_t</span>  id_length = <span class="number">0</span>;</span><br><span class="line">    std::<span class="type">uint8_t</span>  color_map_type = <span class="number">0</span>;</span><br><span class="line">    std::<span class="type">uint8_t</span>  data_type_code = <span class="number">0</span>;</span><br><span class="line">    std::<span class="type">uint16_t</span> color_map_origin = <span class="number">0</span>;</span><br><span class="line">    std::<span class="type">uint16_t</span> color_map_length = <span class="number">0</span>;</span><br><span class="line">    std::<span class="type">uint8_t</span>  color_map_depth = <span class="number">0</span>;</span><br><span class="line">    std::<span class="type">uint16_t</span> x_origin = <span class="number">0</span>;</span><br><span class="line">    std::<span class="type">uint16_t</span> y_origin = <span class="number">0</span>;</span><br><span class="line">    std::<span class="type">uint16_t</span> width = <span class="number">0</span>;</span><br><span class="line">    std::<span class="type">uint16_t</span> height = <span class="number">0</span>;</span><br><span class="line">    std::<span class="type">uint8_t</span>  bits_per_pixel = <span class="number">0</span>;</span><br><span class="line">    std::<span class="type">uint8_t</span>  image_descriptor = <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> pack(pop)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TGAHandler</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">TGAHandler</span>() = <span class="keyword">delete</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">static</span> Texture <span class="title">read_tga_file</span><span class="params">(<span class="type">const</span> std::string&amp; filename)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">bool</span> <span class="title">write_tga_file</span><span class="params">(<span class="type">const</span> std::string &amp;filename, <span class="type">int</span> width, <span class="type">int</span> height, std::<span class="type">uint8_t</span> bpp, <span class="type">const</span> <span class="type">unsigned</span> <span class="type">char</span> *data, <span class="type">bool</span> v_flip = <span class="literal">false</span>, <span class="type">bool</span> rle = <span class="literal">true</span>)</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">bool</span> <span class="title">load_rle_data</span><span class="params">(std::ifstream &amp;in, Texture &amp;texture)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">bool</span> <span class="title">unload_rle_data</span><span class="params">(std::ofstream &amp;out, <span class="type">int</span> width, <span class="type">int</span> height, std::<span class="type">uint8_t</span> bpp, <span class="type">const</span> <span class="type">unsigned</span> <span class="type">char</span> *data)</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Projects</category>
        <category>2024</category>
      </categories>
      <tags>
        <tag>C/C++</tag>
        <tag>Graphics</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŒAlgorithm4ã€è¯»ä¹¦ç¬”è®°é›¶ï¼šç›®å½•</title>
    <url>/posts/4000/</url>
    <content><![CDATA[<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202310081701001.png" alt="algorithm4" style="zoom: 50%;" />
<blockquote>
<p><strong>å®˜ç½‘ï¼š<a href="https://algs4.cs.princeton.edu/home/">https://algs4.cs.princeton.edu/home/</a></strong></p>
</blockquote>
<hr>
<p>ã€Šç®—æ³•4ã€‹ä½œä¸ºç®—æ³•é¢†åŸŸç»å…¸çš„å‚è€ƒä¹¦ï¼Œå…¨é¢ä»‹ç»äº†å…³äºç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¿…å¤‡çŸ¥è¯†ï¼Œå¹¶ç‰¹åˆ«é’ˆå¯¹æ’åºã€æœç´¢ã€å›¾å¤„ç†å’Œå­—ç¬¦ä¸²å¤„ç†è¿›è¡Œäº†è®ºè¿°ï¼Œæ˜¯éå¸¸æ£’ç®—æ³•çš„å…¥é—¨ä¹¦ç±</p>
<p><strong>ä»¥ä¸‹æ˜¯æˆ‘å¯¹äºã€Šç®—æ³•4ã€‹çš„è¯»ä¹¦ç¬”è®°</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">Notes</th>
<th style="text-align:center">Introduction</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/4001/">ã€Algorithm4ã€‘è¯»ä¹¦ç¬”è®°ä¸€</a></td>
<td style="text-align:center">ç¬¬ä¸€ç« ï¼šåŸºç¡€</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/4002/">ã€Algorithm4ã€‘è¯»ä¹¦ç¬”è®°äºŒ</a></td>
<td style="text-align:center">ç¬¬äºŒç« ï¼šæ’åº</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/4003/">ã€Algorithm4ã€‘è¯»ä¹¦ç¬”è®°ä¸‰</a></td>
<td style="text-align:center">ç¬¬ä¸‰ç« ï¼šæŸ¥æ‰¾</td>
</tr>
</tbody>
</table>
]]></content>
      <categories>
        <category>Notes</category>
        <category>Algorithm</category>
        <category>ã€ŠAlgorithms, 4th Editionã€‹</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
        <tag>Note</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŒAlgorithm4ã€è¯»ä¹¦ç¬”è®°ä¸€ï¼šåŸºç¡€</title>
    <url>/posts/4001/</url>
    <content><![CDATA[<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202309132308381.png" alt="algorithm4" style="zoom: 50%;" />
<blockquote>
<p><strong>å®˜ç½‘ï¼š<a href="https://algs4.cs.princeton.edu/home/">https://algs4.cs.princeton.edu/home/</a></strong></p>
<p><strong>ç¬”è®°ç›®å½•ï¼š<a href="https://hmxs.games/posts/4000/">https://hmxs.games/posts/4000/</a></strong></p>
</blockquote>
<hr>
<h1>åŸºç¡€</h1>
<h2 id="åŸºç¡€ç¼–ç¨‹æ¨¡å‹">åŸºç¡€ç¼–ç¨‹æ¨¡å‹</h2>
<blockquote>
<p><strong>ã€Šç®—æ³•4ã€‹ä¸­ä¸»è¦é‡‡ç”¨äº†Javaä½œä¸ºç¼–ç¨‹è¯­è¨€ï¼Œè€Œè¿™ç« ä¸»è¦ä»‹ç»äº†Javaçš„è¯­è¨€åŸºç¡€</strong></p>
</blockquote>
<h3 id="JavaåŸºç¡€">JavaåŸºç¡€</h3>
<h4 id="ç¼–è¯‘æµç¨‹">ç¼–è¯‘æµç¨‹</h4>
<p>Javaæ˜¯ä¸€ä¸ªå®Œå…¨éµå¾ªé¢å‘å¯¹è±¡ç¼–ç¨‹æ€æƒ³ï¼ˆ<code>OOP</code>ï¼‰è¿›è¡Œè®¾è®¡çš„è¯­è¨€ï¼Œå…¶ä¸­é€šè¿‡<code>class</code>æ¥ç»„ç»‡æ‰€æœ‰çš„ä»£ç </p>
<p>åœ¨Javaä¸­ï¼Œæˆ‘ä»¬ç¼–å†™çš„æ˜¯åç¼€åä¸º<code>.java</code>çš„æºä»£ç æ–‡ä»¶ï¼Œæ¯ä¸ª<code>.java</code>æ–‡ä»¶ä¸­éƒ½åŒ…å«ç€ä¸€ä¸ªåŒåç±»ï¼Œæ¯ä¸ªç±»ä¸­éƒ½å¯ä»¥åŒ…å«ä¸€ä¸ª<code>main</code>å…¥å£å‡½æ•°</p>
<p>åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨<code>javac</code>å‘½ä»¤å¯ä»¥å¯¹<code>.java</code>æ–‡ä»¶è¿›è¡Œç¼–è¯‘ï¼Œç¼–è¯‘é€šè¿‡åä¼šç”Ÿæˆåç¼€ä¸º<code>.class</code>çš„Javaå­—èŠ‚ç æ–‡ä»¶ï¼Œé€šè¿‡<code>java</code>å‘½ä»¤å³å¯è¿è¡Œ<code>.class</code>æ–‡ä»¶ä¸­çš„<code>main</code>å‡½æ•°</p>
<h4 id="JavaåŸç†">JavaåŸç†</h4>
<p>Javaæ˜¯ä¸€é—¨åŠè§£é‡ŠåŠç¼–è¯‘çš„è¯­è¨€ï¼Œå…¶ä¼šå°†æºæ–‡ä»¶çš„é«˜çº§è¯­è¨€å…ˆç¼–è¯‘ä¸ºJavaå­—èŠ‚ç åè¿è¡Œåœ¨Javaè™šæ‹Ÿæœºï¼ˆJVMï¼‰ä¸Š</p>
<p>Javaå› æ­¤å¾—ä»¥æ‹¥æœ‰äº†è‰¯å¥½åœ°è·¨å¹³å°æ€§ï¼ŒJavaå­—èŠ‚ç æ˜¯ä¸åˆ†å¹³å°çš„ï¼Œåªè¦å¯¹åº”å¹³å°å®ç°äº†Javaè™šæ‹Ÿæœºï¼ŒJavaå­—èŠ‚ç å³å¯è¿è¡Œåœ¨è¯¥å¹³å°ä¸Š</p>
<p>åŒæ—¶Javaè™šæ‹Ÿæœºä¼šåœ¨è¿è¡Œæ—¶å¯¹ä»£ç è¿›è¡Œä¼˜åŒ–å¤„ç†ï¼Œä½¿å¾—JavaåŒæ—¶æ‹¥æœ‰äº†æ¯”çº¯è§£é‡Šå‹è¯­è¨€æ›´å¿«çš„é€Ÿåº¦ï¼Œåœ¨è¿™ä¸€è¿‡ç¨‹ä¸­è¿˜å¯ä»¥ä½¿å¾—è¯­è¨€è·å¾—ä¸€å®šçš„è¿è¡Œæ—¶ç‰¹æ€§</p>
<hr>
<h3 id="é‡å®šå‘ã€ç®¡é“ä¸è¾“å…¥-è¾“å‡º">é‡å®šå‘ã€ç®¡é“ä¸è¾“å…¥/è¾“å‡º</h3>
<h4 id="æ ‡å‡†è¾“å…¥">æ ‡å‡†è¾“å…¥</h4>
<p>åœ¨Javaä¸­ï¼Œ<code>main</code>å‡½æ•°ä¼šæ¥å—ä¸€ä¸ª<code>String[] args</code>ç±»å‹çš„å‚æ•°ä½œä¸º<code>main</code>å‡½æ•°çš„è¾“å…¥</p>
<p>è€Œå½“æˆ‘ä»¬ä½¿ç”¨<code>java</code>å‘½ä»¤è¿è¡Œ<code>.class</code>æ–‡ä»¶æ—¶ï¼ˆè¿›è¡Œè¿™ä¸€æ­¥æ—¶<code>.class</code>æ–‡ä»¶ä¸éœ€è¦è¾“å…¥åç¼€åï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨åé¢è¿½åŠ å‚æ•°ä½œä¸º<code>args</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">java test abc 123 qwe</span><br></pre></td></tr></table></figure>
<p>å¦‚åœ¨ä¸Šé¢è¿™è¡Œå‘½ä»¤ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡<code>java</code>å‘½ä»¤è¿è¡Œäº†<code>test.class</code>æ–‡ä»¶ï¼Œè€Œåç»­çš„<code>abc</code>ã€<code>123</code>ã€<code>qwe</code>åˆ™ä¸ºè¾“å…¥ï¼Œå³<code>String[] args = &#123;&quot;abc&quot;, &quot;123&quot;, &quot;qwe&quot;&#125;;</code></p>
<h4 id="æ ‡å‡†è¾“å‡º">æ ‡å‡†è¾“å‡º</h4>
<p>åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨<code>System.out</code>åº“æˆ–æœ¬ä¹¦ä½œè€…æä¾›çš„<code>Stdout</code>åº“å°†æˆ‘ä»¬æƒ³è¦çš„å†…å®¹è¾“å‡ºåˆ°æ§åˆ¶å°ä¸Š</p>
<p>åŒæ—¶<code>Stdout</code>ä¹Ÿæ”¯æŒæ ¼å¼åŒ–è¾“å‡ºï¼Œå³ç±»ä¼¼<code>C/C++</code>ä¸­çš„<code>printf()</code></p>
<p>ä½¿ç”¨å¹¶æ— ç‰¹æ®Šä¹‹å¤„ï¼Œæ•…ä¸å†è¯¦ç»†èµ˜è¿°</p>
<h4 id="é‡å®šå‘">é‡å®šå‘</h4>
<p>åœ¨ä¸Šé¢çš„æ ‡å‡†è¾“å…¥/è¾“å‡ºä¸­æˆ‘ä»¬éƒ½æ˜¯åœ¨å’Œæ§åˆ¶å°è¿›è¡Œäº¤äº’ï¼Œè¿™åœ¨è¿›è¡Œä¸€äº›å¤§é‡æ•°æ®çš„è¾“å…¥/è¾“å‡ºæ—¶å¹¶ä¸æ–¹ä¾¿</p>
<p>è€Œé‡å®šå‘å…è®¸æˆ‘ä»¬ç›´æ¥ä»æ–‡æœ¬æ–‡ä»¶ä¸­è¯»å–è¾“å…¥ï¼Œæˆ–ç›´æ¥å°†å†…å®¹è¾“å‡ºè‡³æ–‡ä»¶ä¸­</p>
<p>é‡å®šå‘è¾“å…¥æ“ä½œç¬¦ä¸º<code>&lt;</code>ï¼Œè¾“å‡ºåˆ™ä¸º<code>&gt;</code>ï¼Œåœ¨å…¶åé¢è¿½åŠ éœ€è¦è¯»å–/è¾“å‡ºåˆ°çš„æ–‡ä»¶è·¯å¾„å³å¯</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">java test &lt; data.txt &gt; output.txt</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°æ„æ€ä¸ºä»<code>data.txt</code>æ–‡ä»¶ä¸­è¯»å–è¾“å…¥ï¼Œå¹¶å°†è¾“å‡ºå†…å®¹è¾“å‡ºè‡³<code>output.txt</code></p>
<p>åŒæ—¶ï¼Œé‡å®šå‘è¾“å…¥æ˜¯å¯ä»¥å’Œä¸Šè¿°çš„æ ‡å‡†è¾“å…¥æ··ç”¨çš„</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">java test data1.txt &lt; data2.txt</span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šé¢è¿™æ®µè¯­å¥ä»£è¡¨ç€<code>String[] args = &#123;&quot; data.txt&quot;, ...&#125;</code>ï¼Œ<code>...</code>ä¸ºä»<code>data2.txt</code>ä¸­è¯»å–åˆ°çš„å†…å®¹</p>
<h4 id="ç®¡é“">ç®¡é“</h4>
<p>ç®¡é“æ˜¯è¿›ä¸€æ­¥çš„é‡å®šå‘ï¼Œå…¶å¯ä»¥å°†ä¸Šä¸€ä¸ª<code>.class</code>æ–‡ä»¶çš„è¾“å‡ºä½œä¸ºä¸‹ä¸€ä¸ªæ–‡ä»¶çš„è¾“å…¥ï¼Œæ“ä½œç¬¦ä¸º<code>|</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">java test1 100 200 | java test2</span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šé¢è¿™æ®µè¯­å¥ä»£è¡¨å°†<code>args = [100, 200]</code>ä½œä¸ºå‚æ•°è¾“å…¥<code>test1.class</code>ï¼Œåå°†<code>test1.class</code>çš„è¾“å‡ºè¾“å…¥<code>test2.class</code></p>
<hr>
<h2 id="æ•°æ®æŠ½è±¡">æ•°æ®æŠ½è±¡</h2>
<blockquote>
<p><strong>æ•°æ®ç±»å‹æŒ‡çš„æ˜¯ä¸€ç»„å€¼å’Œä¸€ç»„å¯¹è¿™äº›å€¼çš„æ“ä½œçš„é›†åˆï¼›æœ¬ç« ä¸»è¦ä»‹ç»äº†æ•°æ®ç±»å‹çš„å®šä¹‰ä¸ä½¿ç”¨ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹Ÿè¢«ç§°ä¸º<code>æ•°æ®æŠ½è±¡</code></strong></p>
</blockquote>
<h3 id="æŠ½è±¡æ•°æ®ç±»å‹çš„ä½¿ç”¨">æŠ½è±¡æ•°æ®ç±»å‹çš„ä½¿ç”¨</h3>
<h4 id="APIä¸ç»§æ‰¿">APIä¸ç»§æ‰¿</h4>
<p>æˆ‘ä»¬ä½¿ç”¨APIæ¥å¯¹æŠ½è±¡æ•°æ®ç±»å‹ä¸­çš„å‡½æ•°ä¸æ–¹æ³•è¿›è¡Œæè¿°ï¼Œè¿™è¿‘ä¼¼äºé™æ€æ–¹æ³•åº“</p>
<p>åŒæ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»§æ‰¿ç±»ï¼Œè¦†å†™çˆ¶ç±»ä¸­çš„æ–¹æ³•æ¥å®ç°APIçš„çµæ´»æ”¹å˜</p>
<h4 id="å¯¹è±¡">å¯¹è±¡</h4>
<p>è€Œä¸é™æ€æ–¹æ³•åº“ä¸åŒçš„æ˜¯ï¼Œæ•°æ®ç±»å‹å¾€å¾€éœ€è¦ä¾æ‰˜äºå¯¹è±¡å­˜åœ¨</p>
<blockquote>
<p><strong>å¯¹è±¡æ˜¯èƒ½å¤Ÿæ‰¿è½½æ•°æ®ç±»å‹çš„å€¼çš„å®ä½“</strong></p>
</blockquote>
<p>æ‰€æœ‰å¯¹è±¡éƒ½å…·æœ‰ä¸‰å¤§é‡è¦ç‰¹æ€§ï¼š</p>
<ul>
<li>çŠ¶æ€ï¼šå³æ•°æ®ç±»å‹ä¸­çš„å€¼</li>
<li>æ ‡è¯†ï¼šå³å¯¹è±¡åœ¨å†…å­˜ä¸­åœ°å€çš„å¼•ç”¨</li>
<li>è¡Œä¸ºï¼šå³å¯å¯¹æ•°æ®ç±»å‹è¿›è¡Œçš„æ“ä½œ</li>
</ul>
<p>æ•°æ®ç±»å‹çš„å®ç°çš„å”¯ä¸€èŒè´£å°±æ˜¯ç»´æŠ¤ä¸€ä¸ªå¯¹è±¡çš„èº«ä»½ï¼Œè¿™æ ·ç”¨ä¾‹ä»£ç åœ¨ä½¿ç”¨æ•°æ®ç±»å‹æ—¶ä¾¿åªéœ€è¦éµå®ˆæè¿°å¯¹è±¡è¡Œä¸ºçš„APIå³å¯ï¼Œæ— éœ€å…³å¿ƒå¯¹è±¡çŠ¶æ€çš„è¡¨ç¤ºæ–¹æ³•</p>
<h4 id="å¯¹è±¡çš„åˆ›å»º">å¯¹è±¡çš„åˆ›å»º</h4>
<p>æ¯ç§æ•°æ®ç±»å‹ä¸­çš„å€¼éƒ½å­˜å‚¨äºä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œä½¿ç”¨<code>new</code>å…³é”®å­—å³å¯å®ä¾‹åŒ–å¯¹è±¡ï¼Œå³å¯¹è±¡çš„åˆ›å»º</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Counter</span> <span class="variable">heads</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Counter</span>(<span class="string">&quot;Header&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>å½“æˆ‘ä»¬ä½¿ç”¨<code>new</code>è¿›è¡Œå®ä¾‹åŒ–æ—¶ï¼Œç³»ç»Ÿä¼šï¼š</p>
<ul>
<li>ä¸ºå¯¹è±¡åˆ†é…å†…å­˜ç©ºé—´</li>
<li>è°ƒç”¨æ„é€ å‡½æ•°</li>
<li>è¿”å›å¯¹è±¡çš„å¼•ç”¨</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥ç”¨åŒä¸€ä¸ªç±»åˆ›å»ºæ— æ•°ä¸ªå¯¹è±¡</p>
<h4 id="å¯¹è±¡èµ‹å€¼">å¯¹è±¡èµ‹å€¼</h4>
<p>å½“æˆ‘ä»¬å¯¹å¼•ç”¨ç±»å‹çš„å˜é‡è¿›è¡Œèµ‹å€¼æ“ä½œæ—¶ï¼Œæˆ‘ä»¬å®é™…æ˜¯åˆ›å»ºäº†ä¸€ä¸ªåˆ«åï¼Œå¤åˆ¶äº†ä¸€éå†…å­˜åœ°å€</p>
<p>è¿™åªæ˜¯ä¸€ç§æµ…æ‹·è´ï¼Œåœ¨ä½¿ç”¨æ—¶æˆ‘ä»¬åº”æ³¨æ„è¿™ç‚¹</p>
<h4 id="å¯¹è±¡æ€»ç»“">å¯¹è±¡æ€»ç»“</h4>
<p>è¿ç”¨æ•°æ®æŠ½è±¡çš„æ€æƒ³ç¼–å†™ä»£ç çš„æ–¹å¼è¢«ç§°ä¸º<code>é¢å‘å¯¹è±¡ç¼–ç¨‹</code>ï¼Œè¿™æ˜¯ä¸€ç§æå…¶é‡è¦çš„ç¼–ç¨‹æ€æƒ³</p>
<p>ä¸€ä¸ªæ•°æ®ç±»å‹çš„å®ç°æ‰€æ”¯æŒçš„æ“ä½œæœ‰ï¼š</p>
<ul>
<li>åˆ›å»ºå¯¹è±¡ï¼šä½¿ç”¨<code>new</code>è§¦å‘æ„é€ å‡½æ•°å¹¶åˆ›å»ºå¯¹è±¡ï¼Œåˆå§‹åŒ–å¯¹è±¡ä¸­çš„å€¼å¹¶è¿”å›å¯¹å…¶çš„å¼•ç”¨</li>
<li>æ“ä½œå¯¹è±¡ä¸­çš„å€¼ï¼šä½¿ç”¨å’Œå¯¹è±¡å…³è”çš„å˜é‡è°ƒç”¨å®ä¾‹æ–¹æ³•æ¥å¯¹å¯¹è±¡ä¸­çš„å€¼è¿›è¡Œæ“ä½œ</li>
<li>æ“ä½œå¤šä¸ªå¯¹è±¡ï¼šåˆ›å»ºå¯¹è±¡çš„æ•°ç»„ï¼ŒåƒåŸå§‹æ•°æ®ç±»å‹çš„å€¼ä¸€æ ·å°†ä»–ä»¬ä¼ é€’ç»™æ–¹æ³•æˆ–æ˜¯ä»æ–¹æ³•ä¸­è¿”å›ï¼Œåªæ˜¯å˜é‡å…³è”çš„æ˜¯å¯¹è±¡çš„å¼•ç”¨è€Œéå¯¹è±¡æœ¬èº«</li>
</ul>
<hr>
<h3 id="æŠ½è±¡æ•°æ®ç±»å‹çš„å®ç°">æŠ½è±¡æ•°æ®ç±»å‹çš„å®ç°</h3>
<h4 id="Counterç±»"><code>Counter</code>ç±»</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Counter</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// å®ä¾‹å˜é‡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String name; <span class="comment">// final ç±»ä¼¼C#ä¸­çš„const</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> count;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Counter</span><span class="params">(String id)</span></span><br><span class="line">    &#123;</span><br><span class="line">        name = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®ä¾‹æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Increment</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">Tally</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> count + <span class="string">&quot; &quot;</span> + name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">Counter</span> <span class="variable">heads</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Counter</span>(<span class="string">&quot;Heads&quot;</span>);</span><br><span class="line">        <span class="type">Counter</span> <span class="variable">tails</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Counter</span>(<span class="string">&quot;Tails&quot;</span>);</span><br><span class="line"></span><br><span class="line">        heads.Increment();</span><br><span class="line">        heads.Increment();</span><br><span class="line">        tails.Increment();</span><br><span class="line"></span><br><span class="line">        StdOut.println(heads + <span class="string">&quot; &quot;</span> + tails);</span><br><span class="line">        StdOut.println(heads.Tally() + tails.Tally());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="VisualAccumulatorç±»"><code>VisualAccumulator</code>ç±»</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VisualAccumulator</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> total;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">VisualAccumulator</span><span class="params">(<span class="type">int</span> trials, <span class="type">double</span> max)</span></span><br><span class="line">    &#123;</span><br><span class="line">        StdDraw.setXscale(<span class="number">0</span>, trials);</span><br><span class="line">        StdDraw.setYscale(<span class="number">0</span>, max);</span><br><span class="line">        StdDraw.setPenRadius(<span class="number">.005</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">AddDataValue</span><span class="params">(<span class="type">double</span> value)</span></span><br><span class="line">    &#123;</span><br><span class="line">        n++;</span><br><span class="line">        total += value;</span><br><span class="line">        StdDraw.setPenColor(StdDraw.DARK_GRAY);</span><br><span class="line">        StdDraw.point(n, value);</span><br><span class="line">        StdDraw.setPenColor(StdDraw.RED);</span><br><span class="line">        StdDraw.point(n, total / n);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">Mean</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> total / n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Mean (&quot;</span> + n + <span class="string">&quot; values): &quot;</span> + String.format(<span class="string">&quot;%7.5f&quot;</span>, Mean());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">T</span> <span class="operator">=</span> Integer.parseInt(args[<span class="number">0</span>]);</span><br><span class="line">        <span class="type">VisualAccumulator</span> <span class="variable">visualAccumulator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VisualAccumulator</span>(T, <span class="number">1.0</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; T; i++)</span><br><span class="line">            visualAccumulator.AddDataValue(StdRandom.uniformDouble());</span><br><span class="line">        StdOut.println(visualAccumulator);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="æ•°æ®ç±»å‹çš„è®¾è®¡">æ•°æ®ç±»å‹çš„è®¾è®¡</h3>
<blockquote>
<p><strong>æŠ½è±¡æ•°æ®ç±»å‹æ˜¯ä¸€ç§å‘ç”¨ä¾‹éšè—å†…éƒ¨è¡¨ç¤ºçš„æ•°æ®ç±»å‹</strong></p>
</blockquote>
<h4 id="å°è£…">å°è£…</h4>
<p>é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ç‰¹å¾ä¹‹ä¸€å°±æ˜¯ä½¿ç”¨æ•°æ®ç±»å‹çš„å®ç°å°è£…æ•°æ®ï¼Œä»¥ç®€åŒ–å®ç°å’Œéš”ç¦»ç”¨ä¾‹å¼€å‘</p>
<p>å°è£…å®ç°äº†æ¨¡å—åŒ–ç¼–ç¨‹ï¼Œå®ƒå…è®¸æˆ‘ä»¬ï¼š</p>
<ul>
<li>ç‹¬ç«‹å¼€å‘ç”¨ä¾‹å’Œå®ç°çš„ä»£ç </li>
<li>åˆ‡æ¢è‡³æ”¹è¿›çš„å®ç°è€Œä¸ä¼šå½±å“ç”¨ä¾‹çš„ä»£ç </li>
<li>æ”¯æŒå°šæœªç¼–å†™çš„ç¨‹åº</li>
</ul>
<p>å°è£…åŒæ—¶ä¹Ÿéš”ç¦»äº†æ•°æ®ç±»å‹çš„æ“ä½œï¼Œè¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥ï¼š</p>
<ul>
<li>é™åˆ¶æ½œåœ¨çš„é”™è¯¯</li>
<li>åœ¨å®ç°ä¸­æ·»åŠ ä¸€è‡´æ€§æ£€æŸ¥ç­‰è°ƒè¯•å·¥å…·</li>
<li>ç¡®ä¿ç”¨ä¾‹ä»£ç æ›´æ˜æ™°</li>
</ul>
<p>å°è£…æ˜¯å®ç°é«˜æ‹“å±•æ€§çš„å…³é”®ï¼Œæ¨¡å—åŒ–ç¼–ç¨‹æˆåŠŸçš„å…³é”®åœ¨äºä¿æŒæ¨¡å—ä¹‹é—´çš„ç‹¬ç«‹æ€§</p>
<h4 id="è®¾è®¡API">è®¾è®¡API</h4>
<p>è®¾è®¡APIæ˜¯æ„å»ºç°ä»£è½¯ä»¶æœ€é‡è¦ä¹Ÿæ˜¯æœ€æœ‰æŒ‘æˆ˜çš„ä¸€é¡¹ä»»åŠ¡</p>
<p>å®ƒæ²¡æœ‰æ ‡å‡†ç­”æ¡ˆï¼Œéœ€è¦ç»éªŒã€æ€è€ƒå’Œåå¤çš„ä¿®æ”¹</p>
<blockquote>
<p><strong>è¿™å¥æ ¼è¨€æˆ–è®¸æœ‰å¸®åŠ©ï¼šåªä¸ºç”¨ä¾‹æä¾›å®ƒä»¬æ‰€éœ€è¦çš„ï¼Œä»…æ­¤è€Œå·²</strong></p>
</blockquote>
<h4 id="ç®—æ³•ä¸æŠ½è±¡æ•°æ®ç±»å‹">ç®—æ³•ä¸æŠ½è±¡æ•°æ®ç±»å‹</h4>
<p>æ•°æ®æŠ½è±¡å¤©ç”Ÿé€‚åˆç®—æ³•ç ”ç©¶ï¼Œå…¶å¯ä»¥è®©æˆ‘ä»¬ï¼š</p>
<ul>
<li>å‡†ç¡®å®šä¹‰ç®—æ³•èƒ½ä¸ºç”¨ä¾‹æä¾›ä»€ä¹ˆ</li>
<li>éš”ç¦»ç®—æ³•çš„å®ç°å’Œç”¨ä¾‹çš„ä»£ç </li>
<li>å®ç°å¤šå±‚æŠ½è±¡ï¼Œç”¨å·²çŸ¥ç®—æ³•å®ç°å…¶ä»–ç®—æ³•</li>
</ul>
<h4 id="ç­‰ä»·æ€§">ç­‰ä»·æ€§</h4>
<p>å½“æˆ‘ä»¬è¿›è¡Œå¼•ç”¨ç±»å‹çš„ç­‰ä»·æ€§æµ‹è¯•æ—¶ï¼Œå¦‚<code>a == b</code>ï¼Œæˆ‘ä»¬æ¯”è¾ƒçš„æ˜¯å…¶çš„å¼•ç”¨ï¼Œå³æ¯”è¾ƒæ˜¯æ ‡è¯†</p>
<p>è€Œå¦‚æœæˆ‘ä»¬æƒ³è¿›è¡ŒçŠ¶æ€çš„æ¯”è¾ƒï¼Œå¯ä»¥å®ç°<code>Object</code>ç±»ä¸­çš„<code>equals</code>æ–¹æ³•</p>
<p>Javaçº¦å®š<code>equals()</code>å¿…é¡»æ˜¯ä¸€ç§ç­‰ä»·æ€§å…³ç³»ï¼Œå®ƒå¿…é¡»å…·æœ‰ï¼š</p>
<ul>
<li>è‡ªåæ€§ï¼š<code>x.equals(x)</code>ä¸º<code>true</code></li>
<li>å¯¹ç§°æ€§ï¼šå½“<code>x.equals(y)</code>ä¸º<code>true</code>æ—¶ï¼Œ<code>y.equals(x)</code>ä¹Ÿåº”ä¸º<code>true</code></li>
<li>ä¼ é€’æ€§ï¼šå½“<code>x.equals(y)</code>ï¼Œ<code>y.equals(z)</code>éƒ½ä¸º<code>true</code>æ—¶ï¼Œ<code>x.equals(z)</code>ä¸º<code>true</code></li>
<li>ä¸€è‡´æ€§ï¼šå½“å¯¹è±¡ä¸å˜æ—¶ï¼Œåå¤è°ƒç”¨<code>x.equals(y)</code>çš„ç»“æœåº”ç›¸åŒ</li>
<li>éç©ºæ€§ï¼š<code>x.equals(null)</code>åº”å§‹ç»ˆä¸º<code>false</code></li>
</ul>
<h4 id="ä¸å¯å˜æ€§">ä¸å¯å˜æ€§</h4>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>final</code>å°†æŸä¸€å˜é‡æ ‡è®°ä¸ºä¸å¯å˜ï¼Œè¿™æ„å‘³ç€å…¶åœ¨ç¬¬ä¸€æ¬¡èµ‹å€¼ä¹‹åï¼Œå€¼ä¾¿æ— æ³•æ”¹å˜äº†</p>
<p>ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹äºå¼•ç”¨ç±»å‹ï¼Œ<code>final</code>åªèƒ½ä¿è¯å¼•ç”¨çš„ä¸å˜ï¼Œå³å˜é‡æ°¸è¿œæŒ‡å‘åˆå§‹æŒ‡å®šçš„å†…å­˜ï¼Œä½†æ— æ³•ä¿è¯å†…å­˜ä¸­çš„å†…å®¹ä¸å˜</p>
<h4 id="å¼‚å¸¸ä¸æ–­è¨€">å¼‚å¸¸ä¸æ–­è¨€</h4>
<ul>
<li>å¼‚å¸¸ï¼šä¸€èˆ¬ç”¨äºå¤„ç†ä¸å—æˆ‘ä»¬æ§åˆ¶çš„ä¸å¯é¢„è§çš„é”™è¯¯</li>
<li>æ–­è¨€ï¼šéªŒè¯æˆ‘ä»¬åœ¨ä»£ç ä¸­çš„ä¸€äº›å‡è®¾</li>
</ul>
<p>æ–­è¨€æ˜¯ä¸€ä¸ªå¸ƒå°”è¡¨è¾¾å¼ï¼Œå½“æˆ‘ä»¬è¿è¡Œåˆ°æ–­è¨€å¤„æ—¶ï¼Œå¦‚æœè¡¨è¾¾å¼ä¸º<code>false</code>ï¼Œç¨‹åºä¼šç›´æ¥æŠ›å‡ºå¼‚å¸¸</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨æµ‹è¯•ä¸­ä½¿ç”¨æ–­è¨€æ¥éªŒè¯æˆ‘ä»¬çš„æƒ³æ³•ï¼Œå¹¶ä¸”å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°debugï¼Œä¿è¯ä»£ç æ°¸è¿œä¸ä¼šè¢«ç³»ç»Ÿé”™è¯¯ç»ˆæ­¢æˆ–è¿›å…¥æ­»å¾ªç¯ï¼›ä½†æˆ‘ä»¬ä¸åº”è¯¥åœ¨å®é™…ç¨‹åºä¸­ä½¿ç”¨ä»–ä»¬ï¼Œå…¶åœ¨å®é™…è¿è¡Œä¸­å¯èƒ½ä¼šè¢«ç¦ç”¨</p>
<blockquote>
<p><strong>å¥‘çº¦å¼è®¾è®¡ï¼šæ•°æ®ç±»å‹çš„è®¾è®¡è€…éœ€è¦è¯´æ˜å‰ææ¡ä»¶ï¼ˆç”¨ä¾‹åœ¨è°ƒç”¨æŸä¸ªæ–¹æ³•å‰å¿…é¡»æ»¡è¶³çš„æ¡ä»¶ï¼‰ã€åç½®æ¡ä»¶ï¼ˆå®ç°åœ¨æ–¹æ³•è¿”å›æ—¶å¿…é¡»è¾¾åˆ°çš„è¦æ±‚ï¼‰å’Œå‰¯ä½œç”¨ï¼ˆæ–¹æ³•å¯èƒ½å¯¹å¯¹è±¡çŠ¶æ€äº§ç”Ÿçš„ä»»ä½•å…¶ä»–å˜æ›´ï¼‰</strong></p>
</blockquote>
<hr>
<h2 id="èƒŒåŒ…ã€é˜Ÿåˆ—å’Œæ ˆ">èƒŒåŒ…ã€é˜Ÿåˆ—å’Œæ ˆ</h2>
<p>åœ¨æœ¬ç« ä¸­ï¼Œä¼šè®²è¿°èƒŒåŒ…ï¼ˆBagï¼‰ã€é˜Ÿåˆ—ï¼ˆQueueï¼‰å’Œæ ˆï¼ˆStackï¼‰ä¸‰ç§æ•°æ®ç±»å‹</p>
<h3 id="API">API</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Bag</span>&lt;T&gt; <span class="keyword">implements</span> <span class="title class_">Iterable</span>&lt;T&gt;</span><br><span class="line">&#123;</span><br><span class="line">    Bag();                <span class="comment">// åˆ›å»ºç©ºèƒŒåŒ…</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(T item)</span>;    <span class="comment">// æ·»åŠ ä¸€ä¸ªå…ƒç´  </span></span><br><span class="line">    </span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span>;    <span class="comment">// èƒŒåŒ…æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span>;            <span class="comment">// èƒŒåŒ…çš„å…ƒç´ æ•°é‡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Queue</span>&lt;T&gt; <span class="keyword">implements</span> <span class="title class_">Iterable</span>&lt;T&gt;</span><br><span class="line">&#123;</span><br><span class="line">    Queue();                <span class="comment">// åˆ›å»ºç©ºé˜Ÿåˆ—</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">enqueue</span><span class="params">(T item)</span>;    <span class="comment">// æ·»åŠ ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">dequeue</span><span class="params">(T item)</span>;    <span class="comment">// åˆ é™¤æœ€æ—©æ·»åŠ çš„å…ƒç´ </span></span><br><span class="line">    </span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span>;        <span class="comment">// é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span>;                <span class="comment">// é˜Ÿåˆ—çš„å…ƒç´ æ•°é‡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Stack</span>&lt;T&gt; <span class="keyword">implements</span> <span class="title class_">Iterable</span>&lt;T&gt;</span><br><span class="line">&#123;</span><br><span class="line">    Stack();            <span class="comment">// åˆ›å»ºç©ºæ ˆ</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(T item)</span>;    <span class="comment">// æ·»åŠ ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">    </span><br><span class="line">    T <span class="title function_">pop</span><span class="params">()</span>;            <span class="comment">// åˆ é™¤æœ€æ™šæ·»åŠ çš„å…ƒç´ </span></span><br><span class="line">    </span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span>;    <span class="comment">// æ ˆæ˜¯å¦ä¸ºç©º</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span>;            <span class="comment">// æ ˆçš„å…ƒç´ æ•°é‡</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æ³›å‹">æ³›å‹</h4>
<blockquote>
<p><strong>æ³›å‹ï¼Œä¹Ÿå«åšå‚æ•°åŒ–ç±»å‹ï¼Œå…¶å¯ä»¥è¢«ç”¨æ¥å‚¨å­˜ä»»æ„ç±»å‹çš„æ•°æ®</strong></p>
</blockquote>
<p>æˆ‘ä»¬å¯ä»¥ç”¨ä»»æ„æ•°æ®ç±»å‹æ¥æ›¿æ¢æ³›å‹ä¸­çš„<code>&lt;T&gt;</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Stack&lt;String&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;String&gt;();</span><br></pre></td></tr></table></figure>
<h4 id="è‡ªåŠ¨è£…ç®±">è‡ªåŠ¨è£…ç®±</h4>
<p>ç±»å‹å‚æ•°å¿…é¡»è¢«å®ä¾‹åŒ–ä¸ºå¼•ç”¨ç±»å‹ï¼Œå› æ­¤Javaæœ‰ä¸€ç§ç‰¹æ®Šæœºåˆ¶æ¥ä½¿æ³›å‹ä»£ç èƒ½å¤Ÿå¤„ç†åŸå§‹æ•°æ®ç±»å‹</p>
<p>Javaä¸­çš„ä¸­çš„åŸå§‹æ•°æ®ç±»å‹éƒ½æœ‰ç€å¯¹åº”çš„å¼•ç”¨ç±»å‹ï¼Œå¦‚<code>Boolean</code>ã€<code>Byte</code>ã€<code>Integer</code>åˆ†åˆ«å¯¹åº”<code>boolean</code>ã€<code>byte</code>ã€<code>int</code>ï¼ŒJavaä¼šè‡ªåŠ¨å¯¹å…¶è¿›è¡Œç±»å‹è½¬æ¢</p>
<blockquote>
<p><strong>è‡ªåŠ¨å°†ä¸€ä¸ªåŸå§‹æ•°æ®ç±»å‹è½¬æ¢ä¸ºä¸€ä¸ªå°è£…ç±»å‹è¢«ç§°ä¸ºè‡ªåŠ¨è£…ç®±ï¼Œåä¹‹åˆ™ä¸ºè‡ªåŠ¨æ‹†ç®±</strong></p>
</blockquote>
<h4 id="èƒŒåŒ…">èƒŒåŒ…</h4>
<blockquote>
<p><strong>èƒŒåŒ…æ˜¯ä¸€ç§ä¸æ”¯æŒä»ä¸­åˆ é™¤æŒ‡å®šå…ƒç´ çš„é›†åˆæ•°æ®ç±»å‹ï¼Œå®ƒçš„ç›®çš„å°±æ˜¯å¸®åŠ©ç”¨ä¾‹æ”¶é›†å…ƒç´ ï¼Œå¹¶è¿­ä»£éå†æ‰€æœ‰æ”¶é›†åˆ°çš„å…ƒç´ </strong></p>
</blockquote>
<p>åœ¨èƒŒåŒ…ä¸­ï¼Œè¿­ä»£çš„é¡ºåºæ˜¯ä¸ç¡®å®šçš„ï¼›æˆ‘ä»¬å½“ç„¶å¯ä»¥ä½¿ç”¨æ ˆæˆ–é˜Ÿåˆ—æˆ–å…¶ä»–æ•°æ®ç»“æ„æ¥å®Œæˆè¿™ä¸€é¡¹å·¥ä½œï¼Œä½†ä½¿ç”¨èƒŒåŒ…å¯ä»¥è¯´æ˜å…ƒç´ çš„å¤„ç†é¡ºåºå¹¶ä¸é‡è¦</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªåŸºäºèƒŒåŒ…çš„è®¡ç®—æ ‡å‡†å·®ä¸å¹³å‡å€¼çš„ç¨‹åº</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Bag&lt;Double&gt; numbers = <span class="keyword">new</span> <span class="title class_">Bag</span>&lt;Double&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (! StdIn.isEmpty())</span><br><span class="line">            numbers.add(StdIn.readDouble());</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> numbers.size();</span><br><span class="line"></span><br><span class="line">        <span class="type">double</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">double</span> x : numbers)</span><br><span class="line">            sum += x;</span><br><span class="line">        <span class="type">double</span> <span class="variable">mean</span> <span class="operator">=</span> sum / N;</span><br><span class="line"></span><br><span class="line">        sum = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">double</span> x : numbers)</span><br><span class="line">            sum += (x - mean) * (x - mean);</span><br><span class="line">        <span class="type">double</span> <span class="variable">std</span> <span class="operator">=</span> Math.sqrt(sum / (N - <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">        StdOut.printf(<span class="string">&quot;Mean: %.2f\n&quot;</span>, mean);</span><br><span class="line">        StdOut.printf(<span class="string">&quot;Std dev: %.2f\n&quot;</span>, std);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// result:</span></span><br><span class="line"><span class="comment">// 100</span></span><br><span class="line"><span class="comment">// 101</span></span><br><span class="line"><span class="comment">// 98</span></span><br><span class="line"><span class="comment">// 65</span></span><br><span class="line"><span class="comment">// ^D</span></span><br><span class="line"><span class="comment">// Mean: 91.00</span></span><br><span class="line"><span class="comment">// Std dev: 17.38</span></span><br></pre></td></tr></table></figure>
<h4 id="å…ˆè¿›å…ˆå‡ºé˜Ÿåˆ—">å…ˆè¿›å…ˆå‡ºé˜Ÿåˆ—</h4>
<blockquote>
<p><strong>é˜Ÿåˆ—æ˜¯ä¸€ç§åŸºäºå…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰ç­–ç•¥çš„é›†åˆç±»å‹</strong></p>
</blockquote>
<p><em>è¿™åœ¨C++/C#æˆ–ä¸€äº›å…¶ä»–è¯­è¨€ä¸­éƒ½éå¸¸å¸¸è§ï¼Œä¸å†èµ˜è¿°</em></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Queue&lt;Integer&gt; queue = <span class="keyword">new</span> <span class="title class_">Queue</span>&lt;Integer&gt;();</span><br></pre></td></tr></table></figure>
<p>åœ¨ä½¿ç”¨<code>foreach</code>è¿›è¡Œéå†æ—¶ï¼Œå…ƒç´ ä¼šä»¥åŠ å…¥é¡ºåºè¢«å¤„ç†</p>
<h4 id="ä¸‹å‹æ ˆ">ä¸‹å‹æ ˆ</h4>
<blockquote>
<p><strong>æ ˆæ˜¯ä¸€ç§åŸºäºåè¿›å…ˆå‡ºï¼ˆLIFOï¼‰ç­–ç•¥çš„é›†åˆç±»å‹</strong></p>
</blockquote>
<p><em>è¿™åœ¨C++/C#æˆ–ä¸€äº›å…¶ä»–è¯­è¨€ä¸­éƒ½éå¸¸å¸¸è§ï¼Œä¸å†èµ˜è¿°</em></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Stack&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;Integer&gt;;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä½¿ç”¨<code>foreach</code>è¿›è¡Œéå†æ—¶ï¼Œå…ƒç´ è¢«å¤„ç†çš„é¡ºåºä¸åŠ å…¥é¡ºåºç›¸å</p>
<h4 id="ç®—æœ¯è¡¨è¾¾å¼æ±‚å€¼">ç®—æœ¯è¡¨è¾¾å¼æ±‚å€¼</h4>
<p>å¯¹äºå­—ç¬¦ä¸²å½¢å¼çš„ç®—æœ¯è¡¨è¾¾å¼çš„æ±‚å€¼ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>E.W.Dijkstra</code>å‘æ˜çš„åŒæ ˆè¿ç®—ç®—æ³•è¿›è¡Œ</p>
<p>è¡¨è¾¾å¼ç”±æ‹¬å·ã€è¿ç®—ç¬¦å’Œæ“ä½œæ•°ç»„æˆï¼Œæˆ‘ä»¬æ ¹æ®ä»¥ä¸‹å››ç§æƒ…å†µä»å·¦åˆ°å³é€ä¸ªå°†è¿™äº›å®ä½“å…¥æ ˆå¤„ç†ï¼š</p>
<ul>
<li>å°†æ“ä½œæ•°å‹å…¥æ“ä½œæ•°æ ˆ</li>
<li>å°†è¿ç®—ç¬¦å‹å…¥è¿ç®—ç¬¦æ ˆ</li>
<li>å¿½ç•¥å·¦æ‹¬å·</li>
<li>åœ¨é‡åˆ°å³æ‹¬å·æ—¶ï¼Œå¼¹å‡ºä¸€ä¸ªè¿ç®—ç¬¦ï¼Œå¼¹å‡ºæ‰€éœ€æ•°é‡çš„æ“ä½œæ•°ï¼Œå¹¶å°†è¿ç®—ç¬¦ä¸æ“ä½œæ•°çš„è¿ç®—ç»“æœå‹å…¥æ“ä½œæ•°æ ˆ</li>
</ul>
<p>æ“ä½œæ•°æ ˆä¸Šæœ€åå‰©ä¸‹çš„å€¼å³ä¸ºè¡¨è¾¾å¼çš„å€¼ï¼Œä¸‹é¢æ˜¯Javaä¸­çš„å®ç°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Evaluate</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// DijkstraåŒæ ˆç®—æœ¯è¡¨è¾¾å¼æ±‚å€¼ç®—æ³•</span></span><br><span class="line">        Stack&lt;String&gt; operators = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        Stack&lt;Double&gt; values = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (! StdIn.isEmpty())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// è¯»å–å­—ç¬¦</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> StdIn.readString();</span><br><span class="line">            <span class="comment">// å·¦æ‹¬å·åˆ™ç›´æ¥è·³è¿‡</span></span><br><span class="line">            <span class="keyword">if</span> (s.equals(<span class="string">&quot;(&quot;</span>))</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="comment">// æ˜¯è¿ç®—ç¬¦åˆ™å‹å…¥æ“ä½œç¬¦æ ˆ</span></span><br><span class="line">            <span class="keyword">if</span> (s.equals(<span class="string">&quot;+&quot;</span>) || s.equals(<span class="string">&quot;-&quot;</span>) || s.equals(<span class="string">&quot;*&quot;</span>) || s.equals(<span class="string">&quot;/&quot;</span>) || s.equals(<span class="string">&quot;sqrt&quot;</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                operators.push(s);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// æ˜¯å³æ‹¬å·åˆ™å‡ºæ ˆ</span></span><br><span class="line">            <span class="keyword">if</span> (s.equals(<span class="string">&quot;)&quot;</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">operator</span> <span class="operator">=</span> operators.pop();</span><br><span class="line">                <span class="type">Double</span> <span class="variable">value</span> <span class="operator">=</span> values.pop();</span><br><span class="line">                <span class="keyword">if</span> (operator.equals(<span class="string">&quot;+&quot;</span>))</span><br><span class="line">                    values.push(values.pop() + value);</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (operator.equals(<span class="string">&quot;-&quot;</span>))</span><br><span class="line">                    values.push(values.pop() - value);</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (operator.equals(<span class="string">&quot;*&quot;</span>))</span><br><span class="line">                    values.push(values.pop() * value);</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (operator.equals(<span class="string">&quot;/&quot;</span>))</span><br><span class="line">                    values.push(values.pop() / value);</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (operator.equals(<span class="string">&quot;sqrt&quot;</span>))</span><br><span class="line">                    values.push(Math.sqrt(value));</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// ä¸Šè¿°éƒ½ä¸æ˜¯åˆ™å‹å…¥æ•°å€¼æ ˆ</span></span><br><span class="line">            values.push(Double.parseDouble(s));</span><br><span class="line">        &#125;</span><br><span class="line">        StdOut.println(values.pop());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// result:</span></span><br><span class="line"><span class="comment">//( ( 1 + sqrt ( 5.0 ) ) / 2.0 )</span></span><br><span class="line"><span class="comment">//^D</span></span><br><span class="line"><span class="comment">//1.618033988749895</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ®µä»£ç å®é™…ä¸Šæ˜¯ä¸€ä¸ªæå…¶ç®€å•çš„â€œè§£é‡Šå™¨â€</p>
<hr>
<h3 id="é›†åˆç±»æ•°æ®ç±»å‹çš„å®ç°">é›†åˆç±»æ•°æ®ç±»å‹çš„å®ç°</h3>
<p>æ¥ä¸‹æ¥å°±è¯¥æ¥è‡ªå·±å®ç°æ•°æ®ç»“æ„äº†ï¼</p>
<h4 id="å®šå®¹æ ˆ">å®šå®¹æ ˆ</h4>
<p>æˆ‘ä»¬å°†ä¼šä»æœ€ç®€å•çš„å›ºå®šå®¹é‡çš„å­—ç¬¦ä¸²æ ˆçš„å®ç°å¼€å§‹ï¼Œå®ƒè¦æ±‚ç”¨ä¾‹æŒ‡å®šä¸€ä¸ªå®¹é‡ä¸”ä¸æ”¯æŒè¿­ä»£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FixedCapacityStackOfStrings</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> String[] s;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> N;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FixedCapacityStackOfStrings</span><span class="params">(<span class="type">int</span> capacity)</span></span><br><span class="line">    &#123; s = <span class="keyword">new</span> <span class="title class_">String</span>[capacity]; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span></span><br><span class="line">    &#123; <span class="keyword">return</span> N == <span class="number">0</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span></span><br><span class="line">    &#123; <span class="keyword">return</span> N; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(String item)</span></span><br><span class="line">    &#123; s[N++] = item; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">pop</span><span class="params">()</span></span><br><span class="line">    &#123; <span class="keyword">return</span> s[--N]; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯æœ€ç®€å•çš„æ•°æ®ç»“æ„ï¼Œä½†ä¹Ÿæ˜¯ä¸€åˆ‡çš„åŸºç¡€</p>
<h4 id="æ³›å‹-2">æ³›å‹</h4>
<p>å®šå®¹æ ˆçš„ç¬¬ä¸€ä¸ªç¼ºç‚¹æ˜¯å…¶åªèƒ½å¤„ç†<code>String</code>ä¸€ç§ç±»å‹çš„æ•°æ®ï¼Œè€Œæ³›å‹å¯ä»¥è§£å†³è¿™ä¸€é—®é¢˜</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå› ä¸ºä¸€äº›å†å²é—ç•™é—®é¢˜ï¼ŒJavaä¸èƒ½ç›´æ¥åˆ›å»ºæ³›å‹æ•°ç»„ï¼Œä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡ç±»å‹è½¬æ¢æ¥å®ç°<code>T[] s = (T[]) new Object[capacity];</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FixedCapacityStack</span>&lt;T&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> T[] s;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> N;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FixedCapacityStack</span><span class="params">(<span class="type">int</span> capacity)</span></span><br><span class="line">    &#123; s = (T[]) <span class="keyword">new</span> <span class="title class_">Object</span>[capacity]; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span></span><br><span class="line">    &#123; <span class="keyword">return</span> N == <span class="number">0</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span></span><br><span class="line">    &#123; <span class="keyword">return</span> N; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(T item)</span></span><br><span class="line">    &#123; s[N++] = item; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">pop</span><span class="params">()</span></span><br><span class="line">    &#123; <span class="keyword">return</span> s[--N]; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å°†æ‰€æœ‰<code>Sting</code>æ”¹ä¸º<code>T</code>å³å¯</p>
<h4 id="åŠ¨æ€è°ƒæ•´æ•°ç»„çš„å¤§å°">åŠ¨æ€è°ƒæ•´æ•°ç»„çš„å¤§å°</h4>
<p>åœ¨Javaä¸­ï¼Œæ•°ç»„ä¸€æ—¦åˆ›å»ºï¼Œå…¶å¤§å°ä¾¿æ— æ³•æ”¹å˜äº†ï¼›ä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡åŠ¨æ€åˆ›å»ºæ›´å¤§çš„æ•°ç»„å¹¶å°†åŸæ¥çš„æ•°ç»„å¤åˆ¶è¿‡æ¥æ¥å®ç°æ•°ç»„å¤§å°çš„åŠ¨æ€å˜åŒ–</p>
<p>é€šè¿‡ä»¥ä¸‹å‡½æ•°ä¾¿å¯ä»¥å®ç°åŠ¨æ€è°ƒæ•´æ•°ç»„çš„å¤§å°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">resize</span><span class="params">(<span class="type">int</span> new_capacity)</span></span><br><span class="line">&#123;</span><br><span class="line">    T[] temp = (T[]) <span class="keyword">new</span> <span class="title class_">Object</span>[new_capacity];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">        temp[i] = array[i];</span><br><span class="line">    array = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¹‹åæ›´æ”¹<code>push()</code>ä¸<code>pop()</code>ï¼Œåœ¨è¦æº¢å‡ºæ—¶æ‰©å®¹ï¼Œåˆ©ç”¨ç‡å¤ªä½æ—¶å‡å®¹ï¼Œå³å¯å®ç°å†…å­˜å¤§å°çš„åŠ¨æ€è°ƒæ•´</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ResizingArrayStack</span>&lt;T&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> T[] array;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> N;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ResizingArrayStack</span><span class="params">(<span class="type">int</span> capacity)</span></span><br><span class="line">    &#123; array = (T[]) <span class="keyword">new</span> <span class="title class_">Object</span>[capacity]; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span></span><br><span class="line">    &#123; <span class="keyword">return</span> N == <span class="number">0</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span></span><br><span class="line">    &#123; <span class="keyword">return</span> N; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(T item)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (N &gt;= array.length)</span><br><span class="line">            resize(<span class="number">2</span> * N);</span><br><span class="line">        array[N++] = item;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">pop</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">item</span> <span class="operator">=</span> array[--N];</span><br><span class="line">        array[N] = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (N &gt; <span class="number">0</span> &amp;&amp; N &lt;= array.length / <span class="number">4</span>)</span><br><span class="line">            resize(N / <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">return</span> item;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">resize</span><span class="params">(<span class="type">int</span> new_capacity)</span></span><br><span class="line">    &#123;</span><br><span class="line">        T[] temp = (T[]) <span class="keyword">new</span> <span class="title class_">Object</span>[new_capacity];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">            temp[i] = array[i];</span><br><span class="line">        array = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="è¿­ä»£">è¿­ä»£</h4>
<p>åœ¨Javaä¸­ï¼Œå®ç°è¿­ä»£åªéœ€è¦è®©å¯¹åº”ç±»ç»§æ‰¿<code>Iterable&lt;T&gt;</code>æ¥å£ï¼Œå¹¶å®ç°å¯¹åº”æ–¹æ³•å³å¯</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Iterable</span>&lt;T&gt; </span><br><span class="line">&#123;</span><br><span class="line">    Iterator&lt;T&gt; <span class="title function_">iterator</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨æ¥å£ä¸­ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªè¿”å›å€¼ä¸º<code>Iterator&lt;T&gt;</code>çš„<code>iterator()</code>æ–¹æ³•å³å¯</p>
<p>è€Œ<code>Iterator&lt;T&gt;</code>å³ä¸ºè¿­ä»£å™¨ï¼Œè¿­ä»£å™¨ä¸­éœ€è¦å®ç°çš„æ–¹æ³•å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Iterator</span>&lt;T&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span>;</span><br><span class="line">    T <span class="title function_">next</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å£°æ˜ä¸€ä¸ªå†…éƒ¨ç±»ç»§æ‰¿<code>Iterator&lt;T&gt;</code>ï¼Œå¹¶å®ç°å…¶ä¸­çš„æ–¹æ³•å³å¯</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">ReverseArrayIterator</span> <span class="keyword">implements</span> <span class="title class_">Iterator</span>&lt;T&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> N;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span></span><br><span class="line">    &#123; <span class="keyword">return</span> i &gt; <span class="number">0</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">next</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        i--;</span><br><span class="line">        <span class="keyword">return</span> array[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>è¿­ä»£å™¨çš„å®ç°å¯¹äºæ•°æ®ç±»å‹çš„å°è£…æ˜¯ååˆ†é‡è¦çš„ï¼Œå…¶å¯ä»¥è®©å¤–éƒ¨å®Œå…¨ä¸å…³ç³»å†…éƒ¨å®ç°ï¼Œä½¿ç”¨è¿­ä»£å™¨å³å¯å®Œæˆå¯¹å†…éƒ¨å…ƒç´ çš„éå†</strong></p>
</blockquote>
<h4 id="æœ€ç»ˆå®ç°">æœ€ç»ˆå®ç°</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ResizingArrayStack</span>&lt;T&gt; <span class="keyword">implements</span> <span class="title class_">Iterable</span>&lt;T&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> T[] array;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> N;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ResizingArrayStack</span><span class="params">(<span class="type">int</span> capacity)</span></span><br><span class="line">    &#123; array = (T[]) <span class="keyword">new</span> <span class="title class_">Object</span>[capacity]; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span></span><br><span class="line">    &#123; <span class="keyword">return</span> N == <span class="number">0</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span></span><br><span class="line">    &#123; <span class="keyword">return</span> N; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(T item)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (N &gt;= array.length)</span><br><span class="line">            resize(<span class="number">2</span> * N);</span><br><span class="line">        array[N++] = item;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">pop</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">item</span> <span class="operator">=</span> array[--N];</span><br><span class="line">        array[N] = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (N &gt; <span class="number">0</span> &amp;&amp; N &lt;= array.length / <span class="number">4</span>)</span><br><span class="line">            resize(N / <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">return</span> item;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">resize</span><span class="params">(<span class="type">int</span> new_capacity)</span></span><br><span class="line">    &#123;</span><br><span class="line">        T[] temp = (T[]) <span class="keyword">new</span> <span class="title class_">Object</span>[new_capacity];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">            temp[i] = array[i];</span><br><span class="line">        array = temp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Iterator&lt;T&gt; <span class="title function_">iterator</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ReverseArrayIterator</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">ReverseArrayIterator</span> <span class="keyword">implements</span> <span class="title class_">Iterator</span>&lt;T&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> N;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span></span><br><span class="line">        &#123; <span class="keyword">return</span> i &gt; <span class="number">0</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> T <span class="title function_">next</span><span class="params">()</span></span><br><span class="line">        &#123;</span><br><span class="line">            i--;</span><br><span class="line">            <span class="keyword">return</span> array[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>ResizingArrayStack&lt;T&gt;</code>å·²ç»æ˜¯ä¸€ä¸ªé¢‡å…·é›å½¢çš„æ•°æ®ç±»å‹äº†ï¼Œä½†åœ¨å…·ä½“å®ç°ä¸Šï¼Œå…¶è¿˜æœ‰ç€ä¸€å®šçš„é—®é¢˜</p>
<p>åœ¨è¿›è¡Œ<code>push()</code>ä¸<code>pop()</code>æ“ä½œæ—¶ï¼Œæ•°ç»„çš„å¤§å°ä¼šè¢«è°ƒæ•´ï¼Œè¿™ç§è°ƒæ•´çš„è§„æ¨¡æ˜¯å‘ˆæŒ‡æ•°ä¸Šå‡çš„ï¼Œè¿™å¯¹å†…å­˜ä¸æ€§èƒ½éƒ½å¹¶ä¸å‹å¥½ï¼Œè€Œä½¿ç”¨é“¾è¡¨å¯ä»¥è§£å†³è¿™ä¸€ç¼ºé™·ï¼Œå¹¶ä»¥ä¸€ç§å®Œå…¨ä¸åŒçš„æ–¹å¼ç»„ç»‡æ•°æ®</p>
<hr>
<h3 id="é“¾è¡¨">é“¾è¡¨</h3>
<blockquote>
<p><strong>é“¾è¡¨æ˜¯ä¸€ç§é€’å½’æ•°æ®ç»“æ„ï¼Œå®ƒæˆ–ä¸ºç©ºï¼Œæˆ–ä¸ºå«æœ‰æ³›å‹å…ƒç´ çš„ç»“ç‚¹å’ŒæŒ‡å‘å¦ä¸€ä¸ªç»“ç‚¹çš„å¼•ç”¨</strong></p>
</blockquote>
<p><em>é“¾è¡¨çš„åŸºç¡€æ¦‚å¿µè¾ƒä¸ºç®€å•ï¼Œä¸”ç¬”è€…ä¹‹å‰å·²ç»å­¦è¿‡å¾ˆå¤šéï¼Œæ­¤å¤„ä¸å†èµ˜è¿°</em></p>
<ul>
<li>é“¾è¡¨å¯ä»¥å¤„ç†ä»»æ„æ•°æ®ç±»å‹çš„æ•°æ®</li>
<li>é“¾è¡¨æ‰€éœ€çš„ç©ºé—´æ€»æ˜¯å’Œé›†åˆçš„å¤§å°æˆæ­£æ¯”</li>
<li>é“¾è¡¨æ“ä½œæ‰€éœ€æ—¶é—´æ€»æ˜¯å’Œé›†åˆå¤§å°æ— å…³</li>
</ul>
<p>åœ¨ä¸Šä¸€ç« æˆ‘ä»¬é€šè¿‡æ•°ç»„å®ç°äº†å¯åŠ¨æ€è°ƒæ•´å¤§å°å¯è¿­ä»£çš„ä¸‹å‹æ•°ç»„</p>
<p>è€Œä½¿ç”¨é“¾è¡¨æ¥å®ç°å®ƒä»¬ä¸€æ ·å¯ä»¥ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LinklistStack</span>&lt;T&gt; <span class="keyword">implements</span> <span class="title class_">Iterable</span>&lt;T&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">Node</span></span><br><span class="line">    &#123;</span><br><span class="line">        T value;</span><br><span class="line">        Node next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Node head;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> N;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span></span><br><span class="line">    &#123; <span class="keyword">return</span> head == <span class="literal">null</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span></span><br><span class="line">    &#123; <span class="keyword">return</span> N; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(T value)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">newNode</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>();</span><br><span class="line">        newNode.value = value;</span><br><span class="line">        newNode.next = head;</span><br><span class="line">        head = newNode;</span><br><span class="line">        N++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">pop</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">value</span> <span class="operator">=</span> head.value;</span><br><span class="line">        head = head.next;</span><br><span class="line">        N--;</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Iterator&lt;T&gt; <span class="title function_">iterator</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">LinklistIterator</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">LinklistIterator</span> <span class="keyword">implements</span> <span class="title class_">Iterator</span>&lt;T&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">Node</span> <span class="variable">current</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span></span><br><span class="line">        &#123; <span class="keyword">return</span> current.next != <span class="literal">null</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> T <span class="title function_">next</span><span class="params">()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">T</span> <span class="variable">value</span> <span class="operator">=</span> current.value;</span><br><span class="line">            current = current.next;</span><br><span class="line">            <span class="keyword">return</span> value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>åœ¨ç»“æ„åŒ–å­˜å‚¨æ•°æ®é›†æ—¶ï¼Œé“¾è¡¨æ˜¯æ•°ç»„çš„ä¸€ç§é‡è¦çš„æ›¿ä»£æ–¹æ³•</strong></p>
</blockquote>
<hr>
<h3 id="æ€»ç»“">æ€»ç»“</h3>
<p>åœ¨ç ”ç©¶ä¸€ä¸ªæ–°çš„åº”ç”¨é¢†åŸŸæ—¶ï¼Œæˆ‘ä»¬åº”æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¯†åˆ«ç›®æ ‡å¹¶ä½¿ç”¨æ•°æ®æŠ½è±¡è§£å†³é—®é¢˜ï¼š</p>
<ul>
<li>å®šä¹‰API</li>
<li>æ ¹æ®ç‰¹å®šçš„åº”ç”¨åœºæ™¯å¼€å‘ç”¨ä¾‹ä»£ç </li>
<li>æè¿°ä¸€ç§æ•°æ®ç»“æ„ï¼ˆä¸€ç»„å€¼çš„è¡¨ç¤ºï¼‰ï¼Œå¹¶åœ¨APIæ‰€å¯¹åº”çš„æŠ½è±¡æ•°æ®ç±»å‹çš„å®ç°ä¸­æ ¹æ®å®ƒå®šä¹‰ç±»çš„å®ä¾‹å˜é‡</li>
<li>æè¿°ç®—æ³•ï¼ˆå®ç°ä¸€ç»„æ“ä½œçš„æ–¹æ³•ï¼‰ï¼Œå¹¶æ ¹æ®å®ƒå®ç°ç±»ä¸­çš„å®ä¾‹æ–¹æ³•</li>
<li>åˆ†æç®—æ³•çš„æ€§èƒ½ç‰¹ç‚¹</li>
</ul>
<hr>
<h2 id="ç®—æ³•åˆ†æ">ç®—æ³•åˆ†æ</h2>
<blockquote>
<ul>
<li><strong>æˆ‘çš„ç¨‹åºä¼šè¿è¡Œå¤šé•¿æ—¶é—´</strong></li>
<li><strong>æˆ‘çš„ç¨‹åºä¼šè€—è´¹å¤šå°‘å†…å­˜</strong></li>
</ul>
<p><strong>è¿™æ˜¯æˆ‘ä»¬åœ¨ç¼–å†™ä»£ç æ—¶ä¼šä¸å¯é¿å…åœ°é‡åˆ°çš„ä¸¤å¤§é—®é¢˜ï¼Œè€Œä¸ºè¿™äº›åŸºç¡€é—®é¢˜ç»™å‡ºç­”æ¡ˆå®é™…ä¸Šå¹¶ä¸å›°éš¾</strong></p>
</blockquote>
<h3 id="æ•°å­¦æ¨¡å‹">æ•°å­¦æ¨¡å‹</h3>
<p>æ ¹æ®Knuthçš„ç†è®ºï¼Œå°½ç®¡æœ‰ç€è®¸å¤šå¤æ‚å› ç´ å½±å“ç€ç¨‹åºçš„æ•ˆç‡ï¼Œä½†åŸåˆ™ä¸Šæˆ‘ä»¬æ€»å¯ä»¥æ„å»ºå‡ºä¸€ä¸ªæ•°å­¦æ¨¡å‹æ¥æè¿°ä»»æ„ç¨‹åºçš„è¿è¡Œæ—¶é—´</p>
<p>ä¸€ä¸ªç¨‹åºçš„è¿è¡Œæ—¶é—´ä¸»è¦å’Œä¸¤ç‚¹æœ‰å…³ï¼š</p>
<ul>
<li>æ‰§è¡Œæ¯æ¡è¯­å¥çš„è€—æ—¶</li>
<li>æ‰§è¡Œæ¯æ¡è¯­å¥çš„é¢‘ç‡</li>
</ul>
<p>å‰è€…å–å†³äºè®¡ç®—æœºç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿï¼Œåè€…å–å†³äºç¨‹åºæœ¬èº«å’Œè¾“å…¥ï¼Œè€Œæˆ‘ä»¬æœ€éœ€è¦å…³æ³¨çš„ä¾¿æ˜¯åè€…</p>
<h4 id="è¿‘ä¼¼">è¿‘ä¼¼</h4>
<p>å¯¹äºè¯­å¥é¢‘ç‡çš„åˆ†æå¾€å¾€ä¼šä½¿æˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªå¤æ‚å†—é•¿çš„è¡¨è¾¾å¼ï¼Œå¦‚å¯¹äºä¸‹é¢è¿™æ®µç¨‹åºè€Œè¨€</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt; N; j++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> j + <span class="number">1</span>; k &lt; N; k++)</span><br><span class="line">            sum++;</span><br></pre></td></tr></table></figure>
<p>å¾—åˆ°çš„è¯­å¥é¢‘ç‡è¡¨è¾¾å¼ä¸ºï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo stretchy="false">(</mo><mi>N</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>N</mi><mo>âˆ’</mo><mn>2</mn><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mn>6</mn><mo>=</mo><msup><mi>N</mi><mn>3</mn></msup><mi mathvariant="normal">/</mi><mn>6</mn><mo>âˆ’</mo><msup><mi>N</mi><mn>2</mn></msup><mi mathvariant="normal">/</mi><mn>2</mn><mo>+</mo><mi>N</mi><mi mathvariant="normal">/</mi><mn>3</mn></mrow><annotation encoding="application/x-tex">N(N-1)(N-2)/6=N^3/6-N^2/2+N/3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mord">/6</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mord">/6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord">/2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord">/3</span></span></span></span></p>
<p>è¿™å¹¶ä¸ç›´è§‚ï¼Œä½†æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œå½“Næ¯”è¾ƒå¤§æ—¶ï¼Œé¦–é¡¹ä¹‹åçš„å…¶ä»–é¡¹éƒ½ç›¸å¯¹è¾ƒå°</p>
<p>å¦‚å¯¹äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">N=1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><msup><mi>N</mi><mn>2</mn></msup><mi mathvariant="normal">/</mi><mn>2</mn><mo>+</mo><mi>N</mi><mi mathvariant="normal">/</mi><mn>3</mn><mo>â‰ˆ</mo><mn>499667</mn></mrow><annotation encoding="application/x-tex">-N^2/2+N/3\approx499667</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord">âˆ’</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord">/2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord">/3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">499667</span></span></span></span>ï¼Œè¿™ç›¸å¯¹äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>N</mi><mn>3</mn></msup><mi mathvariant="normal">/</mi><mn>6</mn><mo>â‰ˆ</mo><mn>166666667</mn></mrow><annotation encoding="application/x-tex">N^3/6\approx166666667</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mord">/6</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">166666667</span></span></span></span>æ¥è¯´å°äº†éå¸¸å¤šï¼Œä»¥è‡³äºå¯ä»¥çœç•¥</p>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥èˆå»é™¤é¦–é¡¹å¤–çš„å…¶ä»–é¡¹æ¥å¤§å¤§ç®€åŒ–æˆ‘ä»¬çš„è¡¨è¾¾å¼ï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ª<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>N</mi><mn>3</mn></msup><mi mathvariant="normal">/</mi><mn>6</mn></mrow><annotation encoding="application/x-tex">N^3/6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mord">/6</span></span></span></span></p>
<p>è€Œå®é™…ä¸Šæˆ‘ä»¬è¿˜å¯ä»¥è¿›ä¸€æ­¥çš„ç®€åŒ–ï¼Œåœ¨é¦–é¡¹çš„åŸºç¡€ä¸Šèˆå»å¸¸æ•°é‡ï¼Œæˆ‘ä»¬å³å¯å¾—åˆ°ç®—æ³•çš„<code>å¢é•¿æ•°é‡çº§</code>ï¼Œå¦‚<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>N</mi><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">N^3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></p>
<blockquote>
<p><strong>å¢é•¿æ•°é‡çº§ï¼ˆå¤§Oè¡¨ç¤ºæ³•ï¼‰æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µï¼Œå…¶å¯ä»¥éå¸¸ç®€å•ç›´è§‚åœ°è¡¨ç¤ºä¸€ä¸ªç®—æ³•çš„æŠ½è±¡æ•ˆç‡ï¼Œä¸”ä¸ç®—æ³•çš„å…·ä½“å®ç°æ— å…³</strong></p>
</blockquote>
<h4 id="æˆæœ¬æ¨¡å‹">æˆæœ¬æ¨¡å‹</h4>
<p>ä¸Šè¿°çš„å¢é•¿æ•°é‡çº§éå¸¸ç®€å•ç›´è§‚ï¼Œä½†å¦‚æœæˆ‘ä»¬æƒ³è¦ä¸€ç§æ›´åŠ ç³»ç»Ÿæ€§ä¸”å¯ä»¥é‡åŒ–çš„æ–¹æ³•æ¥å¯¹ç®—æ³•çš„æ€§èƒ½è¿›è¡Œç²¾ç¡®çš„æ¯”è¾ƒæˆ–é¢„æµ‹ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥ä½¿ç”¨æˆæœ¬æ¨¡å‹</p>
<blockquote>
<p><strong>æˆæœ¬æ¨¡å‹æ˜¯ä¸€ä¸ªç”¨äºè¯„ä¼°ç®—æ³•æ€§èƒ½çš„æ¦‚å¿µæ¡†æ¶ï¼Œå…¶å®šä¹‰äº†å“ªäº›æ“ä½œæˆ–èµ„æºåº”è¯¥è¢«è®¡ç®—ï¼Œä»¥åŠæ˜¯å¦‚ä½•è¿›è¡Œè®¡ç®—çš„</strong></p>
</blockquote>
<p>åœ¨ç®—æ³•åˆ†æä¸­ï¼Œæˆæœ¬æ¨¡å‹ç”¨äºï¼š</p>
<ol>
<li><strong>ç¡®å®šç®—æ³•æ•ˆç‡</strong>ï¼šé€šè¿‡è®¡ç®—ç®—æ³•æ‰§è¡Œä¸­æŸäº›æ“ä½œçš„æ•°é‡ï¼Œå¯ä»¥è¯„ä¼°ç®—æ³•çš„è¿è¡Œæ—¶é—´ã€‚ä¾‹å¦‚ï¼Œåœ¨æ’åºç®—æ³•ä¸­ï¼Œå¯èƒ½ä¼šè®¡ç®—æ¯”è¾ƒå’Œäº¤æ¢çš„æ¬¡æ•°</li>
<li><strong>æ¯”è¾ƒç®—æ³•</strong>ï¼šæˆæœ¬æ¨¡å‹å…è®¸æˆ‘ä»¬åœ¨åŒä¸€åŸºç¡€ä¸Šæ¯”è¾ƒä¸åŒç®—æ³•çš„æ€§èƒ½ã€‚é€šè¿‡åˆ†æä¸åŒç®—æ³•åœ¨ç›¸åŒæˆæœ¬æ¨¡å‹ä¸‹çš„è¡Œä¸ºï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šå“ªç§ç®—æ³•æ›´æœ‰æ•ˆ</li>
<li><strong>é¢„æµ‹æ€§èƒ½</strong>ï¼šé€šè¿‡å¯¹ç®—æ³•åœ¨ä¸åŒè¾“å…¥å¤§å°ä¸‹çš„æˆæœ¬è¿›è¡Œæ•°å­¦å»ºæ¨¡ï¼Œæˆ‘ä»¬å¯ä»¥é¢„æµ‹ç®—æ³•åœ¨æ›´å¤§è¾“å…¥ä¸Šçš„è¡Œä¸º</li>
</ol>
<p>åœ¨é€‰æ‹©æˆæœ¬æ¨¡å‹æ—¶ï¼Œé€šå¸¸ä¼šé€‰æ‹©å¯¹äºç‰¹å®šç®—æ³•å’Œé—®é¢˜åŸŸæ¥è¯´æœ€å…·ä»£è¡¨æ€§å’Œå½±å“åŠ›çš„æ“ä½œã€‚ä¾‹å¦‚ï¼Œåœ¨åˆ†æå¿«é€Ÿæ’åºç®—æ³•æ—¶ï¼Œæ¯”è¾ƒå’Œäº¤æ¢å¯èƒ½æ˜¯æˆæœ¬æ¨¡å‹ä¸­æœ€é‡è¦çš„æ“ä½œï¼Œè€Œåœ¨åˆ†æå›¾ç®—æ³•æ—¶ï¼Œå¯èƒ½ä¼šæ›´å…³æ³¨è¾¹å’Œé¡¶ç‚¹çš„éå†æ¬¡æ•°</p>
<h4 id="æ€»ç»“-2">æ€»ç»“</h4>
<p>å¯¹äºå¤§å¤šæ•°ç¨‹åºï¼Œå¾—åˆ°å…¶è¿è¡Œæ—¶é—´çš„æ•°å­¦æ¨¡å‹æ‰€éœ€æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ul>
<li>ç¡®å®šè¾“å…¥æ¨¡å‹ï¼Œå®šä¹‰é—®é¢˜çš„è§„æ¨¡</li>
<li>è¯†åˆ«å†…å¾ªç¯</li>
<li>æ ¹æ®å†…å¾ªç¯ä¸­çš„æ“ä½œç¡®å®šæˆæœ¬æ¨¡å‹</li>
<li>å¯¹äºç»™å®šè¾“å…¥ï¼Œåˆ¤æ–­è¿™äº›æ“ä½œçš„æ‰§è¡Œé¢‘ç‡</li>
</ul>
<hr>
<h3 id="å€ç‡å®éªŒ">å€ç‡å®éªŒ</h3>
<p>å€ç‡å®éªŒæ˜¯ä¸€ç§ä¼°è®¡è¿è¡Œæ—¶é—´çš„å¢é•¿æ•°é‡çº§çš„ç®€å•æ–¹æ³•ï¼Œæˆ‘ä»¬é€šè¿‡å€ç‡å®éªŒå¯ä»¥è¶Šè¿‡ç¨‹åºæœ¬èº«ç›´æ¥æµ‹è¯•å¹¶é¢„æµ‹å‡ºç®—æ³•çš„è¿è¡Œæ•ˆç‡</p>
<p>é€šè¿‡ä¸‹é¢çš„æ–¹æ³•æˆ‘ä»¬ä¾¿å¯ä»¥å¯¹ä¸€æ®µç¨‹åºè¿›è¡Œå€ç‡å®éªŒï¼š</p>
<ul>
<li>ä½¿ç”¨ä¸€ä¸ªè¾“å…¥ç”Ÿæˆå™¨ç”Ÿæˆå„è§„æ¨¡çš„è¾“å…¥</li>
<li>ä¸æ–­æé«˜è¾“å…¥è§„æ¨¡å¹¶é‡æ–°è¿è¡Œç¨‹åº</li>
<li>ç›´åˆ°è¿è¡Œæ—¶é—´ä¸ä¸Šä¸€æ¬¡çš„è¿è¡Œæ—¶é—´æ¯”å€¼è¶‹è¿‘äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>b</mi></msup></mrow><annotation encoding="application/x-tex">2^b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span></span></span></span></span></span></span></li>
</ul>
<p>ç”±æ­¤ä¾¿å¯ä»¥å¾—åˆ°å€ç‡å®éªŒçš„ç»“æœï¼Œè€Œè¢«æµ‹ç¨‹åºçš„å¢é•¿æ•°é‡çº§ä¾¿è¿‘ä¼¼ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>N</mi><mi>b</mi></msup></mrow><annotation encoding="application/x-tex">N^b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span></span></span></span></span></span></span></p>
<p>è€Œï¼Œä¹‹æ‰€ä»¥è¿è¡Œæ—¶é—´çš„æ¯”å€¼ä¼šè¶‹è¿‘äºä¸€ä¸ªå¸¸æ•°æ˜¯å› ä¸º<code>å€ç‡å®šç†</code></p>
<blockquote>
<p><strong>å€ç‡å®šç†ï¼š</strong></p>
<p>å¦‚æœ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo><mo>âˆ½</mo><mi>a</mi><msup><mi>N</mi><mi>b</mi></msup><mi>lg</mi><mo>â¡</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">T(N) \backsim aN^b \lg N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">âˆ½</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0435em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">a</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">l<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>ï¼Œé‚£ä¹ˆ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><mn>2</mn><mi>N</mi><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi>T</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo><mo>âˆ½</mo><msup><mn>2</mn><mi>b</mi></msup></mrow><annotation encoding="application/x-tex">T(2N)/T(N) \backsim 2^b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">âˆ½</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span></span></span></span></span></span></span></p>
</blockquote>
<hr>
<h3 id="å¤„ç†å¯¹äºè¾“å…¥çš„ä¾èµ–">å¤„ç†å¯¹äºè¾“å…¥çš„ä¾èµ–</h3>
<p>æˆ‘ä»¬é€šå¸¸é‡‡ç”¨å¤§Oè¡¨ç¤ºæ³•ï¼Œå³å¢é•¿æ•°é‡çº§æ¥æè¿°ç®—æ³•çš„æ•ˆç‡ï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œéšç€è¾“å…¥å†…å®¹åŠè§„æ¨¡çš„æ”¹å˜ï¼Œç®—æ³•çš„æ•ˆç‡å¾ˆå¯èƒ½ä¼šå‘ç”Ÿéå¸¸å¤§çš„å˜åŒ–ï¼Œè¿™æ—¶æˆ‘ä»¬ä¾¿éœ€è¦è¿›è¡Œæ›´ä¸ºç»†è‡´çš„åˆ†æ</p>
<h4 id="è¾“å…¥æ¨¡å‹">è¾“å…¥æ¨¡å‹</h4>
<p>ä¸€ç§æ–¹æ³•æ˜¯æ›´åŠ å°å¿ƒç»†è‡´åœ°é€‰æ‹©è¾“å…¥æ¨¡å‹ï¼Œå¦‚è®©è¾“å…¥æ¨¡å‹è¶³å¤Ÿé€‚åº”ç°å®æƒ…å†µ</p>
<p>è¿™ç§æ–¹æ³•å¾€å¾€ä¼šé¢ä¸´ä»¥ä¸‹ä¸¤ä¸ªç¼ºç‚¹ï¼š</p>
<ol>
<li>è¾“å…¥æ¨¡å‹å¯èƒ½æ˜¯ä¸åˆ‡å®é™…çš„</li>
<li>å¯¹è¾“å…¥çš„åˆ†æå¯èƒ½æç«¯å›°éš¾ï¼Œæ‰€éœ€çš„æ•°å­¦æŠ€å·§è¿œéä¸€èˆ¬çš„å­¦ç”Ÿæˆ–ç¨‹åºå‘˜å¯ä»¥æŒæ¡</li>
</ol>
<h4 id="å¯¹æœ€åæƒ…å†µä¸‹çš„æ€§èƒ½ä¿è¯">å¯¹æœ€åæƒ…å†µä¸‹çš„æ€§èƒ½ä¿è¯</h4>
<p>æˆ‘ä»¬éœ€è¦ä»æåº¦æ‚²è§‚çš„è§†è§’ä¸‹æ¥ä¼°ç®—ç®—æ³•çš„ä¿¡å¿µ</p>
<p>è™½ç„¶æˆ‘ä»¬æ˜¯ç¨‹åºçš„è®¾è®¡è€…ï¼Œä½†ç¨‹åºçš„è¾“å…¥ç¡®æ˜¯æ¥è‡ªäºå„ä¸ªä¸åŒçš„ç”¨æˆ·ï¼ˆå…¶ä¸­æˆ–è®¸åŒ…å«ç€æ¶æ„ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿å³ä½¿ç¨‹åºæ¥æ”¶åˆ°äº†å¼‚å¸¸è§„æ¨¡çš„æ•°æ®ä¹Ÿä¸ä¼šç›´æ¥å´©æºƒï¼Œè¿™æ˜¯ä¸ºæ€§èƒ½åšçš„æœ€åä¸€å±‚ä¿é™©</p>
<h4 id="éšæœºåŒ–ç®—æ³•">éšæœºåŒ–ç®—æ³•</h4>
<p>ä¸ºæ€§èƒ½æä¾›ä¿è¯çš„ä¸€ç§é‡è¦æ–¹æ³•æ˜¯å¼•å…¥éšæœºæ€§</p>
<p>å¦‚ï¼Œå¤§åé¼é¼çš„å¿«é€Ÿæ’åºç®—æ³•åœ¨æœ€åæœ€åçš„æƒ…å†µä¸‹æ€§èƒ½ä¼šè¾¾åˆ°å¹³æ–¹çº§åˆ«ï¼Œä½†åœ¨è¾“å…¥å®Œå…¨éšæœºçš„æƒ…å†µä¸‹ï¼Œå…¶åœ¨æ¦‚ç‡ä¸‹çš„æ€§èƒ½å¯ä»¥è¾¾åˆ°çº¿æ€§å¯¹æ•°ï¼Œè¦è®©å…¶è¾¾åˆ°å¹³æ–¹çº§çš„æ¦‚ç‡å¾®ä¹å…¶å¾®</p>
<p>è™½ç„¶æ¦‚ç‡ä¸ä¸º0ï¼Œä½†å¿«é€Ÿæ’åºè¾¾åˆ°å¹³æ–¹çº§çš„æ¦‚ç‡å¯èƒ½æ¯”ç”µè„‘å‡ºé—®é¢˜çš„æ¦‚ç‡è¿˜ä½</p>
<p>å› æ­¤ï¼Œéšæœºæƒ…å†µä¸‹çš„æ¦‚ç‡ä¿è¯ï¼Œåœ¨å®é™…æƒ…å†µä¸­ä¹Ÿå¯ä»¥ä½œä¸ºæœ€åæƒ…å†µä¸‹çš„æ€§èƒ½ä¿è¯</p>
<h4 id="æ“ä½œåºåˆ—">æ“ä½œåºåˆ—</h4>
<p>æœ‰äº›æƒ…å†µä¸‹ï¼Œæ›´æ”¹ä¸€æ¬¡è®¡æ—¶ä¸­æŸäº›æ“ä½œçš„é¡ºåºä¹Ÿä¼šæ”¹å˜ç¨‹åºçš„æ•ˆç‡</p>
<p>å¦‚å¯¹äºä¸€ä¸ªä¸‹å‹æ ˆæ¥è¯´ï¼Œä¸€æ¬¡æ€§å‹å…¥Nä¸ªå¯¹è±¡å†å°†å®ƒä»¬å…¨éƒ¨å¼¹å‡ºæ‰€éœ€çš„æ—¶é—´ï¼Œå’Œå°†è¿™äº›æ“ä½œæ··åˆè¿›è¡Œæ‰€éœ€çš„æ—¶é—´å¯èƒ½å®Œå…¨ä¸åŒ</p>
<p>æˆ‘ä»¬éœ€è¦å°†è¿™äº›æƒ…å†µä¹Ÿè€ƒè™‘è¿›å»</p>
<h4 id="å‡æ‘Šåˆ†æ">å‡æ‘Šåˆ†æ</h4>
<p>æä¾›æ€§èƒ½ä¿è¯çš„å¦ä¸€ç§æ–¹æ³•æ˜¯é€šè¿‡è®°å½•æ‰€æœ‰æ“ä½œçš„æ€»æˆæœ¬å¹¶é™¤ä»¥æ“ä½œæ€»æ•°æ¥å°†æˆæœ¬å‡æ‘Šæ‰</p>
<p>è¿™ç§æ–¹æ³•å¯ä»¥ç”¨äºåˆ†æä¸€äº›æ¯æ¬¡è°ƒç”¨çš„æˆæœ¬å¯èƒ½ä¸åŒçš„æ–¹æ³•ï¼Œå¦‚ä¹‹å‰å®ç°çš„å¯åŠ¨æ€è°ƒæ•´å¤§å°çš„æ ˆ</p>
<hr>
<h3 id="å†…å­˜">å†…å­˜</h3>
<p>Javaæ˜¯åŸºäºJVMè¿è¡Œçš„ï¼Œå¾—ç›Šäºæ­¤ï¼Œå…¶æ‹¥æœ‰è‡ªåŠ¨å†…å­˜ç®¡ç†çš„èƒ½åŠ›ï¼Œä½†ä¹Ÿæ­£å› æ­¤ï¼Œå…¶è¿‡é«˜çš„å†…å­˜å ç”¨å¸¸å¸¸è¢«è¯Ÿç—…ï¼Œè€ŒJVMå¯¹äºå†…å­˜ç®¡ç†çš„å®ç°ä¹Ÿæ˜¯é«˜åº¦ä¾èµ–äºç¡¬ä»¶çš„ï¼Œä¸åŒçš„æ“ä½œç³»ç»Ÿä¸ç¡¬ä»¶ä¼šå¸¦æ¥æˆªç„¶ä¸åŒçš„å†…å­˜åˆ†é…ç­–ç•¥ä¸å¤§å°</p>
<p>ä½†å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬åªæ˜¯ä¸€ä¸ªç¨‹åºç¼–å†™è€…<s>è‡­å†™ä»£ç çš„</s>ï¼Œæˆ‘ä»¬ä¸å¿…å…³å¿ƒä¸åŒç³»ç»Ÿçš„JVMå¯¹äºå†…å­˜çš„å…·ä½“å®ç°ï¼ŒåŸºæœ¬ä¸Šåªéœ€è¦ä¸“æ³¨äºåŸºç¡€æ•°æ®ç±»å‹ä¸å¯¹è±¡å³å¯</p>
<p>æ¯ä¸ªåŸºç¡€æ•°æ®ç±»å‹å°±åƒå†…å­˜ä¸–ç•Œä¸­çš„åŸå­ï¼Œä¸€åˆ‡å¯¹è±¡éƒ½åŸºäºä»–ä»¬è€Œå±•å¼€ï¼Œè€Œä»–ä»¬æ‰€å ç”¨çš„å†…å­˜ç©ºé—´å¾€å¾€æ˜¯å›ºå®šçš„</p>
<h4 id="å¯¹è±¡-2">å¯¹è±¡</h4>
<p>è€Œå¯¹äºä¸€ä¸ªå¯¹è±¡è€Œè¨€ï¼Œæˆ‘ä»¬åªéœ€è¦å°†æ‰€æœ‰å®ä¾‹å˜é‡æ‰€ç”¨çš„å†…å­˜ä¸å¯¹è±¡æœ¬èº«çš„å¼€é”€ï¼ˆä¸€èˆ¬ä¸º16å­—èŠ‚ï¼‰ç›¸åŠ å³å¯</p>
<p>å¦‚ï¼Œä¸€ä¸ª<code>Integer</code>å¯¹è±¡ä¼šä½¿ç”¨24å­—èŠ‚ï¼Œå…¶ä¸­åŒ…å«16å­—èŠ‚çš„å¯¹è±¡å¼€é”€ï¼Œ4å­—èŠ‚<code>int</code>å€¼ä»¥åŠ4ä¸ªå¡«å……å­—èŠ‚</p>
<h4 id="é“¾è¡¨-2">é“¾è¡¨</h4>
<p>é“¾è¡¨å±äºåµŒå¥—çš„éé™æ€ç±»ï¼Œå…¶ä¸­éœ€è¦é¢å¤–8ä¸ªå­—èŠ‚ç”¨äºæŒ‡å‘å¤–éƒ¨ç±»çš„å¼•ç”¨</p>
<p>å¯¹äºä¸‹é¢çš„<code>Node</code>ç±»è€Œè¨€ï¼Œä¸€å…±éœ€è¦40å­—èŠ‚çš„å¼€é”€ï¼Œå…¶ä¸­åŒ…å«16å­—èŠ‚çš„å¯¹è±¡å¼€é”€ï¼ŒæŒ‡å‘<code>Item</code>å’Œ<code>Node</code>çš„å¼•ç”¨å„8å­—èŠ‚ï¼Œå¦å¤–åŠ ä¸Š8å­—èŠ‚çš„é¢å¤–å¼€é”€</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span></span><br><span class="line">&#123;</span><br><span class="line">    Item item;</span><br><span class="line">    Node next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æ•°ç»„">æ•°ç»„</h4>
<p>Javaä¸­æ•°ç»„è¢«å®ç°ä¸ºå¯¹è±¡ï¼Œå®ƒä»¬ä¸€èˆ¬éƒ½ä¼šå› ä¸ºè®°å½•é•¿åº¦è€Œéœ€è¦é¢å¤–çš„å†…å­˜</p>
<p>ä¸€ä¸ªåŸå§‹æ•°æ®ç±»å‹çš„æ•°ç»„ä¸€èˆ¬éœ€è¦24å­—èŠ‚çš„å¤´ä¿¡æ¯ï¼Œå…¶ä¸­åŒ…å«16å­—èŠ‚çš„å¯¹è±¡å¼€é”€ï¼Œ4å­—èŠ‚ç”¨äºä¿å­˜é•¿åº¦ä»¥åŠ4ä¸ªå¡«å……å­—èŠ‚</p>
<p>å¤´ä¿¡æ¯å†åŠ ä¸Šä¿å­˜å€¼æ‰€éœ€çš„å†…å­˜å³ä¸ºæ€»å†…å­˜å¼€é”€</p>
<p>æ€»çš„æ¥è¯´ï¼Œä¸å¯¹è±¡çš„è®¡ç®—æ–¹æ³•ç±»ä¼¼</p>
<h4 id="å­—ç¬¦ä¸²å¯¹è±¡">å­—ç¬¦ä¸²å¯¹è±¡</h4>
<p>Stringçš„æ ‡å‡†å®ç°ä¸­å«æœ‰4ä¸ªå®ä¾‹å˜é‡ï¼š</p>
<ul>
<li>ä¸€ä¸ªæŒ‡å‘å­—ç¬¦æ•°ç»„çš„å¼•ç”¨ï¼š8å­—èŠ‚</li>
<li>ä¸€ä¸ªæè¿°å­—ç¬¦æ•°ç»„åç§»é‡çš„intå€¼ï¼š4å­—èŠ‚</li>
<li>ä¸€ä¸ªè®¡æ•°å™¨intå€¼ï¼š4å­—èŠ‚</li>
<li>ä¸€ä¸ªæ•£åˆ—intå€¼ï¼š4å­—èŠ‚</li>
</ul>
<p>æ•…Stringå¯¹è±¡å°†ä¼šé¢å¤–ä½¿ç”¨40å­—èŠ‚ï¼š16å­—èŠ‚å¯¹è±¡å¼€é”€ã€3ä¸ªintå˜é‡å„4å­—èŠ‚ã€æ•°ç»„å¼•ç”¨çš„8å­—èŠ‚ã€4ä¸ªå¡«å……å­—èŠ‚</p>
<h4 id="å­—ç¬¦ä¸²çš„å€¼å’Œå­å­—ç¬¦ä¸²">å­—ç¬¦ä¸²çš„å€¼å’Œå­å­—ç¬¦ä¸²</h4>
<p>ä¸€ä¸ªé•¿åº¦ä¸ºNçš„Stringå¯¹è±¡ä¸€èˆ¬éœ€è¦ä½¿ç”¨40å­—èŠ‚åŠ ä¸Šï¼ˆ24+2Nï¼‰å­—èŠ‚</p>
<p>ä½†è€ƒè™‘åˆ°å­—ç¬¦ä¸²ç»å¸¸ä¼šå’Œå­å­—ç¬¦ä¸²æ‰“äº¤é“ï¼Œä½†å­—ç¬¦ä¸²å€¼çš„å¤åˆ¶ä¼šäº§ç”Ÿå¾ˆå¤§çš„å¼€é”€ï¼Œæ‰€ä»¥Javaä¼šå¸Œæœ›å°½é‡é¿å…åœ¨åˆ›å»ºå­—ç¬¦ä¸²æ—¶è¿›è¡Œå­—ç¬¦ä¸²çš„å¤åˆ¶</p>
<p>æ‰€ä»¥å½“æˆ‘ä»¬è°ƒç”¨<code>substring()</code>æ—¶ï¼Œæˆ‘ä»¬è™½ç„¶ä»ç„¶ä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä½†å…¶ä¸­æ•°ç»„å¼•ç”¨å¯ä»¥æŒ‡å‘æ—§æ•°ç»„ï¼Œåªéœ€æ”¹å˜åç§»é‡ä¸é•¿åº¦å³å¯</p>
<p>å› æ­¤ï¼Œä¸€ä¸ªå­å­—ç¬¦ä¸²æ‰€éœ€çš„é¢å¤–å†…å­˜æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œæ„å»ºä¸€ä¸ªå­å­—ç¬¦ä¸²æ‰€éœ€çš„æ—¶é—´ä¹Ÿæ˜¯å¸¸æ•°</p>
<hr>
<h3 id="å±•æœ›">å±•æœ›</h3>
<p>è‰¯å¥½çš„æ€§èƒ½æ˜¯éå¸¸é‡è¦çš„ï¼Œæ•ˆç‡æä½çš„ç¨‹åºå‡ ä¹å’Œä¸æ­£ç¡®çš„ç¨‹åºä¸€æ ·æ— ç”¨ï¼Œå› æ­¤å…³æ³¨ç¨‹åºçš„è¿è¡Œå¼€é”€æ˜¯é‡è¦çš„</p>
<p>ä½†åœ¨ç¼–ç¨‹é¢†åŸŸä¸­ï¼Œæœ‰ä¸¤ä¸ªå¸¸è§é”™è¯¯æ—¶å¸¸å‘ç”Ÿ</p>
<ul>
<li>å…¶ä¸€æ˜¯è¿‡äºå…³æ³¨çš„ç¨‹åºçš„æ€§èƒ½</li>
</ul>
<p>æˆ‘ä»¬åº”å…ˆæ˜ç™½ï¼Œæˆ‘ä»¬çš„é¦–è¦ä»»åŠ¡æ˜¯å†™å‡ºæ¸…æ™°è€Œæ˜ç¡®çš„ä»£ç ï¼Œè€ŒéèŠ±è´¹å¤§é‡æ—¶é—´å´åªè®©ç¨‹åºå¿«äº†0.1ç§’</p>
<p>ç‰¹åˆ«æ˜¯åœ¨è®¡ç®—æœºç¡¬ä»¶å¦‚æ­¤å‘è¾¾çš„ä»Šå¤©ï¼Œå¯¹äºä¸€ä¸ªè¿è¡Œåªéœ€è¦ä¸€ç¬çš„ç¨‹åºè€Œè¨€ï¼Œå³ä½¿ä½ è®©ä»–å¿«äº†10å€ä¹Ÿæ˜¯æ— å…³ç´§è¦çš„</p>
<p>è€Œå¿«é€Ÿæ’åºçš„å‘æ˜è€…Hoareä¹Ÿæ›¾è¯´è¿‡ï¼šâ€<strong>ä¸æˆç†Ÿçš„ä¼˜åŒ–æ˜¯æ‰€æœ‰ç½ªæ¶ä¹‹æºã€‚</strong>â€œ</p>
<ul>
<li>å…¶äºŒæ˜¯å®Œå…¨å¿½ç•¥äº†ç¨‹åºçš„æ€§èƒ½</li>
</ul>
<p>è¾ƒå¿«çš„ç®—æ³•å¾€å¾€æ¯”æš´åŠ›æ±‚è§£å¤æ‚è®¸å¤šï¼Œè¿™ä¹Ÿå¯¼è‡´äº†ä¸€éƒ¨åˆ†äººä¸æ„¿æ„åº”ä»˜å®ƒä»¬ï¼Œä½†å®é™…ä¸Šï¼Œæœ‰æ—¶å€™å‡ è¡Œä»£ç çš„ä¼˜åŒ–ä¾¿å¯ä»¥å¸¦æ¥æˆå€çš„æ€§èƒ½æå‡</p>
<p>åŒæ—¶ï¼Œå½“æˆ‘ä»¬é¢ä¸´å¤§è§„æ¨¡é—®é¢˜æ—¶ï¼Œå¯»æ‰¾æ›´å¥½çš„ç®—æ³•æ˜¯æˆ‘ä»¬çš„å”¯ä¸€è§£</p>
<hr>
<h2 id="æ¡ˆä¾‹ç ”ç©¶ï¼šunion-findç®—æ³•">æ¡ˆä¾‹ç ”ç©¶ï¼šunion-findç®—æ³•</h2>
<p>ä¸‹é¢è®©æˆ‘ä»¬ä»ä¸€ä¸ªå®é™…æ¡ˆä¾‹å…¥æ‰‹ï¼Œå¼€å§‹æˆ‘ä»¬çœŸæ­£æ„ä¹‰ä¸Šçš„ç®—æ³•å­¦ä¹ å§ï¼</p>
<h3 id="é—®é¢˜æè¿°ï¼šåŠ¨æ€è¿é€šæ€§çš„åˆ¤å®š">é—®é¢˜æè¿°ï¼šåŠ¨æ€è¿é€šæ€§çš„åˆ¤å®š</h3>
<p>å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202310071311415.png" alt="img"></p>
<p>å‡è®¾æˆ‘ä»¬è¾“å…¥äº†ä¸€ç»„æ•´æ•°å¯¹ï¼Œå³ä¸Šå›¾ä¸­çš„<code>(4, 3) (3, 8)</code>ç­‰ç­‰ï¼Œæ¯å¯¹æ•´æ•°ä»£è¡¨è¿™ä¸¤ä¸ªpoints/sitesæ˜¯è¿é€šçš„ã€‚é‚£ä¹ˆéšç€æ•°æ®çš„ä¸æ–­è¾“å…¥ï¼Œæ•´ä¸ªå›¾çš„è¿é€šæ€§ä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ï¼Œä»ä¸Šå›¾ä¸­å¯ä»¥å¾ˆæ¸…æ™°çš„å‘ç°è¿™ä¸€ç‚¹ã€‚åŒæ—¶ï¼Œå¯¹äºå·²ç»å¤„äºè¿é€šçŠ¶æ€çš„points/sitesï¼Œç›´æ¥å¿½ç•¥ï¼Œæ¯”å¦‚ä¸Šå›¾ä¸­çš„<code>(8, 9)</code></p>
<hr>
<h3 id="åŠ¨æ€è¿é€šæ€§çš„åº”ç”¨">åŠ¨æ€è¿é€šæ€§çš„åº”ç”¨</h3>
<ul>
<li>ç½‘ç»œè¿æ¥åˆ¤æ–­</li>
</ul>
<p>å¦‚æœæ¯ä¸ªpairä¸­çš„ä¸¤ä¸ªæ•´æ•°åˆ†åˆ«ä»£è¡¨ä¸€ä¸ªç½‘ç»œèŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¯¥pairå°±æ˜¯ç”¨æ¥è¡¨ç¤ºè¿™ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯éœ€è¦è¿é€šçš„ã€‚é‚£ä¹ˆä¸ºæ‰€æœ‰çš„pairså»ºç«‹äº†åŠ¨æ€è¿é€šå›¾åï¼Œå°±èƒ½å¤Ÿå°½å¯èƒ½å°‘çš„å‡å°‘å¸ƒçº¿çš„éœ€è¦ï¼Œå› ä¸ºå·²ç»è¿é€šçš„ä¸¤ä¸ªèŠ‚ç‚¹ä¼šè¢«ç›´æ¥å¿½ç•¥æ‰</p>
<ul>
<li>å˜é‡åç­‰ä»·æ€§</li>
</ul>
<p>æŸäº›ç¼–ç¨‹ç¯å¢ƒå…è®¸å£°æ˜ä¸¤ä¸ªç­‰ä»·çš„å˜é‡åï¼ˆæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡çš„å¤šä¸ªå¼•ç”¨ï¼‰ï¼Œåœ¨ä¸€ç³»åˆ—åˆ«åè¢«å£°æ˜åï¼Œç³»ç»Ÿéœ€è¦èƒ½å¤Ÿåˆ¤åˆ«ä¸¤ä¸ªç»™å®šçš„å˜é‡åæ˜¯å¦ç­‰ä»·</p>
<ul>
<li>æ•°å­¦é›†åˆ</li>
</ul>
<p>åœ¨æ›´é«˜çš„æŠ½è±¡å±‚æ¬¡ä¸Šï¼Œå¯ä»¥å°†è¾“å…¥çš„æ‰€æœ‰æ•´æ•°çœ‹åšå±äºä¸åŒçš„æ•°å­¦é›†åˆï¼Œåœ¨å¤„ç†ä¸€ä¸ªæ•´æ•°å¯¹pqæ—¶ï¼Œæˆ‘ä»¬æ˜¯åœ¨åˆ¤æ–­å®ƒä»¬æ˜¯å¦å±äºç›¸åŒçš„é›†åˆï¼Œå¦‚æœä¸æ˜¯ï¼Œæˆ‘ä»¬ä¼šå°†pæ‰€å±çš„é›†åˆå’Œqæ‰€å±çš„é›†åˆå½’å¹¶åˆ°ä¸€ä¸ªé›†åˆä¸­</p>
<hr>
<h3 id="å®ç°">å®ç°</h3>
<h4 id="APIä¸æ¡†æ¶">APIä¸æ¡†æ¶</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UnionFind</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] id;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> count;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UnionFind</span><span class="params">(<span class="type">int</span> N)</span></span><br><span class="line">    &#123;</span><br><span class="line">        count = N;</span><br><span class="line">        id = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">            id[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getCount</span><span class="params">()</span> &#123; <span class="keyword">return</span> count; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">connected</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span> &#123; <span class="keyword">return</span> find(p) == find(q); &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> k)</span> <span class="comment">// todo</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">union</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span> <span class="comment">// todo</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> StdIn.readInt();</span><br><span class="line">        <span class="type">UnionFind</span> <span class="variable">uf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UnionFind</span>(N);</span><br><span class="line">        <span class="keyword">while</span> (!StdIn.isEmpty())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">p</span> <span class="operator">=</span> StdIn.readInt();</span><br><span class="line">            <span class="type">int</span> <span class="variable">q</span> <span class="operator">=</span> StdIn.readInt();</span><br><span class="line">            <span class="keyword">if</span> (uf.connected(p, q))</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            uf.union(p, q);</span><br><span class="line">            StdOut.println(p + <span class="string">&quot; &quot;</span> + q);</span><br><span class="line">        &#125;</span><br><span class="line">        StdOut.println(uf.getCount() + <span class="string">&quot;components&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p><code>int id[]</code>ï¼šæ ‡è¯†ç¬¦æ•°ç»„ï¼Œç´¢å¼•ä¸ºè§¦ç‚¹å€¼</p>
</li>
<li>
<p><code>void union(int p, int q)</code>ï¼šå¦‚æœä¸¤ä¸ªè§¦ç‚¹åœ¨ä¸åŒåˆ†é‡ä¸­ï¼Œ<code>union()</code>ä¼šå°†ä¸¤ä¸ªåˆ†é‡å½’å¹¶</p>
</li>
<li>
<p><code>int find(int k)</code>ï¼šè¿”å›ç»™å®šè§¦ç‚¹æ‰€åœ¨åˆ†é‡çš„æ ‡è¯†ç¬¦</p>
</li>
<li>
<p><code>boolean connected(int p, int q)</code>ï¼šåˆ¤æ–­ä¸¤ä¸ªè§¦ç‚¹æ˜¯å¦å¤„äºåŒä¸€ä¸ªåˆ†é‡ä¸­</p>
</li>
<li>
<p><code>int getCount()</code>ï¼šè¿”å›æ‰€æœ‰è¿é€šåˆ†é‡çš„æ•°é‡</p>
</li>
</ul>
<h4 id="quick-findç®—æ³•"><code>quick-find</code>ç®—æ³•</h4>
<p>æˆ‘ä»¬å¯ä»¥å¼•å…¥â€œæ ‡è¯†å€¼â€æ¦‚å¿µæ¥è¡¨ç¤ºæŸä¸€åˆ†é‡ï¼Œå³åŒä¸€åˆ†é‡çš„æ ‡ç¤ºå€¼éƒ½ç›¸åŒ</p>
<p>ç›´æ¥å°†<code>id[p]</code>ä½œä¸º<code>p</code>è§¦ç‚¹çš„æ ‡è¯†å€¼ï¼Œé‚£ä¹ˆè‹¥<code>id[p]==id[q]</code>ï¼Œåˆ™på’Œqæ˜¯è¿é€šçš„</p>
<p>å¦‚æ­¤ä¸€æ¥æˆ‘ä»¬åªéœ€è¦ä¿è¯å°†åŒä¸€åˆ†é‡çš„è§¦ç‚¹çš„æ ‡è¯†ç¬¦éƒ½ç»Ÿä¸€å³å¯</p>
<ul>
<li><code>int find(int k)</code>ï¼šè¿”å›<code>id[k]</code>çš„å€¼å³å¯</li>
<li><code>void union(int p, int q)</code>ï¼šå…ˆåˆ¤æ–­qã€pæ˜¯å¦è¿é€šï¼Œå¦‚æœæ˜¯åˆ™ç›´æ¥è¿”å›ï¼Œå¦‚æœä¸æ˜¯é‚£ä¹ˆéå†<code>id</code>ï¼Œå°†<code>id</code>ä¸­æ‰€æœ‰æ ‡è¯†å€¼ç­‰äº<code>id[p]</code>çš„æ”¹ä¸º<code>id[q]</code>å³å¯</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> k)</span> &#123; <span class="keyword">return</span> id[k]; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">union</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">pID</span> <span class="operator">=</span> id[p];</span><br><span class="line">    <span class="type">int</span> <span class="variable">qID</span> <span class="operator">=</span> id[q];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (pID == qID)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; id.length; i++)</span><br><span class="line">        <span class="keyword">if</span> (id[i] == pID) id[i] = qID;</span><br><span class="line">    count--;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>åˆ†æï¼šåœ¨<code>quick-find</code>ä¸­ï¼Œ<code>find()</code>æ“ä½œéå¸¸å¿«ï¼Œä½†æ˜¯<code>union()</code>æ¯æ¬¡éƒ½éœ€è¦éå†æ•´ä¸ªæ•°ç»„ï¼Œå½“é—®é¢˜è§„æ¨¡è¾ƒå¤§æ—¶æ•ˆç‡è¾ƒä½ï¼Œå…¶æ—¶é—´å¤æ‚åº¦çº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>N</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">N^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></strong></p>
</blockquote>
<h4 id="quick-unionç®—æ³•"><code>quick-union</code>ç®—æ³•</h4>
<p>åœ¨<code>quick-find</code>ä¸­ï¼ŒåŒä¸€åˆ†é‡ä¸­æ‰€æœ‰å…ƒç´ éƒ½æ‹¥æœ‰åŒä¸€æ ‡è¯†å€¼</p>
<p>è€Œå®é™…ä¸Šæˆ‘ä»¬å¹¶ä¸éœ€è¦ä½¿å¾—åˆ†é‡ä¸­çš„æ ‡è¯†å€¼éƒ½ç›¸åŒï¼Œä¹Ÿèƒ½è¡¨ç¤ºä¸€ä¸ªåˆ†é‡</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨â€œå•å‘é“¾æ¥â€ï¼Œå³æŒ‡å‘çš„æ–¹å¼æ¥è¿é€šä¸¤ä¸ªè§¦ç‚¹ï¼Œä¸€ä¸ªè§¦ç‚¹çš„æ ‡è¯†å€¼ä¸ºå¦ä¸€ä¸ªä¸ä¹‹è¿é€šçš„è§¦ç‚¹ï¼Œè‹¥pä¸qæ˜¯è¿é€šçš„ï¼Œé‚£ä¹ˆ<code>id[p] = q</code>ï¼Œå³<code>p</code>æŒ‡å‘<code>q</code></p>
<p>å› ä¸ºåˆ†é‡æ˜¯ç”±å•å‘é“¾æ¥çš„ä¸€ä¸ªä¸ªè§¦ç‚¹æ„æˆï¼Œæ‰€ä»¥æ€»ä¼šå­˜åœ¨ä¸€ä¸ª<code>k = id[k]</code>çš„æ ¹è§¦ç‚¹ï¼Œå…¶ç±»ä¼¼é“¾è¡¨çš„å¤´ï¼Œè€Œæˆ‘ä»¬è¿›è¡Œé“¾æ¥æ—¶ä¹Ÿæ˜¯å¯¹æ ¹è§¦ç‚¹è¿›è¡Œæ“ä½œ</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202310071807652.png" alt="img"></p>
<ul>
<li><code>int find(int k)</code>ï¼šæ‰¾åˆ°å¹¶è¿”å›æ ¹è§¦ç‚¹</li>
<li><code>void union(int p, int q)</code>ï¼šæ‰¾åˆ°éœ€è¦å½’å¹¶çš„ä¸¤ä¸ªåˆ†é‡çš„æ ¹è§¦ç‚¹ï¼Œå°†å…¶ä¸­çš„ä¸€ä¸ªæŒ‡å‘è‡³å¦ä¸€ä¸ªå³å¯</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> k)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span> (k != id[k])</span><br><span class="line">        k = id[k];</span><br><span class="line">    <span class="keyword">return</span> k;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">union</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">pRoot</span> <span class="operator">=</span> find(p);</span><br><span class="line">    <span class="type">int</span> <span class="variable">qRoot</span> <span class="operator">=</span> find(q);</span><br><span class="line">    <span class="keyword">if</span> (pRoot == qRoot)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    id[pRoot] = qRoot;</span><br><span class="line">    count--;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>åˆ†æï¼šå¯¹äº<code>quick-union</code>ç®—æ³•çš„æˆæœ¬åˆ†æè¾ƒä¸ºå›°éš¾ï¼Œå…¶æ•ˆç‡ä¼šéšç€è¾“å…¥çš„æ”¹å˜å‘ç”Ÿå¾ˆå¤§çš„å˜åŒ–ï¼Œåœ¨æœ€å¥½çš„æƒ…å†µä¸‹å…¶æ—¶é—´å¤æ‚åº¦å¯ä»¥è¾¾åˆ°çº¿æ€§çº§åˆ«ï¼Œè€Œæœ€åæƒ…å†µä¸‹å…¶ä¹Ÿä¼šåˆ°è¾¾<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>N</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">N^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>çš„å¤æ‚åº¦ï¼Œä½†æ€»çš„æ¥è¯´ï¼Œ<code>quick-union</code>è™½ç„¶ä¸èƒ½ä¿è¯å…¶åœ¨æ¯ç§æƒ…å†µä¸‹éƒ½æ¯”<code>quick-find</code>è¦å¿«ï¼Œä½†å…¶ä»ç„¶æ˜¯å¯¹<code>quick-find</code>ç®—æ³•çš„æ”¹è‰¯</strong></p>
</blockquote>
<h4 id="åŠ æƒquick-unionç®—æ³•">åŠ æƒ<code>quick-union</code>ç®—æ³•</h4>
<p><code>quick-union</code>ä¸­åŸºäºâ€œå•å‘é“¾æ¥â€çš„è§¦ç‚¹å…³ç³»çš„ç»„ç»‡æ–¹å¼æ˜¯ç±»ä¼¼æ•°æ®ç»“æ„ä¸­çš„â€œæ ‘â€çš„æ–¹å¼ï¼Œè€Œå½±å“<code>quick-union</code>æ•ˆç‡çš„ä¸€ä¸ªå¾ˆé‡è¦çš„å› ç´ ä¾¿æ˜¯æ ‘çš„æ·±åº¦è¿‡æ·±ï¼Œå¯¼è‡´ä½¿ç”¨<code>find()</code>å¯»æ‰¾æ ¹èŠ‚ç‚¹æ—¶ï¼Œéœ€è¦ç»å†å¾ˆé•¿éå†ï¼›è¿™ä¸€æƒ…å†µçš„äº§ç”Ÿå¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯ç”±äºåœ¨é“¾æ¥ä¸¤é¢—æ ‘æ—¶é¡ºåºçš„éšæ„ï¼Œå¯¼è‡´è¾ƒæ·±çš„æ ‘è¢«é“¾æ¥åˆ°äº†è¾ƒæµ…çš„æ ‘çš„æ ¹èŠ‚ç‚¹ä¸Šï¼Œä½¿å¾—æ ‘å˜å¾—è¶Šæ¥è¶Šæ·±ï¼Œè€Œæˆ‘ä»¬è‹¥èƒ½è®°å½•æ¯æ£µæ ‘çš„æ·±åº¦ï¼Œå¹¶ä»¥æ­¤æœ‰é¡ºåºåœ°è¿›è¡Œåˆ†é‡çš„é“¾æ¥ï¼Œ<code>quick-union</code>ç®—æ³•çš„æ•ˆç‡ä¾¿å¯ä»¥å¾—åˆ°å¤§å¹…æå‡ï¼Œè¿™ä¾¿æ˜¯åŠ æƒ<code>quick-union</code>ç®—æ³•</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202310072332226.png" alt="img"></p>
<p>åŠ æƒ<code>quick-union</code>ç®—æ³•éœ€è¦ä¸€ä¸ªé¢å¤–çš„æ•°ç»„æ¥è®°å½•å„ä¸ªåˆ†é‡çš„æ·±åº¦ï¼Œä¸‹é¢æ˜¯åŠ æƒ<code>quick-union</code>ç®—æ³•çš„åŸºæœ¬å®ç°ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WeightedQuickUnionFind</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] id;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] size;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> count;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">WeightedQuickUnionFind</span><span class="params">(<span class="type">int</span> N)</span></span><br><span class="line">    &#123;</span><br><span class="line">        count = N;</span><br><span class="line">        id = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">        size = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            id[i] = i;</span><br><span class="line">            size[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getCount</span><span class="params">()</span> &#123; <span class="keyword">return</span> count; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">connected</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span>&#123; <span class="keyword">return</span> find(p) == find(q); &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> k)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span> (k != id[k])</span><br><span class="line">            k = id[k];</span><br><span class="line">        <span class="keyword">return</span> k;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">union</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">pRoot</span> <span class="operator">=</span> find(p);</span><br><span class="line">        <span class="type">int</span> <span class="variable">qRoot</span> <span class="operator">=</span> find(q);</span><br><span class="line">        <span class="keyword">if</span> (pRoot == qRoot)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (size[pRoot] &gt; size[qRoot])</span><br><span class="line">        &#123; </span><br><span class="line">            id[qRoot] = pRoot; </span><br><span class="line">            size[pRoot] += size[qRoot];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123; </span><br><span class="line">            id[pRoot] = qRoot; </span><br><span class="line">            size[qRoot] += size[pRoot];</span><br><span class="line">        &#125;</span><br><span class="line">        count--;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> StdIn.readInt();</span><br><span class="line">        <span class="type">WeightedQuickUnionFind</span> <span class="variable">uf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">WeightedQuickUnionFind</span>(N);</span><br><span class="line">        <span class="keyword">while</span> (!StdIn.isEmpty())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">p</span> <span class="operator">=</span> StdIn.readInt();</span><br><span class="line">            <span class="type">int</span> <span class="variable">q</span> <span class="operator">=</span> StdIn.readInt();</span><br><span class="line">            <span class="keyword">if</span> (uf.connected(p, q))</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            uf.union(p, q);</span><br><span class="line">            StdOut.println(p + <span class="string">&quot; &quot;</span> + q);</span><br><span class="line">        &#125;</span><br><span class="line">        StdOut.println(uf.getCount() + <span class="string">&quot;components&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>åˆ†æï¼šåŠ æƒ<code>quick-union</code>ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å¯ä»¥è¾¾åˆ°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>lg</mi><mo>â¡</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">\lg N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mop">l<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>ï¼Œå…¶æ˜¯ä¸‰ç§ç®—æ³•ä¸­å”¯ä¸€å¯ä»¥è§£å†³å¤§è§„æ¨¡å®é™…é—®é¢˜çš„ç®—æ³•</strong></p>
</blockquote>
<p><strong>ä¸ºä»€ä¹ˆä½¿ç”¨åˆ†é‡çš„å¤§å°è€Œéé«˜åº¦ä½œä¸ºæ¯”è¾ƒå€¼ï¼Ÿ</strong></p>
<ul>
<li>å› ä¸ºunion-findä¸­æ ‘çš„æ„æˆæ–¹å¼ï¼Œå…¶å½¢æˆçš„æ•°çš„é«˜åº¦æ°¸è¿œä¸ä¼šå¤§äºå¤§å°çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mi>log</mi><mo>â¡</mo></mrow><mn>2</mn></msub><mi>N</mi></mrow><annotation encoding="application/x-tex">\log_2N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9386em;vertical-align:-0.2441em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>ï¼Œæ‰€ä»¥å¹¶ä¸ä¼šé€ æˆé—®é¢˜ï¼Œå…¶å¸¦æ¥çš„æ€§èƒ½å˜åŒ–å¾®ä¹å…¶å¾®</li>
<li>union-findä¸­æ ‘çš„å¤§å°æ›´å¥½è¿½è¸ªï¼Œç‰¹åˆ«æ˜¯ä½¿ç”¨äº†è·¯å¾„å‹ç¼©æ–¹æ³•åï¼Œæ ‘çš„æ ¹èŠ‚ç‚¹ä¸é«˜åº¦ä¼šå‘ç”Ÿå˜åŒ–ï¼Œé«˜åº¦å¾ˆéš¾å‡†ç¡®è¿½è¸ª</li>
</ul>
<h4 id="æœ€ä¼˜ç®—æ³•ï¼šè·¯å¾„å‹ç¼©ä¼˜åŒ–">æœ€ä¼˜ç®—æ³•ï¼šè·¯å¾„å‹ç¼©ä¼˜åŒ–</h4>
<p>æœ€å¥½çš„ç®—æ³•æ€»æ˜¯å¤§å®¶æ‰€è¶‹ä¹‹è‹¥é¹œçš„ï¼Œè€ŒåŠ æƒ<code>quick-union</code>ç®—æ³•è™½å·²ç»å¾ˆä¼˜ç§€ï¼Œä½†ä»ç„¶è¿˜æœ‰ä¼˜åŒ–ç©ºé—´</p>
<p>è·¯å¾„å‹ç¼©æ–¹æ³•ä¾¿æ˜¯å¾ˆå®¹æ˜“å®ç°çš„é«˜æ•ˆä¼˜åŒ–æ€è·¯ï¼Œå…¶ä¼˜åŒ–æ€è·¯éå¸¸ç®€å•ï¼Œæ—¢ç„¶æˆ‘ä»¬å¸Œæœ›æ ‘çš„æ·±åº¦å°½é‡å°ï¼Œé‚£ä¹ˆè®©å…ƒç´ å°½é‡é“¾æ¥åœ¨æ ¹èŠ‚ç‚¹ä¸Šå°±è¡Œäº†ï¼Œåªéœ€è¦ä¸º<code>find()</code>æ·»åŠ ä¸€ä¸ªå¾ªç¯ï¼Œå°†åœ¨è·¯å¾„ä¸Šé‡åˆ°çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½ç›´æ¥é“¾æ¥åˆ°æ ¹èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±èƒ½å¾—åˆ°ä¸€ä¸ªè¿‘ä¹å®Œå…¨æ‰å¹³çš„æ ‘</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> k)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">root</span> <span class="operator">=</span> k;</span><br><span class="line">    <span class="comment">// æ‰¾åˆ°æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">while</span> (root != id[root])</span><br><span class="line">        root = id[root];</span><br><span class="line">    <span class="comment">// å°†ä¸­é—´æ‰€æœ‰çš„èŠ‚ç‚¹é“¾æ¥è‡³æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">while</span> (k != root)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">next</span> <span class="operator">=</span> id[k];</span><br><span class="line">        id[k] = root;</span><br><span class="line">        k = next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ç§æ–¹æ³•ç®€å•æœ‰æ•ˆï¼Œå…¶å¯ä»¥äº§ç”Ÿè¿‘ä¹äºç†æƒ³æƒ…å†µä¸‹çš„æ ‘</p>
<p>è€ŒåŠ ä¸Šè·¯å¾„å‹ç¼©æ–¹æ³•åï¼Œå®é™…æƒ…å†µä¸‹å·²ç»å¾ˆéš¾å†å¯¹åŠ æƒ<code>quick-union</code>ç®—æ³•è¿›è¡Œæ”¹è¿›äº†</p>
<blockquote>
<p><strong>è·¯å¾„å‹ç¼©çš„quick-unionç®—æ³•æ˜¯è§£å†³åŠ¨æ€è¿é€šæ€§é—®é¢˜çš„æœ€ä½³ç®—æ³•ï¼Œå…¶å‡æ‘Šæ•ˆç‡å¯ä»¥æ¥è¿‘ä¸å¸¸æ•°çº§</strong></p>
</blockquote>
]]></content>
      <categories>
        <category>Notes</category>
        <category>Algorithm</category>
        <category>ã€ŠAlgorithms, 4th Editionã€‹</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
        <tag>Note</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŒAlgorithm4ã€è¯»ä¹¦ç¬”è®°ä¸‰ï¼šæŸ¥æ‰¾</title>
    <url>/posts/4003/</url>
    <content><![CDATA[<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202409300327321.png" alt="algorithm4" style="zoom: 50%;" />
<blockquote>
<p><strong>å®˜ç½‘ï¼š<a href="https://algs4.cs.princeton.edu/home/">https://algs4.cs.princeton.edu/home/</a></strong></p>
<p><strong>ç¬”è®°ç›®å½•ï¼š<a href="https://hmxs.games/posts/4000/">https://hmxs.games/posts/4000/</a></strong></p>
</blockquote>
<hr>
<h1>æŸ¥æ‰¾</h1>
<p>æŸ¥æ‰¾ä¾¿æ˜¯å°½å¯èƒ½é«˜æ•ˆåœ°åœ¨æ•°æ®é›†åˆä¸­å®šä½ç‰¹å®šå…ƒç´ çš„è¿‡ç¨‹ï¼Œè€Œç°ä»£è®¡ç®—æœºå’Œç½‘ç»œä½¿æˆ‘ä»¬èƒ½å¤Ÿå¾—ä»¥è®¿é—®åˆ°æå…¶æµ·é‡çš„ä¿¡æ¯ï¼Œè¿™æ—¶ï¼ŒæŸ¥æ‰¾ä¾¿æ˜¾å¾—æä¸ºé‡è¦ã€‚æœ¬ç« å°†ä»‹ç»ä¸€äº›ç»å…¸æŸ¥æ‰¾ç®—æ³•ã€‚</p>
<p>ç¬¦å·è¡¨ï¼ˆå­—å…¸ï¼‰æ˜¯å¯¹äºæŸ¥æ‰¾çš„æŠ½è±¡æ•°æ®ç»“æ„å®ç°ï¼Œå…¶æœ€ä¸»è¦çš„ç›®çš„å°±æ˜¯å°†ä¸€ä¸ªé”®ï¼ˆ<code>key</code>ï¼‰å’Œä¸€ä¸ªå€¼ï¼ˆ<code>value</code>ï¼‰è”ç³»èµ·æ¥ï¼Œé€šè¿‡é”®æˆ‘ä»¬ä¾¿å¯ä»¥å¿«é€Ÿè®¿é—®åˆ°å€¼ï¼Œè€Œå…¶å®ç°æœ‰ç€å¤šç§æ–¹å¼ï¼Œå¦‚äºŒå‰æŸ¥æ‰¾æ ‘ã€çº¢é»‘æ ‘ã€æ•£åˆ—è¡¨ç­‰ï¼Œåœ¨æœ¬ç« ä¸­å°†ç€é‡ä»‹ç»å®ƒä»¬ã€‚</p>
<p><em>ä½¿ç”¨äº†C++å¯¹æŸ¥æ‰¾ç®—æ³•è¿›è¡Œäº†é‡æ–°å®ç°ï¼Œåœ¨<a href="https://github.com/hmxsqaq/Algorithm-Searching">è¿™ä¸€Githubä»“åº“ä¸‹</a>å¯ä»¥æ‰¾åˆ°æˆ‘çš„å…¨éƒ¨å®ç°</em></p>
<h2 id="é¡ºåºæŸ¥æ‰¾ç¬¦å·è¡¨-Sequential-search-in-an-unordered-linked-list">é¡ºåºæŸ¥æ‰¾ç¬¦å·è¡¨ - Sequential search in an unordered linked list</h2>
<p>è¿™æ˜¯æœ€ç®€å•çš„ä¸€ç§å¯¹äºç¬¦å·è¡¨çš„å®ç°ï¼šæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é“¾è¡¨æ¥å­˜å‚¨æ•°æ®ï¼Œåœ¨æˆ‘ä»¬éœ€è¦è·å–æ•°æ®æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦ä»å¤´ä¸€ä¸ªä¸ªæŸ¥æ‰¾è¿‡å»å³å¯ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KEY, <span class="keyword">typename</span> VALUE&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SequentialSearchSymbolTable</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    ~<span class="built_in">SequentialSearchSymbolTable</span>() &#123;</span><br><span class="line">        <span class="keyword">while</span> (head_ != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            Node* old = head_;</span><br><span class="line">            head_ = head_-&gt;next;</span><br><span class="line">            <span class="keyword">delete</span> old;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">put</span><span class="params">(KEY key, VALUE value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Node* x = head_; x != <span class="literal">nullptr</span>; x = x-&gt;next) &#123;</span><br><span class="line">            <span class="keyword">if</span> (x-&gt;key == key) &#123;</span><br><span class="line">                x-&gt;value = value;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        head_ = <span class="keyword">new</span> <span class="built_in">Node</span>(key, value, head_);</span><br><span class="line">        size_++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">std::optional&lt;VALUE&gt; <span class="title">get</span><span class="params">(KEY key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Node* x = head_; x != <span class="literal">nullptr</span>; x = x-&gt;next) &#123;</span><br><span class="line">            <span class="keyword">if</span> (x-&gt;key == key) &#123;</span><br><span class="line">                <span class="keyword">return</span> x-&gt;value;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> std::<span class="literal">nullopt</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">remove</span><span class="params">(KEY key)</span> </span>&#123;</span><br><span class="line">        Node* previous = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="keyword">for</span> (Node* x = head_; x != <span class="literal">nullptr</span>; previous = x, x = x-&gt;next) &#123;</span><br><span class="line">            <span class="keyword">if</span> (x-&gt;key == key) &#123;</span><br><span class="line">                <span class="keyword">if</span> (previous != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">                    previous-&gt;next = x-&gt;next;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    head_ = x-&gt;next;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">delete</span> x;</span><br><span class="line">                size_--;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">contains</span><span class="params">(KEY key)</span> </span>&#123; <span class="keyword">return</span> <span class="built_in">get</span>(key).<span class="built_in">has_value</span>(); &#125;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">is_empty</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> head_ == <span class="literal">nullptr</span>; &#125;</span><br><span class="line">    <span class="function"><span class="type">size_t</span> <span class="title">size</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> size_;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">        KEY key;</span><br><span class="line">        VALUE value;</span><br><span class="line">        Node* next;</span><br><span class="line">        <span class="built_in">Node</span>(KEY key, VALUE value, Node* next) : <span class="built_in">key</span>(key), <span class="built_in">value</span>(value), <span class="built_in">next</span>(next) &#123;&#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    Node* head_ = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="type">size_t</span> size_ = <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šä½¿ç”¨äº†C++ç®€å•åœ°å®ç°äº†ä¸€ä¸ªé¡ºåºç¬¦å·è¡¨ï¼Œå…¶ä½¿ç”¨äº†ä¸€ä¸ªç§æœ‰å†…éƒ¨<code>Node</code>ç±»æ¥è¡¨ç¤ºé“¾è¡¨èŠ‚ç‚¹ç”¨äºå­˜å‚¨<code>KEY</code>ä¸<code>VALUE</code>ï¼Œ<code>get</code>ä¸<code>put</code>æ–¹æ³•éƒ½ä¼šé¡ºåºåœ°æœç´¢é“¾è¡¨æŸ¥æ‰¾ç»™å®šå€¼ã€‚</p>
<p>è¿™ç§å®ç°å½“ç„¶å¯ä»¥è¿è¡Œï¼Œä½†æ˜¯å…¶æ•ˆç‡ç›¸å¯¹è¾ƒä½ï¼Œå…¶<code>get</code>ä¸<code>put</code>æ–¹æ³•éƒ½æœ‰ç€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>çº§åˆ«çš„æ—¶é—´å¤æ‚åº¦ï¼Œåœ¨é¢å¯¹å¤§è§„æ¨¡é—®é¢˜æ—¶ä¼šæ˜¾å¾—åŠ›ä¸ä»å¿ƒã€‚</p>
<h2 id="äºŒåˆ†æŸ¥æ‰¾ç¬¦å·è¡¨-Binary-search-in-an-ordered-array">äºŒåˆ†æŸ¥æ‰¾ç¬¦å·è¡¨ - Binary search in an ordered array</h2>
<p>è¿™ç§ç¬¦å·è¡¨çš„å®ç°ä¹Ÿè¾ƒä¸ºç®€å•ï¼Œå…¶é€šè¿‡ä¸€å¯¹å¹³è¡Œæ•°ç»„ï¼Œåˆ†åˆ«å­˜å‚¨é”®ä¸å€¼ï¼Œç„¶åé€šè¿‡äºŒåˆ†æŸ¥æ‰¾å®ç°æ•°æ®çš„æ’å…¥ä¸è·å–</p>
<p>é€šè¿‡ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ›¿æ¢éå†ï¼Œè¿™ç§å®ç°å¯ä»¥å°†<code>get</code>æ–¹æ³•çš„å¤æ‚åº¦ä¼˜åŒ–åˆ°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><mi>g</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">logN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;Comparable KEY, <span class="keyword">typename</span> VALUE&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BinarySearchSymbolTable</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">put</span><span class="params">(KEY key, VALUE value)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> i = <span class="built_in">rank</span>(key);</span><br><span class="line">        <span class="keyword">if</span> (i &lt; keys_.<span class="built_in">size</span>() &amp;&amp; keys_[i] == key) &#123;</span><br><span class="line">            values_[i] = value;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        keys_.<span class="built_in">insert</span>(keys_.<span class="built_in">begin</span>() + i, key);</span><br><span class="line">        values_.<span class="built_in">insert</span>(values_.<span class="built_in">begin</span>() + i, value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">std::optional&lt;VALUE&gt; <span class="title">get</span><span class="params">(KEY key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">is_empty</span>()) <span class="keyword">return</span> std::<span class="literal">nullopt</span>;</span><br><span class="line">        <span class="type">int</span> i = <span class="built_in">rank</span>(key);</span><br><span class="line">        <span class="keyword">if</span> (i &lt; keys_.<span class="built_in">size</span>() &amp;&amp; keys_[i] == key) &#123;</span><br><span class="line">            <span class="keyword">return</span> values_[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> std::<span class="literal">nullopt</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">remove</span><span class="params">(KEY key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">is_empty</span>()) <span class="keyword">return</span>;</span><br><span class="line">        <span class="type">int</span> i = <span class="built_in">rank</span>(key);</span><br><span class="line">        <span class="keyword">if</span> (i &lt; keys_.<span class="built_in">size</span>() &amp;&amp; keys_[i] == key) &#123;</span><br><span class="line">            keys_.<span class="built_in">erase</span>(keys_.<span class="built_in">begin</span>() + i);</span><br><span class="line">            values_.<span class="built_in">erase</span>(values_.<span class="built_in">begin</span>() + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// returns the number of keys in this symbol table strictly less than key.</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">rank</span><span class="params">(KEY key)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> left = <span class="number">0</span>, right = keys_.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">            <span class="type">int</span> mid = left + (right - left) / <span class="number">2</span>; <span class="comment">// prevent integer overflow</span></span><br><span class="line">            <span class="keyword">if</span> (key &lt; keys_[mid]) &#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (key &gt; keys_[mid]) &#123;</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">std::optional&lt;KEY&gt; <span class="title">min</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">is_empty</span>()) <span class="keyword">return</span> std::<span class="literal">nullopt</span>;</span><br><span class="line">        <span class="keyword">return</span> keys_.<span class="built_in">front</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">std::optional&lt;KEY&gt; <span class="title">max</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">is_empty</span>()) <span class="keyword">return</span> std::<span class="literal">nullopt</span>;</span><br><span class="line">        <span class="keyword">return</span> keys_.<span class="built_in">back</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">std::optional&lt;KEY&gt; <span class="title">select</span><span class="params">(<span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (k &lt; <span class="number">0</span> || k &gt;= keys_.<span class="built_in">size</span>()) <span class="keyword">return</span> std::<span class="literal">nullopt</span>;</span><br><span class="line">        <span class="keyword">return</span> keys_[k];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">std::optional&lt;KEY&gt; <span class="title">ceiling</span><span class="params">(KEY key)</span> </span>&#123; <span class="keyword">return</span> <span class="built_in">select</span>(<span class="built_in">rank</span>(key)); &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">std::optional&lt;KEY&gt; <span class="title">floor</span><span class="params">(KEY key)</span> </span>&#123; <span class="keyword">return</span> <span class="built_in">select</span>(<span class="built_in">rank</span>(key) - <span class="number">1</span>); &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">contains</span><span class="params">(KEY key)</span> </span>&#123; <span class="keyword">return</span> <span class="built_in">get</span>(key).<span class="built_in">has_value</span>(); &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">is_empty</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> keys_.<span class="built_in">empty</span>(); &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">size_t</span> <span class="title">size</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> keys_.<span class="built_in">size</span>(); &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::vector&lt;KEY&gt; keys_;</span><br><span class="line">    std::vector&lt;VALUE&gt; values_;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="äºŒå‰æŸ¥æ‰¾æ ‘-Binary-Search-Tree">äºŒå‰æŸ¥æ‰¾æ ‘ - Binary Search Tree</h2>
<p>åœ¨ä¸Šé¢çš„å®ç°ä¸­ï¼ŒäºŒå‰æŸ¥æ‰¾æ ‘å¾ˆå¥½åœ°ä¼˜åŒ–äº†ç®—æ³•çš„é€Ÿåº¦ï¼Œä½†å› ä¸ºè¦ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾è¿™ç§å®ç°ä½¿ç”¨äº†æ•°ç»„å­˜å‚¨æ•°æ®ï¼Œä½†è¿™ä¼šè®©<code>put</code>æ–¹æ³•çš„æ•ˆç‡ä¸å¤Ÿä»¤äººæ»¡æ„</p>
<p>æˆ–è®¸æˆ‘ä»¬éœ€è¦é“¾å¼åœ°å­˜å‚¨æ•°æ®æ‰èƒ½è®©æ’å…¥æ“ä½œå˜å¾—å¿«æ·ï¼Œé‚£ä¹ˆåº”è¯¥å¦‚ä½•åœ¨é“¾å¼å­˜å‚¨ä¸­ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾è§£å†³é—®é¢˜å‘¢ï¼Ÿè¿™å°±è½®åˆ°<code>äºŒå‰æŸ¥æ‰¾æ ‘ - BST</code>å‡ºåœºäº†</p>
<blockquote>
<p>äºŒå‰æŸ¥æ‰¾æ ‘åŸºäºäºŒå‰æ ‘å®ç°ï¼Œå…¶åŸºæœ¬åŸç†ä¸ºæ¯ä¸ªç»“ç‚¹çš„é”®éƒ½å¤§äºå…¶å·¦å­æ ‘ä¸­çš„ä»»æ„ç»“ç‚¹çš„é”®è€Œå°äºå³å­æ ‘ä¸­çš„ä»»æ„ç»“ç‚¹çš„é”®</p>
</blockquote>
<h3 id="åˆ é™¤æœ€å°ç»“ç‚¹">åˆ é™¤æœ€å°ç»“ç‚¹</h3>
<ul>
<li>æ‰¾åˆ°æœ€å°ç»“ç‚¹ï¼ˆä¸åœæŸ¥è¯¢å·¦å­ç»“ç‚¹ç›´åˆ°æ‰¾åˆ°å·¦å­ç»“ç‚¹ä¸ºç©ºçš„ç»“ç‚¹ï¼Œå³ä¸ºæœ€å°ç»“ç‚¹ï¼‰</li>
<li>ï¼ˆå¦‚æœæœ‰å³å­ç»“ç‚¹ï¼‰å°†æœ€å°ç»“ç‚¹çš„çˆ¶èŠ‚ç‚¹çš„å·¦å­ç»“ç‚¹ï¼Œæ›´æ–°ä¸ºæœ€å°ç»“ç‚¹çš„å³ç»“ç‚¹</li>
</ul>
<h3 id="åˆ é™¤ä»»æ„ç»“ç‚¹">åˆ é™¤ä»»æ„ç»“ç‚¹</h3>
<ul>
<li>æ‰¾åˆ°è¦è¢«åˆ é™¤çš„ç»“ç‚¹t</li>
<li>æ‰¾åˆ°tå³å­æ ‘ä¸­çš„æœ€å°ç»“ç‚¹xï¼Œxå³ä¸ºtçš„åç»§ç»“ç‚¹ï¼Œä¼šç”±xæ›¿ä»£tçš„ä½ç½®</li>
<li>åœ¨tçš„å³å­æ ‘ä¸­æ‰§è¡Œâ€œåˆ é™¤æœ€å°ç»“ç‚¹â€æ“ä½œï¼Œå³åˆ é™¤xï¼›åŒæ—¶å°†xçš„å³å­æ ‘æ›´æ–°ä¸ºtçš„å³å­æ ‘</li>
<li>å°†xçš„å·¦å­æ ‘æ›´æ–°ä¸ºtçš„å·¦å­æ ‘</li>
</ul>
<h2 id="å¹³è¡¡æŸ¥æ‰¾æ ‘-Balanced-Search-Trees">å¹³è¡¡æŸ¥æ‰¾æ ‘ - Balanced Search Trees</h2>
<p>æ™®é€šçš„äºŒå‰æŸ¥æ‰¾æ ‘çš„æ•ˆç‡å¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–è¾“å…¥çš„éšæœºæ€§ï¼Œå¦‚æœè¾“å…¥ä¸å¤Ÿéšæœºï¼Œå…¶æ•ˆç‡ä¼šå¤§å¹…ä¸‹é™ï¼›å…¶æ ¸å¿ƒåŸå› æ˜¯ï¼Œä¸å¤Ÿéšæœºçš„è¾“å…¥ä¼šè®©ç”Ÿæˆçš„æ ‘ä¸¥é‡â€œå¤±è¡¡â€</p>
<p>è€Œä¸€äº›å®ç°å¯ä»¥é€šè¿‡ä¸€äº›æ‰‹æ®µè°ƒæ•´æŸ¥æ‰¾æ ‘çš„ç»“æ„ï¼Œä»è€Œè®©æœ€åå½¢æˆçš„æŸ¥æ‰¾æ ‘æ›´åŠ å¹³è¡¡ï¼Œå¹¶ä¸”ä¸è¢«è¾“å…¥æ£è‚˜</p>
<h3 id="2-3æŸ¥æ‰¾æ ‘-2-3-Tree">2-3æŸ¥æ‰¾æ ‘ - 2-3 Tree</h3>
<p>2-3æŸ¥æ‰¾æ ‘å…è®¸éƒ¨åˆ†ç»“ç‚¹å­˜å‚¨ä¸¤ä¸ªé”®ï¼Œå…¶ç”±ä»¥ä¸‹ä¸¤ç§ç»“ç‚¹æ„æˆ</p>
<ul>
<li>2-ç»“ç‚¹ï¼šä¸€ä¸ªé”®ã€ä¸¤ä¸ªå­ç»“ç‚¹ï¼ˆ&lt;keyã€&gt;keyï¼‰</li>
<li>3-ç»“ç‚¹ï¼šä¸¤ä¸ªé”®ã€ä¸‰ä¸ªå­ç»“ç‚¹ï¼ˆ&lt;key1ã€&gt;key1 &amp; &lt;key2ã€&gt;key2ï¼‰</li>
</ul>
<p>2-3ä¼šå§‹ç»ˆä¿æŒå®Œç¾å¹³è¡¡ï¼ˆå§‹ç»ˆæ˜¯æ»¡äºŒå‰æ ‘ï¼‰</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202504050245694.png" alt="image-20250405024533495" style="zoom:50%;" />
<p>åœ¨æŸ¥æ‰¾æ“ä½œä¸Šï¼Œ2-3æ ‘å¹¶æ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šçš„ï¼Œå°±åƒæ™®é€šçš„äºŒå‰æŸ¥æ‰¾æ ‘ä¸€æ ·æ“ä½œå³å¯</p>
<p>è€Œåœ¨æ’å…¥æ“ä½œä¸Šï¼Œ2-3æ ‘ä¾¿æœ‰äº›é—¨é“äº†</p>
<p>é¦–å…ˆä¾æ®æ’å…¥å…ƒç´ å¤§å°æŸ¥æ‰¾åˆ°æœ€åï¼Œæ­¤æ—¶ä¾æ®æœ€åçš„ç»“ç‚¹ç±»å‹åˆ†ä¸ºä¸¤ç§æƒ…å†µ</p>
<p>å¦‚æœæ˜¯2-ç»“ç‚¹</p>
<ul>
<li>è®©å…ƒç´ ç›´æ¥åŠ å…¥è¿™ä¸ª2-ç»“ç‚¹ï¼Œä½¿å…¶å˜ä¸ºä¸€ä¸ª3-ç»“ç‚¹</li>
</ul>
<p>å¦‚æœæ˜¯3-ç»“ç‚¹</p>
<ul>
<li>å…ˆè®©å…ƒç´ åŠ å…¥ï¼Œä½¿å…¶å˜ä¸ºä¸€ä¸ª4-ç»“ç‚¹ï¼ˆå«æœ‰ä¸‰ä¸ªé”®ï¼‰</li>
<li>åˆ†è£‚4-ç»“ç‚¹ï¼Œè®©ä¸­é—´é”®åŠ å…¥å…¶çˆ¶èŠ‚ç‚¹ï¼Œå‰©ä½™ä¸¤ä¸ªé”®åˆ†åˆ«æˆä¸ºä¸€ä¸ª2-ç»“ç‚¹</li>
<li>å¦‚æœçˆ¶èŠ‚ç‚¹å·²ç»æ˜¯ä¸€ä¸ª3-ç»“ç‚¹äº†ï¼Œé‡å¤ä¸Šè¿°åˆ†è£‚çš„æ­¥éª¤</li>
</ul>
<p>åœ¨2-3æ ‘ä¸­ï¼Œåªæœ‰æ ¹èŠ‚ç‚¹å˜ä¸º4-ç»“ç‚¹ï¼Œå‘ç”Ÿâ€œåˆ†è£‚æ—¶ï¼Œæ ‘çš„é«˜åº¦æ‰ä¼šå¢é•¿ï¼›å’Œæ™®é€šçš„äºŒå‰æŸ¥æ‰¾æ ‘ä¸åŒï¼Œ2-3æ ‘çš„ç”Ÿé•¿æ˜¯<strong>ç”±ä¸‹å‘ä¸Šçš„</strong></p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202504050304537.png" alt="image-20250405030405424" style="zoom:50%;" />
]]></content>
      <categories>
        <category>Notes</category>
        <category>Algorithm</category>
        <category>ã€ŠAlgorithms, 4th Editionã€‹</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
        <tag>Note</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŒAlgorithm4ã€è¯»ä¹¦ç¬”è®°äºŒï¼šæ’åº</title>
    <url>/posts/4002/</url>
    <content><![CDATA[<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202310081712174.png" alt="algorithm4" style="zoom: 50%;" />
<blockquote>
<p><strong>å®˜ç½‘ï¼š<a href="https://algs4.cs.princeton.edu/home/">https://algs4.cs.princeton.edu/home/</a></strong></p>
<p><strong>ç¬”è®°ç›®å½•ï¼š<a href="https://hmxs.games/posts/4000/">https://hmxs.games/posts/4000/</a></strong></p>
</blockquote>
<hr>
<h1>æ’åº</h1>
<p>æ’åºå°±æ˜¯å°†ä¸€ç»„å¯¹è±¡æŒ‰ç…§æŸç§é€»è¾‘é¡ºåºé‡æ–°æ’åˆ—çš„è¿‡ç¨‹ï¼Œå…¶åœ¨å•†ä¸šæ•°æ®å¤„ç†å’Œç°ä»£ç§‘å­¦è®¡ç®—æ–¹é¢éƒ½æœ‰ç€é‡è¦çš„åœ°ä½ï¼Œæœ¬ç« å°†èšç„¦äºæ’åºç®—æ³•ï¼Œä»‹ç»ã€ç ”ç©¶å¹¶å®ç°å‡ ç§ç»å…¸çš„æ’åºç®—æ³•ã€‚</p>
<p><em>ä½¿ç”¨äº†C++å¯¹æ’åºç®—æ³•è¿›è¡Œäº†é‡æ–°å®ç°ï¼Œåœ¨<a href="https://github.com/hmxsqaq/Algorithm-Sorting">è¿™ä¸€Githubä»“åº“ä¸‹</a>å¯ä»¥æ‰¾åˆ°æˆ‘çš„å…¨éƒ¨å®ç°</em></p>
<h2 id="å‰è¨€">å‰è¨€</h2>
<h3 id="æ’åºç®—æ³•åŠŸèƒ½å‡½æ•°">æ’åºç®—æ³•åŠŸèƒ½å‡½æ•°</h3>
<p>ä¸‹é¢æ˜¯ä¸€äº›æ’åºæ‰€éœ€çš„åŸºæœ¬æ–¹æ³•çš„å®šä¹‰ï¼Œé€šè¿‡è¿™äº›å‡½æ•°æˆ‘ä»¬å¯ä»¥è¿›è¡Œä¸€å®šç¨‹åº¦çš„å°è£…ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿæ›´å¥½åœ°è¿½è¸ªç®—æ³•è¿è¡Œçš„è¿‡ç¨‹ï¼Œå¦‚ä¸€å…±è¿›è¡Œäº†å¤šå°‘æ¬¡çš„æ¯”è¾ƒä¸å¤šå°‘æ¬¡çš„äº¤æ¢</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Swap</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; &amp;vec, <span class="type">int</span> a, <span class="type">int</span> b)</span></span>;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">IsSmaller</span><span class="params">(<span class="type">const</span> <span class="type">int</span> &amp;a, <span class="type">const</span> <span class="type">int</span> &amp;b)</span></span>;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">IsGreater</span><span class="params">(<span class="type">const</span> <span class="type">int</span> &amp;a, <span class="type">const</span> <span class="type">int</span> &amp;b)</span></span>;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">IsEqual</span><span class="params">(<span class="type">const</span> <span class="type">int</span> &amp;a, <span class="type">const</span> <span class="type">int</span> &amp;b)</span></span>;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">IsSorted</span><span class="params">(<span class="type">const</span> std::vector&lt;<span class="type">int</span>&gt; &amp;vec)</span></span>;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">IsSorted</span><span class="params">(<span class="type">const</span> std::list&lt;<span class="type">int</span>&gt; &amp;list)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintVec</span><span class="params">(<span class="type">const</span> std::vector&lt;<span class="type">int</span>&gt; &amp;vec)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintVec</span><span class="params">(<span class="type">const</span> std::list&lt;<span class="type">int</span>&gt; &amp;list)</span></span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>IsSmaller/IsGreater/IsEqual</code>ï¼šæ¯”è¾ƒä¸¤ä¸ªæ•°æ®çš„å¤§å°</li>
<li><code>Swap</code>ï¼šäº¤æ¢ä¸¤ä¸ªæ•°æ®</li>
<li><code>PrintVec</code>ï¼šæ‰“å°æ•°ç»„</li>
<li><code>IsSorted</code>ï¼šæ£€æŸ¥æ˜¯å¦æˆåŠŸæ’åº</li>
</ul>
<hr>
<h2 id="å†’æ³¡æ’åº">å†’æ³¡æ’åº</h2>
<blockquote>
<p><strong>å†’æ³¡æ’åºï¼ˆbubble sortï¼‰é€šè¿‡è¿ç»­åœ°æ¯”è¾ƒä¸äº¤æ¢ç›¸é‚»å…ƒç´ å®ç°æ’åºã€‚è¿™ä¸ªè¿‡ç¨‹å°±åƒæ°”æ³¡ä»åº•éƒ¨å‡åˆ°é¡¶éƒ¨ä¸€æ ·ï¼Œå› æ­¤å¾—åå†’æ³¡æ’åºã€‚</strong></p>
</blockquote>
<h3 id="å®ç°">å®ç°</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">BubbleSort</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; &amp;vec)</span> </span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> size = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(vec.<span class="built_in">size</span>());</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = size - <span class="number">1</span>; i &gt; <span class="number">0</span>; --i)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; i; j++)</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">IsGreater</span>(vec[j], vec[j + <span class="number">1</span>]))</span><br><span class="line">                <span class="built_in">Swap</span>(vec, j, j + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæŸè½®â€œå†’æ³¡â€ä¸­æ²¡æœ‰æ‰§è¡Œä»»ä½•äº¤æ¢æ“ä½œï¼Œè¯´æ˜æ•°ç»„å·²ç»å®Œæˆæ’åºï¼Œå¯ç›´æ¥è¿”å›ç»“æœã€‚å› æ­¤ï¼Œå¯ä»¥å¢åŠ ä¸€ä¸ªæ ‡å¿—ä½ <code>flag</code> æ¥ç›‘æµ‹è¿™ç§æƒ…å†µï¼Œä¸€æ—¦å‡ºç°å°±ç«‹å³è¿”å›ï¼Œå¯¹æ•ˆç‡è¿›è¡Œä¼˜åŒ–</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">BubbleSortWithFlag</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; &amp;vec)</span> </span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> size = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(vec.<span class="built_in">size</span>());</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = size - <span class="number">1</span>; i &gt; <span class="number">0</span>; --i) &#123;</span><br><span class="line">        <span class="type">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; i; j++)</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">IsGreater</span>(vec[j], vec[j + <span class="number">1</span>])) &#123;</span><br><span class="line">                <span class="built_in">Swap</span>(vec, j, j + <span class="number">1</span>);</span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">if</span> (!flag) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ç‰¹æ€§">ç‰¹æ€§</h3>
<ul>
<li><strong>æ—¶é—´å¤æ‚åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord">2</span><span class="mclose">)</span></span></span></span>ã€è‡ªé€‚åº”æ’åº</strong>ï¼šå„è½®â€œå†’æ³¡â€éå†çš„æ•°ç»„é•¿åº¦ä¾æ¬¡ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn><mtext>ã€</mtext><mi>n</mi><mo>âˆ’</mo><mn>2</mn><mtext>ã€</mtext><mo>â€¦</mo><mtext>ã€</mtext><mn>2</mn><mtext>ã€</mtext><mn>1</mn></mrow><annotation encoding="application/x-tex">nâˆ’1ã€nâˆ’2ã€â€¦ã€2ã€1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mord cjk_fallback">ã€</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">2</span><span class="mord cjk_fallback">ã€</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">ã€</span><span class="mord">2</span><span class="mord cjk_fallback">ã€</span><span class="mord">1</span></span></span></span>ï¼Œæ€»å’Œä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>n</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mi>n</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">(nâˆ’1)n/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord mathnormal">n</span><span class="mord">/2</span></span></span></span>ã€‚åœ¨å¼•å…¥ <code>flag</code> ä¼˜åŒ–åï¼Œæœ€ä½³æ—¶é—´å¤æ‚åº¦å¯è¾¾åˆ°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></li>
<li><strong>ç©ºé—´å¤æ‚åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>ã€åŸåœ°æ’åº</strong>ï¼šæŒ‡é’ˆ i å’Œ j ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´</li>
<li><strong>ç¨³å®šæ’åº</strong>ï¼šç”±äºåœ¨â€œå†’æ³¡â€ä¸­é‡åˆ°ç›¸ç­‰å…ƒç´ ä¸äº¤æ¢</li>
</ul>
<h2 id="é€‰æ‹©æ’åº">é€‰æ‹©æ’åº</h2>
<blockquote>
<p><strong>é€‰æ‹©æ’åºï¼ˆselection sortï¼‰æ˜¯æœ€ç®€å•çš„æ’åºç®—æ³•ä¹‹ä¸€ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šä¸æ–­é€‰æ‹©æœ€å°/å¤§çš„å…ƒç´ </strong></p>
</blockquote>
<p>æˆ‘ä»¬ä¼šå…ˆæ‰¾åˆ°æ•°ç»„ä¸­æœ€å°/å¤§çš„å…ƒç´ ï¼Œå°†å…¶ä¸æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ äº¤æ¢ä½ç½®ï¼›ä¹‹åï¼Œåœ¨å‰©ä¸‹çš„å…ƒç´ ä¸­æ‰¾åˆ°æœ€å°/å¤§çš„å…ƒç´ ï¼Œå°†å…¶ä¸ç¬¬äºŒä¸ªå…ƒç´ äº¤æ¢ä½ç½®ï¼›ä¹‹åä¸æ–­é‡å¤è¿™ä¸€è¿‡ç¨‹ï¼Œç›´è‡³æœ€åä¸€ä¸ªå…ƒç´ </p>
<h3 id="å®ç°-2">å®ç°</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">SelectionSort</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; &amp;vec)</span> </span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> size = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(vec.<span class="built_in">size</span>());</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">        <span class="type">int</span> min_index = i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; vec.<span class="built_in">size</span>(); j++)</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">IsSmaller</span>(vec[j], vec[min_index]))</span><br><span class="line">                min_index = j;</span><br><span class="line">        <span class="keyword">if</span> (min_index != i)</span><br><span class="line">            <span class="built_in">Swap</span>(vec, i, min_index);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åˆ†æ">åˆ†æ</h3>
<blockquote>
<p><strong>å¯¹äºé•¿åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>çš„æ•°ç»„ï¼Œé€‰æ‹©æ’åºéœ€è¦å¤§çº¦<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>N</mi><mn>2</mn></msup><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">N^2/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord">/2</span></span></span></span>æ­¤æ¯”è¾ƒä¸<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>æ¬¡æ¯”è¾ƒï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>N</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">N^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>çº§åˆ«</strong></p>
</blockquote>
<p>å…¶æœ‰ä¸¤ä¸ªé²œæ˜çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li><strong>è¿è¡Œæ—¶é—´ä¸è¾“å…¥æ— å…³</strong>ï¼šæ— è®ºè¾“å…¥æ•°ç»„æ’åºçŠ¶æ€å¦‚ä½•ï¼Œæ˜¯æœ‰åºè¿˜æ˜¯æ— åºï¼Œå¯¹é€‰æ‹©æ’åºçš„è¿è¡Œæ•ˆç‡éƒ½æ²¡æœ‰å½±å“</li>
<li><strong>æ•°æ®ç§»åŠ¨æ—¶æœ€å°‘çš„</strong>ï¼šé€‰æ‹©æ’åºçš„äº¤æ¢æ¬¡æ•°ä¸æ•°ç»„å¤§å°æ˜¯çº¿æ€§å…³ç³»ï¼Œå…¶ä½™ä»»ä½•ç®—æ³•éƒ½ä¸å…·å¤‡è¿™ä¸ªç‰¹æ€§ï¼ˆå¤§éƒ¨åˆ†éƒ½æ˜¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi>l</mi><mi>g</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">NlgN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">Nl</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>æˆ–<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>N</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">N^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>çº§åˆ«ï¼‰</li>
</ul>
<h3 id="ç‰¹æ€§-2">ç‰¹æ€§</h3>
<ul>
<li><strong>æ—¶é—´å¤æ‚åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord">2</span><span class="mclose">)</span></span></span></span>ã€éè‡ªé€‚åº”æ’åº</strong>ï¼šå¤–å¾ªç¯å…±<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">nâˆ’1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>è½®ï¼Œç¬¬ä¸€è½®çš„æœªæ’åºåŒºé—´é•¿åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ï¼Œæœ€åä¸€è½®çš„æœªæ’åºåŒºé—´é•¿åº¦ä¸º2ï¼Œå³å„è½®å¤–å¾ªç¯åˆ†åˆ«åŒ…å«<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mtext>ã€</mtext><mi>n</mi><mo>âˆ’</mo><mn>1</mn><mtext>ã€</mtext><mo>â€¦</mo><mtext>ã€</mtext><mn>3</mn><mtext>ã€</mtext><mn>2</mn></mrow><annotation encoding="application/x-tex">nã€nâˆ’1ã€â€¦ã€3ã€2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mord cjk_fallback">ã€</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">1</span><span class="mord cjk_fallback">ã€</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">ã€</span><span class="mord">3</span><span class="mord cjk_fallback">ã€</span><span class="mord">2</span></span></span></span>è½®å†…å¾ªç¯ï¼Œæ±‚å’Œä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>n</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mn>2</mn><mo stretchy="false">)</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">(nâˆ’1)(n+2)2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mord">2</span></span></span></span></li>
<li><strong>ç©ºé—´å¤æ‚åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>ã€åŸåœ°æ’åº</strong>ï¼šæŒ‡é’ˆ i å’Œ j ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´</li>
<li><strong>éç¨³å®šæ’åº</strong>ï¼šå…ƒç´ æœ‰å¯èƒ½è¢«äº¤æ¢è‡³ä¸å…¶ç›¸ç­‰çš„å…ƒç´ çš„å³è¾¹ï¼Œå¯¼è‡´ä¸¤è€…çš„ç›¸å¯¹é¡ºåºå‘ç”Ÿæ”¹å˜</li>
</ul>
<hr>
<h2 id="æ’å…¥æ’åº">æ’å…¥æ’åº</h2>
<blockquote>
<p><strong>æ’å…¥æ’åºçš„æ ¸å¿ƒæ€æƒ³å°±å¦‚åŒåœ¨æ–—åœ°ä¸»æ—¶æ•´ç†æ‰‹ç‰Œï¼šå°†æ¯å¼ ç‰Œæ’å…¥åˆ°å·²æœ‰çš„æœ‰åºç‰Œä¸­çš„é€‚å½“ä½ç½®</strong></p>
</blockquote>
<p>åœ¨ç®—æ³•çš„å®ç°ä¸­ï¼Œç”±äºè¦ç»™å…ƒç´ è…¾å‡ºä½ç½®ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶ä½™å…ƒç´ å‘å³ç§»åŠ¨ä¸€ä½ï¼›ä¸é€‰æ‹©æ’åºç›¸åŒï¼Œç´¢å¼•å·¦è¾¹çš„å…ƒç´ éƒ½æ˜¯æœ‰åºçš„ï¼Œè€Œå½“ç´¢å¼•åˆ°è¾¾æ•°ç»„å³ç«¯æ—¶ï¼Œæ’åºä¾¿å®Œæˆäº†</p>
<h3 id="å®ç°-3">å®ç°</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">InsertionSort</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; &amp;vec)</span> </span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> size = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(vec.<span class="built_in">size</span>());</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; size; i++) &#123;</span><br><span class="line">        <span class="type">int</span> num = vec[i], j = i;</span><br><span class="line">        <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; <span class="built_in">IsSmaller</span>(num, vec[j - <span class="number">1</span>])) &#123;</span><br><span class="line">            vec[j] = vec[j - <span class="number">1</span>];</span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line">        vec[j] = num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åˆ†æ-2">åˆ†æ</h3>
<blockquote>
<p><strong>å¯¹äºé•¿åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>çš„æ•°ç»„é€‰æ‹©æ’åºï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>N</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">N^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>çº§åˆ«</strong></p>
</blockquote>
<p>æ’å…¥æ’åºåœ¨éƒ¨åˆ†æƒ…å†µä¸‹éå¸¸æœ‰æ•ˆï¼Œå…¶å®é™…æ•ˆç‡å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºå…¶éœ€è¦è¿›è¡Œæ’å…¥çš„æ¬¡æ•°</p>
<p>å¦‚æœæ•°ç»„ä¸­å€’ç½®çš„æ•°é‡å°äºæ•°ç»„å¤§å°çš„æŸä¸ªå€æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯´è¿™ä¸ªæ•°ç»„æ˜¯éƒ¨åˆ†æœ‰åºçš„ã€‚ ä¸‹é¢æ˜¯å‡ ç§å…¸å‹çš„éƒ¨åˆ†æœ‰åºçš„æ•°ç»„ï¼š</p>
<ul>
<li>æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ è·ç¦»å®ƒçš„æœ€ç»ˆä½ç½®éƒ½ä¸è¿œ</li>
<li>ä¸€ä¸ªæœ‰åºçš„å¤§æ•°ç»„æ¥ä¸€ä¸ªå°æ•°ç»„</li>
<li>æ•°ç»„ä¸­åªæœ‰å‡ ä¸ªå…ƒç´ çš„ä½ç½®ä¸æ­£ç¡®</li>
</ul>
<p>æ’å…¥æ’åºå¯¹è¿™æ ·çš„æ•°ç»„å¾ˆæœ‰æ•ˆï¼Œè€Œé€‰æ‹©æ’åºåˆ™ä¸ç„¶ï¼›äº‹å®ä¸Šï¼Œå½“å€’ç½®æ•°é‡å¾ˆå°‘æ—¶ï¼Œæ’å…¥æ’åºå¾ˆå¯èƒ½æ¯”å…¶ä»–ä»»ä½•ç®—æ³•éƒ½å¿«</p>
<hr>
<h2 id="å¸Œå°”æ’åº">å¸Œå°”æ’åº</h2>
<blockquote>
<p><strong>å¸Œå°”æ’åºæ˜¯ä¸€ç§åŸºäºæ’å…¥æ’åºçš„æ’åºç®—æ³•ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šäº¤æ¢ä¸ç›¸é‚»çš„å…ƒç´ ä»¥å¯¹æ•°ç»„çš„å±€éƒ¨ è¿›è¡Œæ’åºï¼Œå¹¶æœ€ç»ˆç”¨æ’å…¥æ’åºå°†å±€éƒ¨æœ‰åºçš„æ•°ç»„æ’åº</strong></p>
</blockquote>
<p>åœ¨ä¸Šé¢å¯¹äºæ’å…¥æ’åºçš„åˆ†æä¸­ï¼Œæˆ‘ä»¬äº†è§£åˆ°ï¼šå½“æ•°ç»„æ˜¯éƒ¨åˆ†æœ‰åºçš„æ—¶ï¼Œæ’å…¥æ’åºéå¸¸å¿«ï¼›è€Œå¸Œå°”æ’åºæ­£æ˜¯åˆ©ç”¨äº†è¿™ç‚¹ï¼Œå…ˆä½¿æ•°ç»„å˜å¾—éƒ¨åˆ†æœ‰åºï¼Œå†è¿›è¡Œè¿›ä¸€æ­¥çš„æ’åºï¼Œä»¥åŠ å¿«æ’å…¥æ’åºçš„é€Ÿåº¦</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¸Œå°”æ’åºä¼šä»¥hä¸ºæ­¥é•¿å°†æ•°ç»„è¿›è¡Œåˆ†å‰²ï¼Œå‡è®¾æ•°ç»„ä¸º<code>[5, 7, 1, 4, 6, 9]</code>ï¼Œä¸”<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">h=3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span>ï¼Œåˆ™æ•°ç»„ä¼šè¢«åˆ†å‰²ä¸º<code>[5, 4]</code>ã€<code>[7, 6]</code>ã€<code>[1, 9]</code>ä¸‰ç»„ï¼›é¦–å…ˆå¯¹ç»„å†…è¿›è¡Œæ’å…¥æ’åºï¼ˆä¸€ä¸ªæ›´ç®€å•çš„æ–¹æ³•æ˜¯åœ¨å­æ•°ç»„ä¸­å°†æ¯ä¸ªå…ƒç´ äº¤æ¢åˆ°æ¯”å®ƒå¤§çš„å…ƒç´ ä¹‹å‰å»å³å¯ï¼‰ï¼Œä¾¿å¯ä»¥å¾—åˆ°<code>[4, 5]</code>ã€<code>[6, 7]</code>ã€<code>[1, 9]</code>ï¼Œè¿™è¢«ç§°ä¸º<code>hæœ‰åºæ•°ç»„</code>ï¼›ä¹‹åæˆ‘ä»¬ä¾¿å¯ä»¥è¿›ä¸€æ­¥ç¼©å°hï¼Œä»¥å¾—åˆ°æ›´å¤§çš„hæœ‰åºæ•°ç»„ï¼Œæœ€åå®ç°æ•°ç»„çš„æ’åº</p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä»è¿™ä¸€è§’åº¦å»æ€è€ƒï¼šå¦‚æœ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">h</span></span></span></span>è¾ƒå¤§ï¼Œåœ¨è¿›è¡Œç»„å†…æ’åºæ—¶ä¾¿å¯ä»¥å°†å…ƒç´ ç§»åŠ¨åˆ°å¾ˆè¿œçš„åœ°æ–¹ï¼Œè€Œæ’å…¥æ’åºåªèƒ½ä¸€ä¸ªä¸ªçš„è¿›è¡Œå…ƒç´ ç§»åŠ¨ï¼Œä»è€Œæé«˜æ•ˆç‡</p>
<p>åœ¨æˆ‘ä»¬ä¸‹é¢çš„å®ç°ä¸­ï¼Œä½¿ç”¨äº†åºåˆ—<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">(</mo><mn>3</mn><mi>k</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">1/2(3k-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/2</span><span class="mopen">(</span><span class="mord">3</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>ï¼Œå³ä»<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi mathvariant="normal">/</mi><mn>3</mn></mrow><annotation encoding="application/x-tex">N/3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord">/3</span></span></span></span>å¼€å§‹é€’å‡è‡³ 1ã€‚æˆ‘ä»¬æŠŠè¿™ä¸ªåºåˆ—ç§°ä¸ºé€’å¢åºåˆ—ï¼›ä¸‹é¢çš„å®ç°ä¸­å®æ—¶è®¡ç®—äº†å…¶é€’å¢åºåˆ—ï¼Œå¦ä¸€ç§æ–¹å¼æ˜¯å°†é€’å¢åºåˆ—å­˜å‚¨åœ¨ä¸€ä¸ªæ•°ç»„ä¸­</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202401112336523.png" alt="image-20240111233622452"></p>
<h3 id="å®ç°-4">å®ç°</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ShellSort</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; &amp;vec)</span> </span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> size = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(vec.<span class="built_in">size</span>());</span><br><span class="line">    <span class="type">int</span> h = size / <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">while</span> (h &gt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = h; i &lt; size; ++i) &#123;</span><br><span class="line">            <span class="type">int</span> num = vec[i], j = i;</span><br><span class="line">            <span class="keyword">while</span> (j &gt;= h &amp;&amp; <span class="built_in">IsSmaller</span>(num, vec[j - h])) &#123;</span><br><span class="line">                vec[j] = vec[j - h];</span><br><span class="line">                j -= h;</span><br><span class="line">            &#125;</span><br><span class="line">            vec[j] = num;</span><br><span class="line">        &#125;</span><br><span class="line">        h /= <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åˆ†æ-3">åˆ†æ</h3>
<p>å¸Œå°”æ’åºæ¯”æ’å…¥æ’åºå¿«äº†éå¸¸å¤š</p>
<blockquote>
<p><strong>å¸Œå°”æ’åºæ›´é«˜æ•ˆçš„åŸå› æ˜¯å®ƒæƒè¡¡äº†å­æ•°ç»„çš„è§„æ¨¡å’Œæœ‰åºæ€§</strong></p>
</blockquote>
<p>å¸Œå°”æ’åºä¹‹åˆï¼Œå„ä¸ªå­æ•°ç»„éƒ½å¾ˆçŸ­ï¼Œæ’åºä¹‹åå­æ•°ç»„éƒ½æ˜¯éƒ¨åˆ†æœ‰åºçš„ï¼Œè¿™ä¸¤ç§æƒ…å†µéƒ½å¾ˆé€‚åˆæ’å…¥æ’åº</p>
<p>è€Œå­æ•°ç»„éƒ¨åˆ†æœ‰åºçš„ç¨‹åº¦å–å†³äºé€’å¢åºåˆ—çš„é€‰æ‹©ï¼Œä½†å¯¹äºé€’å¢åºåˆ—çš„é€‰æ‹©æ˜¯ä¸ªå¤æ‚çš„é—®é¢˜ï¼šç®—æ³•çš„æ€§èƒ½ä¸ä»…å–å†³äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">h</span></span></span></span>ï¼Œè¿˜å–å†³äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">h</span></span></span></span>ä¹‹é—´çš„æ•°å­¦æ€§è´¨ï¼Œæ¯”å¦‚å®ƒä»¬çš„å…¬å› å­ç­‰ï¼›æœ‰å¾ˆå¤šè®ºæ–‡ç ”ç©¶äº†å„ç§ä¸åŒçš„é€’å¢åºåˆ—ï¼Œä½†éƒ½æ— æ³•è¯æ˜æŸä¸ªåº åˆ—æ˜¯â€œæœ€å¥½çš„â€ï¼›åœ¨æˆ‘ä»¬çš„å®ç°ä¸­ï¼Œä½¿ç”¨äº†éå¸¸ç®€å•æ˜“äºè®¡ç®—çš„åº•å±‚åºåˆ—ï¼Œä½†ä¸€äº›å¤æ‚çš„åºåˆ—å¯ä»¥è¢«è¯æ˜å…¶æ€§èƒ½å¥½äºæˆ‘ä»¬ä½¿ç”¨çš„åºåˆ—ï¼Œæ›´åŠ ä¼˜ç§€çš„é€’å¢åºåˆ—æœ‰å¾…æˆ‘ ä»¬å»å‘ç°</p>
<p>é€å½»ç†è§£å¸Œå°”æ’åºçš„æ€§èƒ½è‡³ä»Šä»ç„¶æ˜¯ä¸€é¡¹æŒ‘æˆ˜ï¼›å®é™…ä¸Šï¼Œå¸Œå°”æ’åºæ˜¯æˆ‘ä»¬å”¯ä¸€æ— æ³•å‡†ç¡®æè¿°å…¶å¯¹äºä¹±åºçš„æ•°ç»„çš„æ€§èƒ½ç‰¹å¾çš„æ’åºæ–¹æ³•</p>
<hr>
<h2 id="å½’å¹¶æ’åº">å½’å¹¶æ’åº</h2>
<blockquote>
<p><strong>å½’å¹¶ï¼Œå³å°†ä¸¤ä¸ªæœ‰åºæ•°ç»„åˆå¹¶æˆä¸€ä¸ªæ›´å¤§çš„æœ‰åºæ•°ç»„ï¼›å½’å¹¶æ’åºä¾¿æ˜¯åŸºäºè¿™ä¸€ç®€å•æ“ä½œè¿›è¡Œçš„</strong></p>
</blockquote>
<p>å½’å¹¶æ’åºæ˜¯ä¸€ç§åŸºäºåˆ†æ²»æ€æƒ³çš„é€’å½’æ’åºç®—æ³•ï¼Œè¦å°†ä¸€ä¸ªæ•°ç»„æ’åºï¼Œå¯ä»¥å…ˆï¼ˆé€’å½’åœ°ï¼‰å°†å®ƒåˆ†æˆä¸¤åŠåˆ†åˆ«æ’åºï¼Œç„¶åå°†ç»“æœå½’å¹¶èµ·æ¥</p>
<p>å½’å¹¶æ’åºçš„ä¼˜ç‚¹åœ¨äºå…¶èƒ½å¤Ÿä¿è¯ï¼Œæ’åºå°†ä»»æ„é•¿åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>çš„æ•°ç»„æ‰€éœ€çš„æ—¶é—´ä¸<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">NlogN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">Nl</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>æˆæ­£æ¯”ï¼›åŒæ—¶ï¼Œå…¶ä¹Ÿå­˜åœ¨æ‰€éœ€çš„é¢å¤–ç©ºé—´ä¸<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>æˆæ­£æ¯”çš„ç¼ºç‚¹</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202401122003737.png" alt="image-20240112200331668"></p>
<h3 id="å½’å¹¶çš„æŠ½è±¡å®ç°">å½’å¹¶çš„æŠ½è±¡å®ç°</h3>
<p>å®ç°å½’å¹¶çš„ä¸€ç§ç›´æˆªäº†å½“çš„åŠæ³•æ˜¯å°†ä¸¤ä¸ªä¸åŒçš„æœ‰åºæ•°ç»„å½’å¹¶åˆ°ç¬¬ä¸‰ä¸ªæ•°ç»„ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªé€‚å½“å¤§å°çš„æ•°ç»„ç„¶åå°†ä¸¤ä¸ªè¾“ å…¥æ•°ç»„ä¸­çš„å…ƒç´ ä¸€ä¸ªä¸ªä»å°åˆ°å¤§æ”¾å…¥è¿™ä¸ªæ•°ç»„ä¸­å³å¯</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Merge</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; &amp;vec, <span class="type">const</span> <span class="type">int</span> left, <span class="type">const</span> <span class="type">int</span> mid, <span class="type">const</span> <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> length = right - left + <span class="number">1</span>;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">temp</span><span class="params">(length)</span></span>;</span><br><span class="line">    <span class="type">int</span> i = left, j = mid + <span class="number">1</span>, k = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= mid &amp;&amp; j &lt;= right) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">IsSmaller</span>(vec[i], vec[j]))  temp[k++] = vec[i++];</span><br><span class="line">        <span class="keyword">else</span>                            temp[k++] = vec[j++];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= mid)    temp[k++] = vec[i++];</span><br><span class="line">    <span class="keyword">while</span> (j &lt;= right)  temp[k++] = vec[j++];</span><br><span class="line">    <span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; length; ++k) &#123;</span><br><span class="line">        vec[k + left] = temp[k];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šçš„ä»£ç æ¼”ç¤ºäº†è¿›è¡Œä¸€æ¬¡å½’å¹¶æ—¶è¿›è¡Œçš„æ“ä½œï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªä¸´æ—¶æ•°ç»„ä½œä¸ºè¾…åŠ©</p>
<p>ä¸Šè¿°ä»£ç å¯ä»¥å®Œæˆä¸€æ¬¡å½’å¹¶ï¼Œä½†æ˜¯å½“æˆ‘ä»¬æƒ³è¦ç”¨å½’å¹¶å°†ä¸€ä¸ªå¤§æ•°ç»„æ’åºæ—¶ï¼Œæˆ‘ä»¬ä¾¿éœ€è¦è¿›è¡Œå¤šæ¬¡å½’å¹¶ï¼Œä¸Šè¿°çš„æ–¹æ³•ä¼šåœ¨æ¯è¿›è¡Œä¸€æ¬¡å½’å¹¶æ—¶éƒ½å¯¹åŸæ•°ç»„è¿›è¡Œä¸€æ¬¡å®Œæ•´çš„å¤åˆ¶ï¼Œè¿™ä¼šå¸¦æ¥å¤§é‡çš„å†…å­˜æ¶ˆè€—</p>
<p>ä¸æ­¤ç›¸æ¯”ï¼Œæˆ‘ä»¬æ›´éœ€è¦ä¸€ç§â€œåŸåœ°å½’å¹¶â€çš„æ–¹æ³•ï¼Œä½¿å¾—æˆ‘ä»¬ä¸éœ€è¦ç”¨ä¸€ä¸ªé¢å¤–çš„æ•°ç»„æ¥å­˜å‚¨æ•°æ®ï¼Œä½†å®é™…ä¸Šè¿™æ˜¯è¾ƒä¸ºå›°éš¾ä¸”å¤æ‚çš„ï¼›ä¸ç®¡æ€ä¹ˆè¯´ï¼Œä¸Šè¿°æ–¹æ³•ä»ç„¶æ˜¯æœ‰æ„ä¹‰çš„ï¼Œå…¶å¸®åŠ©æˆ‘ä»¬å¯¹å½’å¹¶æ“ä½œè¿›è¡Œäº†æŠ½è±¡åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šç»§ç»­æ¢ç´¢</p>
<h3 id="è‡ªé¡¶å‘ä¸‹çš„å½’å¹¶æ’åº">è‡ªé¡¶å‘ä¸‹çš„å½’å¹¶æ’åº</h3>
<p>åŸºäºå½’å¹¶çš„æŠ½è±¡å®ç°ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ä¸€ç§è‡ªé¡¶å‘ä¸‹çš„é€’å½’å½’å¹¶ç®—æ³•</p>
<p>è¿™ä¹Ÿæ˜¯åº”ç”¨é«˜æ•ˆç®—æ³•è®¾è®¡ä¸­åˆ†æ²»æ€æƒ³çš„ æœ€å…¸å‹çš„ä¸€ä¸ªä¾‹å­</p>
<h4 id="å®ç°-5">å®ç°</h4>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">MergeSortTopToBottom</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; &amp;vec, <span class="type">const</span> <span class="type">int</span> left, <span class="type">const</span> <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (left &gt;= right) <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> mid = (right + left) / <span class="number">2</span>;</span><br><span class="line">    <span class="built_in">MergeSortTopToBottom</span>(vec, left, mid);</span><br><span class="line">    <span class="built_in">MergeSortTopToBottom</span>(vec, mid + <span class="number">1</span>, right);</span><br><span class="line">    <span class="built_in">Merge</span>(vec, left, mid, right);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">MergeSortTopToBottom</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; &amp;vec)</span> </span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> size = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(vec.<span class="built_in">size</span>());</span><br><span class="line">    <span class="built_in">MergeSortTopToBottom</span>(vec, <span class="number">0</span>, size - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="åˆ†æ-4">åˆ†æ</h4>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202401122052338.png" alt="image-20240112205259265"></p>
<p>ä¸Šå›¾å±•ç¤ºäº†è‡ªé¡¶å‘ä¸‹çš„å½’å¹¶æ’åºç®—æ³•çš„é€’å½’æ ‘</p>
<blockquote>
<p><strong>å¯¹äºé•¿åº¦ä¸º N çš„ä»»æ„æ•°ç»„ï¼Œè‡ªé¡¶å‘ä¸‹çš„å½’å¹¶æ’åºéœ€è¦<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mi>N</mi><mi>l</mi><mi>g</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">\frac{1}{2}NlgN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal" style="margin-right:0.01968em;">Nl</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>è‡³<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi>l</mi><mi>g</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">NlgN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">Nl</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>æ¬¡æ¯”è¾ƒï¼›æœ€å¤šéœ€è¦è®¿é—®æ•°ç»„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><mi>N</mi><mi>l</mi><mi>g</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">6NlgN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">6</span><span class="mord mathnormal" style="margin-right:0.01968em;">Nl</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>æ¬¡</strong></p>
</blockquote>
<p>å½’å¹¶æ’åºå’Œä¹‹å‰çš„åˆçº§æ’åºæ–¹æ³•ä¸å¯åŒæ—¥è€Œè¯­ï¼Œå®ƒè¡¨æ˜æˆ‘ä»¬åªéœ€è¦æ¯”éå†æ•´ä¸ªæ•°ç»„å¤šä¸ªå¯¹æ•°å› å­çš„æ—¶é—´å°±èƒ½å°†ä¸€ä¸ªåºå¤§çš„æ•°ç»„æ’åºï¼›å¯ä»¥ç”¨å½’å¹¶æ’åºå¤„ç†æ•°ç™¾ä¸‡ç”šè‡³æ›´å¤§è§„æ¨¡çš„æ•°ç»„ï¼Œè¿™æ˜¯æ’å…¥æ’åºæˆ–è€…é€‰æ‹©æ’åºåšä¸åˆ°çš„</p>
<h3 id="æ”¹è¿›-a-id-anchor-merge-insertion-a">æ”¹è¿›<a id="anchor-merge_insertion"></a></h3>
<p>é€šè¿‡ä¸€äº›ç»†è‡´çš„æ€è€ƒæˆ‘ä»¬è¿˜èƒ½å¤Ÿå¤§å¹…åº¦ç¼©çŸ­å½’å¹¶æ’åºçš„è¿è¡Œæ—¶é—´ï¼š</p>
<ul>
<li>å¯¹å°è§„æ¨¡å­æ•°ç»„ä½¿ç”¨æ’å…¥æ’åº</li>
</ul>
<p>é€’å½’ä¼šä½¿å°è§„æ¨¡é—®é¢˜ä¸­æ–¹æ³•çš„è°ƒç”¨è¿‡äºé¢‘ç¹ï¼Œè€Œåœ¨å‰é¢å¯¹äºæ’å…¥æ’åºçš„ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°æ’å…¥æ’åºå¯¹äºå°æ•°ç»„å¯èƒ½æ¯”å½’å¹¶æ’åºæ›´å¿«ï¼›åœ¨åˆ†å‰²æ•°ç»„åˆ°è¶³å¤Ÿå°åï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥é‡‡ç”¨æ’å…¥æ’åºï¼Œä¹‹åå†è¿›è¡Œå½’å¹¶ï¼Œè¿™å¯ä»¥æé«˜ç®—æ³•çš„æ•ˆç‡</p>
<ul>
<li>æµ‹è¯•æ•°ç»„æ˜¯å¦å·²ç»æœ‰åº</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€ä¸ªåˆ¤æ–­æ¡ä»¶ï¼Œå¦‚æœa[mid]å°äºç­‰äºa[mid+1]ï¼Œæˆ‘ä»¬å°±è®¤ä¸ºæ•°ç»„å·²ç»æ˜¯æœ‰åº çš„å¹¶è·³è¿‡ merge() æ–¹æ³•ã€‚è¿™ä¸ªæ”¹åŠ¨ä¸å½±å“æ’åºçš„é€’å½’è°ƒç”¨ï¼Œä½†æ˜¯ä»»æ„æœ‰åºçš„å­æ•°ç»„ç®—æ³•çš„è¿è¡Œæ—¶é—´ å°±å˜ä¸ºçº¿æ€§çš„äº†</p>
<ul>
<li>ä¸å°†å…ƒç´ å¤åˆ¶åˆ°è¾…åŠ©æ•°ç»„</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥èŠ‚çœå°†æ•°ç»„å…ƒç´ å¤åˆ¶åˆ°ç”¨äºå½’å¹¶çš„è¾…åŠ©æ•°ç»„æ‰€ç”¨çš„æ—¶é—´ï¼›è¿™ç§æ–¹æ³•éœ€è¦ä¸€äº›æŠ€å·§ï¼Œæˆ‘ä»¬è¦åœ¨é€’å½’è°ƒç”¨çš„æ¯ä¸ªå±‚æ¬¡äº¤æ¢è¾“å…¥æ•°ç»„å’Œè¾…åŠ©æ•°ç»„çš„è§’è‰²ï¼›<code>merge</code>çš„è¿‡ç¨‹ç±»ä¼¼å¯¹ç€ä¸€ä¸ªæºæ–‡æœ¬è¿›è¡Œé‡æ–°æŠ„å½•ï¼Œè€Œæ­¤æ–¹æ³•ä¾¿æ˜¯è®©ä¸¤ä¸ªæ•°ç»„è½®æµä½œä¸ºæºæ–‡æœ¬</p>
<p><strong>ä»¥ä¸‹ä»£ç å¯¹ä¸Šè¿°ä¸‰ä¸ªä¼˜åŒ–è¿›è¡Œäº†å®ç°ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">MergeOptimized</span><span class="params">(<span class="type">const</span> std::vector&lt;<span class="type">int</span>&gt; &amp;source, std::vector&lt;<span class="type">int</span>&gt; &amp;destination, <span class="type">const</span> <span class="type">int</span> left, <span class="type">const</span> <span class="type">int</span> mid, <span class="type">const</span> <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> i = left, j = mid + <span class="number">1</span>, k = left;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= mid &amp;&amp; j &lt;= right) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">IsSmaller</span>(source[i], source[j]))    destination[k++] = source[i++];</span><br><span class="line">        <span class="keyword">else</span>                                    destination[k++] = source[j++];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= mid)    destination[k++] = source[i++];</span><br><span class="line">    <span class="keyword">while</span> (j &lt;= right)  destination[k++] = source[j++];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">MergeSortOptimized</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; &amp;source, std::vector&lt;<span class="type">int</span>&gt; &amp;destination, <span class="type">const</span> <span class="type">int</span> left, <span class="type">const</span> <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> kCUTOFF = <span class="number">7</span>;</span><br><span class="line">    <span class="keyword">if</span> (right - left &lt;= kCUTOFF) &#123;  <span class="comment">// apply insertion sort for small subarrays</span></span><br><span class="line">        <span class="built_in">InsertionSort</span>(destination, left, right);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> mid = (right + left) / <span class="number">2</span>;</span><br><span class="line">    <span class="comment">// *self-merge: avoid creating temp array when merging</span></span><br><span class="line">    <span class="built_in">MergeSortOptimized</span>(destination, source, left, mid);</span><br><span class="line">    <span class="built_in">MergeSortOptimized</span>(destination, source, mid + <span class="number">1</span>, right);</span><br><span class="line">    <span class="comment">// test if array is sorted before merge</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">IsSmaller</span>(source[mid], source[mid + <span class="number">1</span>])) &#123;</span><br><span class="line">        std::<span class="built_in">copy</span>(source.<span class="built_in">begin</span>() + left, source.<span class="built_in">begin</span>() + right + <span class="number">1</span>, destination.<span class="built_in">begin</span>() + left);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">MergeOptimized</span>(source, destination, left, mid, right);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">MergeSortOptimized</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; &amp;vec)</span> </span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> size = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(vec.<span class="built_in">size</span>());</span><br><span class="line">    <span class="function">std::vector <span class="title">aux_vec</span><span class="params">(vec)</span></span>;</span><br><span class="line">    <span class="built_in">MergeSortOptimized</span>(aux_vec, vec, <span class="number">0</span>, size - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="è‡ªåº•å‘ä¸Šçš„å½’å¹¶æ’åº">è‡ªåº•å‘ä¸Šçš„å½’å¹¶æ’åº</h3>
<p>é€’å½’å®ç°çš„å½’å¹¶æ’åºæ˜¯ç®—æ³•è®¾è®¡ä¸­åˆ†æ²»æ€æƒ³çš„å…¸å‹åº”ç”¨ï¼šæˆ‘ä»¬å°†ä¸€ä¸ªå¤§é—®é¢˜åˆ†å‰²æˆå°é—®é¢˜åˆ†åˆ«è§£å†³ï¼Œç„¶åç”¨æ‰€æœ‰å°é—®é¢˜çš„ç­”æ¡ˆæ¥è§£å†³æ•´ä¸ªå¤§é—®é¢˜ï¼›å°½ç®¡æˆ‘ä»¬è€ƒè™‘çš„é—®é¢˜æ˜¯å½’å¹¶ä¸¤ä¸ªå¤§æ•°ç»„ï¼Œ å®é™…ä¸Šæˆ‘ä»¬å½’å¹¶çš„æ•°ç»„å¤§å¤šæ•°éƒ½éå¸¸å°</p>
<p>åœ¨è‡ªé¡¶å‘ä¸‹çš„å½’å¹¶æ’åºä¸­ï¼Œæˆ‘ä»¬ä¼šå…ˆä»å¤§æ•°ç»„å…¥æ‰‹ï¼Œä¸€æ­¥æ­¥å°†å¤§æ•°ç»„åˆ†å‰²ä¸ºå°æ•°ç»„ï¼›è€Œæˆ‘ä»¬å®é™…ä¸Šè¿˜å¯ä»¥ç›´æ¥ä»å°æ•°ç»„å…¥æ‰‹ï¼Œå³æŠŠæ¯ä¸ªå…ƒç´ æƒ³è±¡æˆä¸€ä¸ªå¤§å°ä¸º1çš„æ•°ç»„ï¼Œç„¶åä¸¤ä¸¤å½’å¹¶ã€å››å››å½’å¹¶ã€å…«å…«å½’å¹¶â€¦ç›´åˆ°å½’å¹¶å®Œæˆï¼›è¿™ç§å½’å¹¶æ’åºçš„å®ç°æ–¹æ³•è¢«ç§°ä¸ºè‡ªåº•å‘ä¸Šçš„å½’å¹¶æ’åº</p>
<h4 id="å®ç°-6">å®ç°</h4>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">MergeSortBottomToTop</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; &amp;vec)</span> </span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> size = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(vec.<span class="built_in">size</span>());</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> length = <span class="number">1</span>; length &lt; size; length *= <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> left = <span class="number">0</span>; left &lt; size - length; left += <span class="number">2</span> * length) &#123;</span><br><span class="line">            <span class="type">const</span> <span class="type">int</span> mid = left + length - <span class="number">1</span>;</span><br><span class="line">            <span class="type">const</span> <span class="type">int</span> right = std::<span class="built_in">min</span>(left + <span class="number">2</span> * length - <span class="number">1</span>, size - <span class="number">1</span>);</span><br><span class="line">            <span class="built_in">Merge</span>(vec, left, mid, right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="åˆ†æ-5">åˆ†æ</h4>
<blockquote>
<p><strong>å¯¹äºé•¿åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>çš„ä»»æ„æ•°ç»„ï¼Œè‡ªåº•å‘ä¸Šçš„å½’å¹¶æ’åºéœ€è¦<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mi>N</mi><mi>l</mi><mi>g</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">\frac{1}{2}NlgN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal" style="margin-right:0.01968em;">Nl</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>è‡³<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi>l</mi><mi>g</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">NlgN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">Nl</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>æ¬¡æ¯”è¾ƒï¼Œæœ€å¤šè®¿é—®æ•°ç»„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><mi>N</mi><mi>l</mi><mi>g</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">6NlgN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">6</span><span class="mord mathnormal" style="margin-right:0.01968em;">Nl</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>æ¬¡</strong></p>
</blockquote>
<p>è¿™ç§å®ç°æ–¹æ³•çš„ä¸€ä¸ªä¼˜åŠ¿åœ¨äºå…¶æ¯”æ ‡å‡†é€’å½’æ–¹æ³•æ‰€éœ€è¦çš„ä»£ç é‡è¦å°‘å¾ˆå¤š</p>
<p>**å½“æ•°ç»„é•¿åº¦ä¸º2çš„å¹‚æ—¶ï¼Œè‡ªé¡¶å‘ä¸‹å’Œè‡ªåº•å‘ä¸Šçš„å½’å¹¶æ’åºæ‰€ç”¨çš„æ¯”è¾ƒæ¬¡æ•°å’Œæ•°ç»„è®¿é—®æ¬¡æ•°æ­£å¥½ç›¸åŒï¼Œåªæ˜¯é¡ºåºä¸åŒï¼›**å…¶ä»–æ—¶å€™ï¼Œä¸¤ç§æ–¹æ³•çš„æ¯”è¾ƒå’Œæ•°ç»„è®¿é—®çš„æ¬¡åºä¼šæœ‰æ‰€ä¸åŒ</p>
<p>è‡ªåº•å‘ä¸Šçš„å½’å¹¶æ’åºæ¯”è¾ƒé€‚åˆç”¨é“¾è¡¨ç»„ç»‡çš„æ•°æ®ï¼Œå…¶åªéœ€è¦é‡æ–°ç»„ç»‡é“¾è¡¨é“¾æ¥å°±èƒ½å°†é“¾è¡¨åŸåœ°æ’åºï¼Œè€Œä¸éœ€è¦åˆ›å»ºä»»ä½•æ–°çš„é“¾è¡¨ç»“ç‚¹</p>
<blockquote>
<p><strong>ç”¨è‡ªé¡¶å‘ä¸‹æˆ–æ˜¯è‡ªåº•å‘ä¸Šçš„æ–¹å¼å®ç°ä»»ä½•åˆ†æ²»ç±»çš„ç®—æ³•éƒ½å¾ˆè‡ªç„¶</strong></p>
</blockquote>
<h3 id="æ’åºç®—æ³•çš„å¤æ‚åº¦">æ’åºç®—æ³•çš„å¤æ‚åº¦</h3>
<p>å­¦ä¹ å½’å¹¶æ’åºçš„ä¸€ä¸ªé‡è¦åŸå› æ˜¯å®ƒæ˜¯è¯æ˜è®¡ç®—å¤æ‚æ€§é¢†åŸŸçš„ä¸€ä¸ªé‡è¦ç»“è®ºçš„åŸºç¡€</p>
<p>å¯¹äºåŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•æ¥è¯´ï¼Œå…¶å…·æœ‰ä»¥ä¸‹æ€§è´¨ï¼ˆ<strong>æ­¤å¤„ï¼Œæˆ‘ä»¬å¿½ç•¥äº†è®¿é—®æ•°ç»„çš„å¼€é”€</strong>ï¼‰</p>
<blockquote>
<p><strong>æ²¡æœ‰ä»»ä½•åŸºäºæ¯”è¾ƒçš„ç®—æ³•èƒ½å¤Ÿä¿è¯ä½¿ç”¨å°‘äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>g</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">!</mo><mo stretchy="false">)</mo><mtext>ï½</mtext><mi>N</mi><mi>l</mi><mi>g</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">lg(N!)ï½NlgN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">!)</span><span class="mord cjk_fallback">ï½</span><span class="mord mathnormal" style="margin-right:0.01968em;">Nl</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>æ¬¡æ¯”è¾ƒå°†é•¿åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>çš„æ•°ç»„æ’åº</strong></p>
</blockquote>
<p><em>ä¹¦ä¸­å¯¹äºè¿™ä¸€ç»“è®ºé€šè¿‡ä¸€ä¸ªåŸºäºäºŒå‰æ ‘çš„æ•°å­¦æ¨¡å‹ç»™å‡ºäº†ç²¾å½©çš„è¯æ˜ï¼Œè¿™é‡Œä¸å†èµ˜è¿°</em></p>
<p>è¿™ä¸€æ€§è´¨å‘Šè¯‰äº†æˆ‘ä»¬åœ¨è®¾è®¡æ’åºç®—æ³•æ—¶èƒ½è¾¾åˆ°çš„ä¸Šé™ä¸ç›®æ ‡ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸€ç»“è®ºï¼Œæˆ‘ä»¬ä¾¿å¯èƒ½ä¼šå»å°è¯•è®¾è®¡ä¸€ä¸ªä¸ªåœ¨æœ€åæƒ…å†µä¸‹æ¯”è¾ƒæ¬¡æ•°åªæœ‰å½’å¹¶æ’åºçš„ä¸€åŠçš„åŸºäºæ¯”è¾ƒçš„ç®—æ³•ï¼›é€šè¿‡è¿™ä¸€ç»“è®ºï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥æ˜ç¡®çŸ¥é“ï¼Œè¿™æ ·çš„ç®—æ³•ä¸å­˜åœ¨</p>
<p>åœ¨ä¸Šé¢å¯¹äºå½’å¹¶æ’åºçš„åˆ†æä¸­ï¼Œæˆ‘ä»¬å¾—åˆ°äº†å½’å¹¶æ’åºåœ¨æœ€åæƒ…å†µä¸‹çš„æ¯”è¾ƒæ¬¡æ•°ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi>l</mi><mi>g</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">NlgN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">Nl</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>è¿™ä¸€ç»“è®ºï¼Œè€Œåœ¨ä¸Šé¢æˆ‘ä»¬åŒæ ·çŸ¥é“äº†æ²¡æœ‰ä»»ä½•æ’åºç®—æ³•èƒ½å¤Ÿç”¨å°‘äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>g</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">!</mo><mo stretchy="false">)</mo><mtext>ï½</mtext><mi>N</mi><mi>l</mi><mi>g</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">lg(N!)ï½NlgN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">!)</span><span class="mord cjk_fallback">ï½</span><span class="mord mathnormal" style="margin-right:0.01968em;">Nl</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>æ¬¡æ¯”è¾ƒå°†æ•°ç»„æ’åºï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€ï¼š</p>
<blockquote>
<p><strong>å½’å¹¶æ’åºæ˜¯ä¸€ç§æ¸è¿›æœ€ä¼˜çš„åŸºäºæ¯”è¾ƒæ’åºçš„ç®—æ³•</strong></p>
</blockquote>
<p><em>ä»ä¸¥è°¨çš„è§’åº¦æ¥è¯´ï¼Œæˆ‘ä»¬è®¤ä¸ºä»…ä»…åªéœ€è¦<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>g</mi><mi>N</mi><mo stretchy="false">!</mo></mrow><annotation encoding="application/x-tex">lgN!</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">!</span></span></span></span>æ¬¡æ¯”è¾ƒçš„ç®—æ³•æ‰æ˜¯æœ€ä¼˜çš„æ’åºç®—æ³•ï¼Œä½†åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå³ä½¿å¯¹äºå¾ˆå¤§çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>ï¼Œè¿™ç§ç®—æ³•ä¸å½’å¹¶æ’åºä¹‹é—´çš„å·®å¼‚ä¹Ÿå¹¶ä¸æ˜æ˜¾</em></p>
<p>è™½è¯´æˆ‘ä»¬å·²ç»ç›–æ£ºå®šè®ºåœ°è¯´å½’å¹¶æ’åºå·²ç»æ˜¯æ¸è¿›æœ€ä¼˜äº†ï¼Œä½†å…¶ä»ç„¶æ˜¯æœ‰å¾ˆå¤šå±€é™æ€§çš„ï¼š</p>
<ul>
<li>å½’å¹¶æ’åºçš„ç©ºé—´å¤æ‚åº¦ä¸æ˜¯æœ€ä¼˜çš„</li>
<li>åœ¨å®è·µä¸­ä¸ä¸€å®šä¼šé‡åˆ°æœ€åæƒ…å†µ</li>
<li>é™¤äº†æ¯”è¾ƒï¼Œç®—æ³•çš„å…¶ä»–æ“ä½œï¼ˆä¾‹å¦‚è®¿é—®æ•°ç»„ï¼‰ä¹Ÿå¯èƒ½å¾ˆé‡è¦</li>
<li>ä¸è¿›è¡Œæ¯”è¾ƒä¹Ÿèƒ½å°†æŸäº›æ•°æ®æ’åº</li>
</ul>
<hr>
<h2 id="å¿«é€Ÿæ’åº">å¿«é€Ÿæ’åº</h2>
<p>ç»ˆäºæ¥åˆ°å¤§åé¼é¼çš„å¿«é€Ÿæ’åºäº†ï¼Œå…¶å¯èƒ½æ˜¯åº”ç”¨æœ€ä¸ºå¹¿æ³›çš„æ’åºç®—æ³•ï¼›å¿«é€Ÿæ’åºå®ç°ç®€å•ã€å¯¹è¾“å…¥çš„æŠµèµ–ä½åŒæ—¶åœ¨ä¸€èˆ¬åº”ç”¨ä¸­æ¯”å…¶ä»–æ’åºç®—æ³•éƒ½è¦å¿«å¾—å¤šï¼Œå…¶åœ¨å†…å­˜ä¸æ•ˆç‡ä¸Šéƒ½éå¸¸ä¼˜ç§€</p>
<ul>
<li>å†…å­˜ä¸Šï¼Œå¿«é€Ÿæ’åºæ˜¯åŸåœ°æ’åºï¼Œå…¶åªéœ€è¦ä¸€ä¸ªå¾ˆå°çš„è¾…åŠ©æ ˆ</li>
<li>æ•ˆç‡ä¸Šï¼Œå¿«é€Ÿæ’åºå°†é•¿åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>çš„æ•°ç»„æ’åºæ‰€éœ€çš„æ—¶é—´å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi>l</mi><mi>g</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">NlgN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">Nl</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>æˆæ­£æ¯”ã€‚</li>
</ul>
<h3 id="åŸºæœ¬å®ç°">åŸºæœ¬å®ç°</h3>
<p>å¿«é€Ÿæ’åºåŒå½’å¹¶æ’åºä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸€ç§åŸºäºåˆ†æ²»æ€æƒ³çš„é€’å½’æ’åºç®—æ³•ï¼Œå®ƒä»¬éƒ½ä¼šå°†æ•°ç»„è¿›è¡Œåˆ†å‰²ï¼Œå¹¶åˆ†åˆ«æ’åºï¼Œä¸åŒçš„æ˜¯å®ƒä»¬åœ¨å®ç°æ€è·¯ä¸Šæ˜¯ç›¸åçš„ï¼Œæˆ–è€…è¯´äº’è¡¥çš„ï¼š</p>
<ul>
<li>å½’å¹¶æ’åºä¼šå…ˆå¯¹æ•°ç»„è¿›è¡Œåˆ†å‰²ï¼Œç„¶åå°†åˆ†å‰²å®Œæˆçš„æ•°ç»„åˆ†åˆ«æ’åºï¼Œæœ€åå°†å·²ç»æœ‰åºçš„å­æ•°ç»„è¿›è¡Œå½’å¹¶ä»è€Œå®ç°å¯¹æ•´ä¸ªæ•°ç»„çš„æ’åºï¼›æ€»çš„æ¥è¯´ï¼Œå½’å¹¶æ’åºæ˜¯<strong>å…ˆé€’å½’å†å¤„ç†æ•°ç»„</strong></li>
<li>å¿«é€Ÿæ’åºçš„æ€æƒ³åˆ™æ˜¯å…¶ä¼šä¾æ®æ•°ç»„å…ƒç´ çš„å¤§å°å¯¹æ•°ç»„è¿›è¡Œåˆ†å‰²ï¼Œå³â€œæ˜¯å½“ä¸¤ä¸ªå­æ•°ç»„éƒ½æœ‰åºæ—¶æ•´ä¸ªæ•°ç»„ä¹Ÿå°±è‡ªç„¶æœ‰åºäº†â€ï¼›å…¶æ˜¯<strong>å…ˆå¤„ç†æ•°ç»„å†è¿›è¡Œé€’å½’</strong>çš„</li>
</ul>
<p>å½¢è±¡çš„è¯´ï¼Œå½’å¹¶æ˜¯åœ¨é€’å½’åˆ°åº•å±‚ä¹‹åå‘ä¸Šè¿”å›çš„è¿‡ç¨‹ä¸­å®Œæˆå¯¹æ•°ç»„çš„æ’åºï¼›è€Œå¿«æ’åˆ™æ˜¯å½“é€’å½’åˆ°åº•å±‚åï¼Œæ’åºå°±å·²ç»å®Œæˆäº†</p>
<p>ç›¸å¯¹åº”çš„ï¼Œå½’å¹¶æ’åºä¸­ä¼šé€šè¿‡é€’å½’è°ƒç”¨<code>â€œå½’å¹¶ï¼ˆmergeï¼‰â€</code>æ¥æ’åºæ•°ç»„ï¼Œè€Œå¿«é€Ÿæ’åºåˆ™æ˜¯é€šè¿‡<code>â€œåˆ‡åˆ†ï¼ˆpartitionï¼‰â€</code></p>
<p>å½“æˆ‘ä»¬å¯¹ä¸€ä¸ªæ•°ç»„è¿›è¡Œåˆ‡åˆ†æ—¶ï¼Œæˆ‘ä»¬ä¼šä»å…¶ä¸­é€‰å®šä¸€ä¸ªâ€œåˆ‡åˆ†å…ƒç´ â€ï¼Œä¹‹åé€šè¿‡å…ƒç´ äº¤æ¢å®ç°ï¼š<strong>åˆ‡åˆ†å…ƒç´ å·¦è¾¹çš„å…ƒç´ éƒ½å°äºå®ƒï¼Œè€Œå…¶å³è¾¹çš„å…ƒç´ éƒ½å¤§äºå®ƒ</strong></p>
<p>é€šè¿‡é€’å½’åœ°å¯¹æ•°ç»„è¿›è¡Œåˆ‡åˆ†ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥å®Œæˆå¯¹æ•°ç»„çš„æ’åºï¼Œè¿™ä¾¿æ˜¯å¿«é€Ÿæ’åºçš„åŸºæœ¬åŸç†ï¼Œä¸‹é¢ä¾¿å¯ä»¥å¼€å§‹å®ç°äº†</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202401142321251.png" alt="image-20240114232150071"></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œè¦å®ç°å¿«é€Ÿæ’åºçš„åˆ‡åˆ†ï¼Œä¸€èˆ¬çš„ç­–ç•¥æ˜¯å…ˆéšæ„å–ä¸€ä¸ªå…ƒç´ ä½œä¸ºåˆ‡åˆ†å…ƒç´ ï¼Œè¿™é‡Œå…ˆå–<code>a[lo]</code>ï¼Œå³æœ€å·¦è¾¹çš„å…ƒç´ ï¼›ç„¶åæˆ‘ä»¬ä»æ•°ç»„çš„å·¦ç«¯å¼€å§‹ä½¿ç”¨æŒ‡é’ˆ<code>i</code>å‘å³æ‰«æç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå¤§äºç­‰äºå®ƒçš„å…ƒç´ ï¼Œå†ä»æ•°ç»„çš„å³ç«¯å¼€å§‹ä½¿ç”¨æŒ‡é’ˆ<code>j</code>å‘å·¦æ‰«æç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå°äºç­‰äºå®ƒçš„å…ƒç´ ï¼›è¿™ä¸¤ä¸ªå…ƒç´ æ˜¾ç„¶æ˜¯æ²¡æœ‰æ’å®šçš„ï¼Œå› æ­¤æˆ‘ä»¬äº¤æ¢å®ƒä»¬çš„ä½ç½®ï¼›å¦‚æ­¤ç»§ç»­ï¼Œç›´åˆ°<code>i</code>ä¸<code>j</code>ç›¸é‡ï¼Œå†å°†åˆ‡åˆ†å…ƒç´ äº¤æ¢åˆ°ä¸­é—´ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®ç°åˆ‡åˆ†æ•ˆæœäº†</p>
<p>ä»¥ä¸‹å¿«é€Ÿæ’åºçš„åŸºæœ¬å®ç°ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">Partition</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; &amp;vec, <span class="type">const</span> <span class="type">int</span> left, <span class="type">const</span> <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> item = vec[left];</span><br><span class="line">    <span class="type">int</span> i = left, j = right + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="comment">// stop even vec[i/j] == item, which may cause extra swap, but it can optimize elements&#x27; distribution</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">IsSmaller</span>(vec[++i], item)) <span class="keyword">if</span> (i == right) <span class="keyword">break</span>; <span class="comment">// prevent out-of-bounds</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">IsGreater</span>(vec[--j], item)) <span class="keyword">if</span> (j == left) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span> (i &gt;= j) <span class="keyword">break</span>;</span><br><span class="line">        <span class="built_in">Swap</span>(vec, i, j);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Swap</span>(vec, left, j);</span><br><span class="line">    <span class="keyword">return</span> j;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QuickSort</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; &amp;vec, <span class="type">const</span> <span class="type">int</span> left, <span class="type">const</span> <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (left &gt;= right) <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> mid = <span class="built_in">Partition</span>(vec, left, right);</span><br><span class="line">    <span class="built_in">QuickSort</span>(vec, left, mid - <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">QuickSort</span>(vec, mid + <span class="number">1</span>, right);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QuickSort</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; &amp;vec)</span> </span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> size = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(vec.<span class="built_in">size</span>());</span><br><span class="line">    <span class="built_in">QuickSort</span>(vec, <span class="number">0</span>, size - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="é¿å…ç³Ÿç³•çš„å®ç°">é¿å…ç³Ÿç³•çš„å®ç°</h3>
<p>å¿«é€Ÿæ’åºæœ‰ç€æ— æ•°ä¼˜ç‚¹ï¼Œä½†å…¶éå¸¸â€œè„†å¼±â€ï¼Œä¸€äº›ç³Ÿç³•çš„å®ç°ä¼šå¾ˆå®¹æ˜“å¯¼è‡´ç³Ÿç³•çš„æ€§èƒ½ï¼Œè®©å¿«é€Ÿæ’åºå˜æˆè¶…æ…¢æ’åºğŸ¤£</p>
<p>ä»¥ä¸‹æ˜¯ä¸€äº›è¦ç‚¹ï¼š</p>
<ul>
<li>åŸåœ°åˆ‡åˆ†</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥è½»æ˜“åœ°åƒå®ç°å½’å¹¶æ’åºé‚£æ ·ç”¨ä¸€ä¸ªè¾…åŠ©æ•°ç»„æ¥å®ç°åˆ‡åˆ†ï¼Œä½†å…¶ä¸­å› ä¸ºå¼€è¾Ÿæ•°ç»„ä¸æ•°ç»„å¤åˆ¶æ‰€å¸¦æ¥çš„çš„å†…å­˜ä¸æ•ˆç‡æŸå¤±ä¼šè®©æˆ‘å¾—ä¸å¿å¤±</p>
<ul>
<li>æ•°ç»„è¶Šç•Œé—®é¢˜</li>
</ul>
<p>åœ¨åˆ‡åˆ†çš„å†…å¾ªç¯ä¸­ï¼Œæˆ‘ä»¬ä¼šä¾æ®åˆ‡åˆ†å…ƒç´ æ‰«ææ•°ç»„ï¼Œè€Œå½“åˆ‡åˆ†å…ƒç´ æ˜¯æœ€å°æˆ–æœ€å¤§çš„å…ƒç´ æ—¶ï¼Œæ•°ç»„è¶Šç•Œçš„é—®é¢˜ä¾¿å¯èƒ½å‘ç”Ÿï¼Œåœ¨æˆ‘ä»¬ä¸Šé¢çš„å®ç°ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡<code>if (i == right) break</code>ä¸<code>if (j == left) break</code>é¢„é˜²äº†è¿™ä¸ªé—®é¢˜</p>
<p>ä½†å®é™…ä¸Šï¼Œä¸Šé¢å®ç°ä¸­çš„<code>if (j == left) break</code>å­˜åœ¨å†—ä½™ï¼Œå› ä¸ºæˆ‘ä»¬é€‰æ‹©çš„åˆ‡åˆ†å…ƒç´ æ˜¯æ•°ç»„æœ€å·¦è¾¹çš„å…ƒç´ ï¼Œè€Œå®é™…ä¸Š<code>vec[j]</code>æ— è®ºå¦‚ä½•ä¹Ÿä¸ä¼šå°äº<code>vec[left]</code>ï¼Œæ‰€ä»¥è¿™æ¡è¯­å¥å®é™…ä¸Šæ˜¯å¯ä»¥åˆ å»çš„ï¼Œåœ¨è¿™ä¸€æƒ…å†µä¸‹ï¼Œåˆ‡åˆ†å…ƒç´ æœ¬èº«è¢«ä½œä¸ºäº†â€œå“¨å…µâ€ï¼Œé˜²æ­¢äº†æ•°ç»„è¶Šç•Œçš„äº§ç”Ÿ</p>
<p>è€Œå®é™…ä¸Šï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰‹åŠ¨åœ¨æ•°ç»„æœ€å³ç«¯åˆ¶é€ ä¸€ä¸ªâ€œå“¨å…µâ€ï¼Œå¦‚æ­¤ä¸€æ¥<code>if (i == right) break</code>ä¾¿ä¹Ÿå¯ä»¥çœå»äº†ï¼›æˆ‘ä»¬å¯ä»¥åœ¨å¼€å§‹æ’åºå‰ï¼Œå°†æœ€å¤§çš„å…ƒç´ æ”¾ç½®åœ¨æ•°ç»„æœ€å³è¾¹ï¼ŒåŒæ—¶åœ¨é€’å½’å·¦åŠéƒ¨åˆ†çš„æ•°ç»„æ—¶ï¼Œå°†ä¸Šä¸€è½®çš„åˆ‡åˆ†å…ƒç´ åŒ…å«ï¼Œå³ç”±<code>QuickSort(vec, left, mid - 1)</code>å˜ä¸º<code>QuickSort(vec, left, mid);</code>ï¼Œå› ä¸ºä¸Šä¸€è½®çš„åˆ‡åˆ†å…ƒç´ ä¸€å®šå¤§äºå…¶å·¦è¾¹çš„æ‰€æœ‰å…ƒç´ ï¼›è¿™æ ·åœ¨æ‰€æœ‰åˆ‡åˆ†ä¸­ï¼Œæœ€å³ç«¯çš„å…ƒç´ éƒ½æ˜¯æœ€å¤§çš„ï¼Œå¯ä»¥èµ·åˆ°â€œå“¨å…µâ€çš„ä½œç”¨äº†</p>
<ul>
<li>æ‰“ä¹±æ•°ç»„ï¼Œä¿æŒéšæœº</li>
</ul>
<p>åœ¨æ’åºå¼€å§‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ•°ç»„è¿›è¡Œæ‰“ä¹±ï¼Œè¿™ä¸€æ¥æ˜¯å¯¹ç®—æ³•æ•ˆç‡æµ‹è¯•çš„ä¿è¯ï¼›äºŒæ¥ï¼Œå¿«é€Ÿæ’åºåœ¨é¢å¯¹ä¸€äº›ç‰¹æ®Šè¾“å…¥æ—¶ä¼šæœ‰æå·®çš„æ€§èƒ½ï¼Œå¦‚æˆ‘ä»¬æ¯æ¬¡é€‰å–çš„åˆ‡åˆ†å…ƒç´ éƒ½æ˜¯æœ€å¤§/æœ€å°çš„å…ƒç´ ï¼Œæ•ˆç‡ä¼šæ¥åˆ°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>N</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">N^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>çº§åˆ«ï¼Œæ‰“ä¹±æ•°ç»„å¯ä»¥é¿å…è¿™ä¸€ç‚¹</p>
<ul>
<li>å¾ªç¯ç»ˆæ­¢æ¡ä»¶</li>
</ul>
<p>æ­£ç¡®åœ°æ£€æµ‹æŒ‡é’ˆæ˜¯å¦è¶Šç•Œéœ€è¦ä¸€ç‚¹æŠ€å·§ï¼Œå¹¶ä¸åƒçœ‹ä¸Šå»é‚£ä¹ˆå®¹æ˜“ï¼›ä¸€ä¸ªæœ€å¸¸è§çš„é”™è¯¯æ˜¯æ²¡æœ‰è€ƒè™‘åˆ°æ•°ç»„ä¸­å¯èƒ½åŒ…å«å’Œåˆ‡åˆ†å…ƒç´ çš„å€¼ç›¸åŒçš„å…¶ä»–å…ƒç´ </p>
<ul>
<li>å¤„ç†åˆ‡åˆ†å…ƒç´ å€¼æœ‰é‡å¤çš„æƒ…å†µ</li>
</ul>
<p>å·¦ä¾§æ‰«ææœ€å¥½æ˜¯åœ¨é‡åˆ°å¤§äºç­‰äºåˆ‡åˆ†å…ƒç´ å€¼çš„å…ƒç´ æ—¶åœä¸‹ï¼Œå³ä¾§æ‰«æåˆ™æ˜¯é‡åˆ°å°äºç­‰äºåˆ‡åˆ†å…ƒç´ å€¼çš„å…ƒç´ æ—¶åœä¸‹ï¼›å°½ç®¡è¿™æ ·å¯èƒ½ä¼šä¸å¿…è¦åœ°å°†ä¸€äº›ç­‰å€¼çš„å…ƒç´ äº¤æ¢ï¼Œä½†åœ¨æŸäº›å…¸å‹åº”ç”¨ä¸­ï¼Œå®ƒèƒ½å¤Ÿé¿å…ç®—æ³•çš„è¿è¡Œæ—¶é—´å˜ä¸ºå¹³æ–¹çº§åˆ«ï¼›ç¨åæˆ‘ä»¬ä¼šè®¨è®ºå¦ä¸€ç§å¯ä»¥æ›´å¥½åœ°å¤„ç†å«æœ‰å¤§é‡é‡å¤å€¼çš„æ•°ç»„çš„æ–¹æ³•</p>
<ul>
<li>é€’å½’ç»ˆæ­¢æ¡ä»¶</li>
</ul>
<p>å®ç°å¿«é€Ÿæ’åºæ—¶ä¸€ä¸ªå¸¸è§çš„é”™è¯¯å°±æ˜¯ä¸èƒ½ä¿è¯å°†åˆ‡åˆ†å…ƒç´ æ”¾å…¥æ­£ç¡®çš„ä½ç½®ï¼Œä»è€Œå¯¼è‡´ç¨‹åºåœ¨åˆ‡åˆ†å…ƒç´ æ­£å¥½æ˜¯å­æ•°ç»„çš„æœ€å¤§æˆ–æ˜¯æœ€å°å…ƒç´ æ—¶é™·å…¥äº†æ— é™çš„é€’å½’å¾ªç¯ä¹‹ä¸­</p>
<h3 id="åˆ†æ-6">åˆ†æ</h3>
<p>å¿«é€Ÿæ’åºçš„æ•ˆç‡å¦‚æ­¤ä¹‹é«˜çš„ä¸€ä¸ªå¾ˆé‡è¦çš„åŸå› å¾—ç›Šäºå…¶ç®€æ´é«˜æ•ˆçš„åˆ‡åˆ†å†…å¾ªç¯ï¼Œåœ¨å¿«é€Ÿæ’åºçš„åˆ‡åˆ†æ–¹æ³•ä¸­ç¯ä¼šç”¨ä¸€ä¸ªé€’å¢çš„ç´¢å¼•å°†æ•°ç»„å…ƒç´ å’Œä¸€ä¸ªå®šå€¼æ¯”è¾ƒï¼Œè€Œå¸Œå°”æ’åºä¸å½’å¹¶æ’åºåˆ™è¿˜éœ€è¦åœ¨å†…å¾ªç¯ä¸­è¿›è¡Œæ•°æ®çš„ç§»åŠ¨</p>
<p>å¿«é€Ÿæ’åºå¦ä¸€ä¸ªé€Ÿåº¦ä¼˜åŠ¿åœ¨äºå®ƒçš„æ¯”è¾ƒæ¬¡æ•°å¾ˆå°‘</p>
<blockquote>
<p><strong>å°†é•¿åº¦ä¸º N çš„æ— é‡å¤æ•°ç»„æ’åºï¼Œå¿«é€Ÿæ’åºå¹³å‡éœ€è¦<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Â </mtext><mn>2</mn><mi>N</mi><mi>l</mi><mi>n</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">~2NlnN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mspace nobreak">Â </span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.01968em;">Nl</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>æ¬¡æ¯”è¾ƒï¼ˆä»¥åŠ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>6</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{6}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">6</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>çš„äº¤æ¢ï¼‰</strong></p>
</blockquote>
<p>æ€»çš„æ¥è¯´ï¼Œå¯ä»¥è‚¯å®šçš„æ˜¯å¯¹äºå¤§å°ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>çš„æ•°ç»„ï¼Œå¿«é€Ÿæ’åºçš„è¿è¡Œæ—¶é—´åœ¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1.39</mn><mi>N</mi><mi>l</mi><mi>g</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">1.39NlgN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">1.39</span><span class="mord mathnormal" style="margin-right:0.01968em;">Nl</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>çš„æŸä¸ªå¸¸æ•°å› å­çš„èŒƒå›´ä¹‹å†…ï¼›å½’å¹¶æ’åºä¹Ÿèƒ½åšåˆ°è¿™ä¸€ç‚¹ï¼Œä½†æ˜¯å¿«é€Ÿæ’åºä¸€èˆ¬ä¼šæ›´å¿«ï¼ˆå°½ç®¡å®ƒçš„æ¯”è¾ƒæ¬¡æ•°å¤š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>39</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">39\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">39%</span></span></span></span>ï¼‰ï¼Œå› ä¸ºå®ƒç§»åŠ¨æ•°æ®çš„æ¬¡æ•°æ›´å°‘ï¼›è¿™äº›ä¿è¯éƒ½æ¥è‡ªäºæ•°å­¦æ¦‚ç‡</p>
<h3 id="æ”¹è¿›">æ”¹è¿›</h3>
<p>å¿«é€Ÿæ’åºæ˜¯ç”± C.A.R Hoare åœ¨ 1960 å¹´å‘æ˜çš„ï¼Œå‡ ä¹ä» Hoare ç¬¬ä¸€æ¬¡å‘è¡¨è¿™ä¸ªç®—æ³•å¼€å§‹ï¼Œäººä»¬å°±ä¸æ–­åœ°æå‡ºå„ç§æ”¹è¿›æ–¹æ³•ï¼›å¹¶ä¸æ˜¯æ‰€æœ‰çš„æƒ³æ³•éƒ½å¯è¡Œï¼Œå› ä¸ºå¿«é€Ÿæ’åºçš„å¹³è¡¡æ€§å·²ç»éå¸¸å¥½ï¼Œæ”¹è¿›æ‰€å¸¦æ¥çš„æé«˜å¯èƒ½ä¼šè¢«æ„å¤–çš„å‰¯ä½œç”¨æ‰€æŠµæ¶ˆï¼›ä½†å…¶ä¸­ä¸€äº›ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬ç°åœ¨è¦ä»‹ç»çš„ï¼Œéå¸¸æœ‰æ•ˆ</p>
<h4 id="å¯¹å°è§„æ¨¡å­æ•°ç»„ä½¿ç”¨æ’å…¥æ’åº">å¯¹å°è§„æ¨¡å­æ•°ç»„ä½¿ç”¨æ’å…¥æ’åº</h4>
<p>åŒæ ·çš„æ–¹æ³•æˆ‘ä»¬åœ¨ä¹‹å‰ä»‹ç»<a href="#anchor-merge_insertion">å½’å¹¶æ’åºçš„æ”¹è¿›æ–¹æ³•</a>æ—¶å·²ç»ç”¨è¿‡ï¼Œæ­¤å¤„çš„æ€è·¯ä¹Ÿå·®ä¸å¤š</p>
<ul>
<li>å¯¹äºå°æ•°ç»„ï¼Œå¿«é€Ÿæ’åºæ¯”æ’å…¥æ’åºæ…¢</li>
<li>å› ä¸ºé€’å½’ï¼Œå¿«é€Ÿæ’åºçš„<code>QuickSort()</code>æ–¹æ³•åœ¨å°æ•°ç»„ä¸­ä¹Ÿä¼šè°ƒç”¨è‡ªå·±</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">QuickSort</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; &amp;vec, <span class="type">const</span> <span class="type">int</span> left, <span class="type">const</span> <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> kCUTOFF = <span class="number">7</span>;</span><br><span class="line">    <span class="keyword">if</span> (right - left &lt;= kCUTOFF) &#123; <span class="comment">// apply insertion sort for small subarrays</span></span><br><span class="line">        <span class="built_in">InsertionSort</span>(vec, left, right);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> mid = <span class="built_in">Partition3Sample</span>(vec, left, right);</span><br><span class="line">    <span class="built_in">QuickSort</span>(vec, left, mid - <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">QuickSort</span>(vec, mid + <span class="number">1</span>, right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åˆ‡æ¢é˜ˆå€¼<code>kCUTOFF</code>çš„æœ€ä½³å€¼æ˜¯å’Œç³»ç»Ÿç›¸å…³çš„ï¼Œä½†æ˜¯5ï½15ä¹‹é—´çš„ä»»æ„å€¼åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½èƒ½ä»¤äººæ»¡æ„</p>
<h4 id="ä¸‰å–æ ·åˆ‡åˆ†">ä¸‰å–æ ·åˆ‡åˆ†</h4>
<p>å¿«é€Ÿæ’åºçš„æ•ˆç‡å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºåˆ‡åˆ†å…ƒç´ çš„é€‰æ‹©ï¼Œå…¶æœ€ä¼˜æƒ…å†µä¾¿æ˜¯åˆ‡åˆ†å…ƒç´ æ­£å¥½ç­‰äºæ•°ç»„å…ƒç´ çš„ä¸­ä½æ•°ï¼Œä½†è¦è®¡ç®—å‡ºè¿™ä¸€æ•°å€¼ä¾¿æ„å‘³ç€æˆ‘ä»¬éœ€è¦åœ¨æ¯æ¬¡åˆ‡åˆ†æ—¶éƒ½è¿›è¡Œä¸€æ¬¡éå†ï¼Œè¿™æ˜¯å¾—ä¸å¿å¤±çš„</p>
<p>åœ¨æˆ‘ä»¬ç›®å‰çš„å®ç°ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡æ‰“ä¹±æ•°ç»„å®Œå…¨æ¶ˆé™¤äº†è¾“å…¥çš„å½±å“ï¼Œä½¿å¾—åˆ‡åˆ†å…ƒç´ çš„é€‰å–å®Œå…¨éšæœºï¼Œè¿™æ ·å¯ä»¥åœ¨å®Œå…¨ä¸è®¡ç®—ä¸­ä½æ•°çš„æƒ…å†µä¸‹è¾¾åˆ°å¹³å‡çš„æ•ˆç‡</p>
<p>è€Œå–æ ·åˆ‡åˆ†åˆ™ä½¿ç”¨å­æ•°ç»„çš„ä¸€å°éƒ¨åˆ†å…ƒç´ çš„ä¸­ä½æ•°æ¥åˆ‡åˆ†æ•°ç»„ï¼Œè¿™å¯ä»¥è®©åˆ‡åˆ†æ›´ä¼˜ç§€ï¼Œè™½ç„¶åŒæ ·ä¼šä»˜å‡ºè®¡ç®—ä¸­ä½æ•°çš„ä»£ä»·ï¼Œä½†è¿™æ˜æ˜¾æ¯”éå†å¥½å¤šäº†ï¼Œè¿™ç§ä»£ä»·æ˜¯å¯ä»¥æ¥å—çš„ï¼›äººä»¬å‘ç°å°†å–æ ·å¤§å°è®¾ä¸º3å¹¶ç”¨å¤§å°å±…ä¸­çš„å…ƒç´ åˆ‡åˆ†çš„æ•ˆæœæœ€å¥½</p>
<p>åŒæ—¶ï¼Œå–æ ·åˆ‡åˆ†å¯ä»¥å¸¦æ¥çš„é¢å¤–å¥½å¤„æ˜¯ï¼Œæˆ‘ä»¬ä¸éœ€è¦è¿›è¡Œç‰¹åˆ«çš„å¤„ç†ä¾¿å¯ä»¥å°†å–æ ·å…ƒç´ æ‰€è°“å“¨å…µä½¿ç”¨ï¼Œè¿™æ ·å¯ä»¥å»é™¤åˆ‡åˆ†ç®—æ³•ä¸­çš„è¾¹ç•Œæ£€æŸ¥</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">Partition3Sample</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; &amp;vec, <span class="type">const</span> <span class="type">int</span> left, <span class="type">const</span> <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// sample item at left/mid/right</span></span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">IsGreater</span>(vec[mid], vec[right])) <span class="built_in">Swap</span>(vec, right, mid);</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">IsGreater</span>(vec[mid], vec[left])) <span class="built_in">Swap</span>(vec, left, mid);</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">IsGreater</span>(vec[left], vec[right])) <span class="built_in">Swap</span>(vec, left, right);</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> item = vec[left];</span><br><span class="line">    <span class="type">int</span> i = left, j = right + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">IsSmaller</span>(vec[++i], item)) &#123;&#125; <span class="comment">// prevent out-of-bounds</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">IsGreater</span>(vec[--j], item)) &#123;&#125;</span><br><span class="line">        <span class="keyword">if</span> (i &gt;= j) <span class="keyword">break</span>;</span><br><span class="line">        <span class="built_in">Swap</span>(vec, i, j);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Swap</span>(vec, left, j);</span><br><span class="line">    <span class="keyword">return</span> j;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="ç†µæœ€ä¼˜æ’åº-ä¸‰å‘åˆ‡åˆ†">ç†µæœ€ä¼˜æ’åº - ä¸‰å‘åˆ‡åˆ†</h4>
<p>åœ¨æ’åºç®—æ³•çš„å®é™…åº”ç”¨ä¸­ï¼Œå¸¸å¸¸ä¼šé‡åˆ°æœ‰ç€å¤§é‡ç›¸åŒå…ƒç´ çš„è¾“å…¥æºï¼Œå¦‚æŒ‰ç”Ÿæ—¥ã€æ€§åˆ«è¿›è¡Œæ’åºï¼›åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œå¿«é€Ÿæ’åºçš„æ•ˆç‡ä»ç„¶æœ‰ç€å¾ˆå¤§çš„è¿›æ­¥ç©ºé—´ï¼›å¦‚ï¼Œå¯¹äºä¸€ä¸ªå®Œå…¨ç”±ç›¸åŒå…ƒç´ æ„æˆçš„æ•°ç»„ï¼Œå¿«æ’ä»ä¼šå¯¹å…¶è¿›è¡Œåˆ‡åˆ†ã€‚</p>
<p>ä¸Šè¿°é—®é¢˜çš„ä¸€ä¸ªè§£å†³æ–¹æ¡ˆä¾¿æ˜¯ä¸‰å‘åˆ‡åˆ†ï¼Œå³å°†æ•°ç»„åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼šå¤§äºã€ç­‰äºã€å°äºåˆ‡åˆ†å…ƒç´ ï¼Œè€Œä¸æ˜¯ç›´æ¥äºŒåˆ†ï¼›å½“ç„¶è¿™è‚¯å®šä¼šåŠ å¤§ç®—æ³•è®¾è®¡çš„éš¾åº¦ï¼Œä¸‹é¢ä¾¿æ˜¯ç”±<code>Dijkstra</code>æå‡ºçš„ç®€æ´å®ç°ï¼Œå…¶é€šè¿‡å¼•å…¥ä¸€ä¸ªé¢å¤–æŒ‡é’ˆåˆ’åˆ†å‡ºç­‰äºåŒºã€‚</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202409012349345.png" alt="image-20240901234931167" style="zoom:150%;" />
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">QuickSort3Way</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; &amp;vec, <span class="type">const</span> <span class="type">int</span> left, <span class="type">const</span> <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (left &gt;= right) <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> less_then_i = left, i = left + <span class="number">1</span>, greater_than_i = right;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> item = vec[left];</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= greater_than_i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">IsSmaller</span>(vec[i], item)) &#123;</span><br><span class="line">            <span class="built_in">Swap</span>(vec, less_then_i++, i++);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">IsGreater</span>(vec[i], item)) &#123;</span><br><span class="line">            <span class="built_in">Swap</span>(vec, greater_than_i--, i);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">QuickSort3Way</span>(vec, left, less_then_i - <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">QuickSort3Way</span>(vec, greater_than_i + <span class="number">1</span> , right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆå †æ’åºï¼‰">ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆå †æ’åºï¼‰</h2>
<p>åœ¨æ’åºç®—æ³•çš„ä¸€äº›å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬æœ‰æ—¶ä¸ä¸€å®šè¦æ±‚æ•°æ®çš„å…¨å±€æœ‰åºï¼Œå¦‚åœ¨å®‰æ’åº”ç”¨ç¨‹åºå¤„ç†çš„ä¼˜å…ˆçº§æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦ç¡®ä¿æ€»æ˜¯å¤„ç†ä¼˜å…ˆçº§æœ€é«˜çš„ç¨‹åºå³å¯ã€‚è€Œä¼˜å…ˆé˜Ÿåˆ—ä¾¿æ˜¯åŸºäºè¿™ä¸€æ€æƒ³è®¾è®¡çš„æŠ½è±¡æ•°æ®ç±»å‹ï¼Œä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—å¾€å¾€ä¼šåŒ…å«_åˆ é™¤æœ€å¤§å…ƒç´ _ä¸_æ’å…¥å…ƒç´ _ä¸¤ç§åŸºæœ¬æ“ä½œã€‚</p>
<h3 id="ä¼˜å…ˆé˜Ÿåˆ—çš„åˆçº§å®ç°">ä¼˜å…ˆé˜Ÿåˆ—çš„åˆçº§å®ç°</h3>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¹‹å‰çš„æ’åºç®—æ³•ï¼Œå¦‚æ’å…¥æ’åºï¼Œå¿«é€Ÿåœ°å®ç°ä¼˜å…ˆé˜Ÿåˆ—ï¼Œåœ¨è®¿é—®å…ƒç´ æˆ–æ’å…¥å…ƒç´ æ—¶è‡ªåŠ¨åœ°å¯¹æ•°ç»„è°ƒç”¨ä¸€æ¬¡æ’åºç®—æ³•å³å¯ï¼Œè¿™æ ·çš„å®ç°æ˜¯ä¸€ç§å¯¹æ’åºç®—æ³•çš„å°è£…ï¼Œåœ¨é€Ÿåº¦ä¸å†…å­˜ä¸Šçš„æå‡æœ‰é™ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚</p>
<h3 id="åŸºäºäºŒå‰å †çš„ä¼˜å…ˆé˜Ÿåˆ—">åŸºäºäºŒå‰å †çš„ä¼˜å…ˆé˜Ÿåˆ—</h3>
<blockquote>
<p><strong><code>äºŒå‰å †</code>æ˜¯ä¸€ç§å®Œå…¨äºŒå‰æ ‘ï¼Œå…¶æ¯ä¸ªèŠ‚ç‚¹éƒ½å¤§äºæˆ–ç­‰äºå®ƒçš„ä¸¤ä¸ªå­èŠ‚ç‚¹</strong></p>
</blockquote>
<p>ä½¿ç”¨äºŒå‰å †å¯ä»¥å¾ˆå¥½åœ°å®ç°ä¼˜å…ˆé˜Ÿåˆ—çš„åŸºæœ¬æ“ä½œï¼ŒåŸºäºäºŒå‰å †çš„æ€§è´¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ•°ç»„æ¥å®ç°äºŒå‰å †ã€‚å…¶ä¸­ï¼Œä½ç½®ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>çš„çˆ¶èŠ‚ç‚¹çš„ä¸¤ä¸ªå­èŠ‚ç‚¹ä½ç½®ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>k</mi></mrow><annotation encoding="application/x-tex">2k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>ä¸<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>k</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2k+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>ï¼ŒåŒæ—¶æˆ‘ä»¬åªéœ€é€šè¿‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">k/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord">/2</span></span></span></span>ä¾¿å¯ä»¥æ‰¾åˆ°èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ã€‚</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202409292238212.png" alt="image-20240929223824022" style="zoom: 80%;" />
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MaxPriorityQueue</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">MaxPriorityQueue</span>() &#123; pq_.<span class="built_in">push_back</span>(<span class="number">0</span>); &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Insert</span><span class="params">(<span class="type">int</span> key)</span> </span>&#123;</span><br><span class="line">        pq_.<span class="built_in">push_back</span>(key);</span><br><span class="line">        <span class="built_in">Swim</span>(<span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(pq_.<span class="built_in">size</span>()) - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">ExtractMax</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (pq_.<span class="built_in">size</span>() &lt;= <span class="number">1</span>) <span class="keyword">throw</span> std::<span class="built_in">runtime_error</span>(<span class="string">&quot;queue is empty&quot;</span>);</span><br><span class="line">        <span class="type">int</span> max = pq_[<span class="number">1</span>];</span><br><span class="line">        pq_[<span class="number">1</span>] = pq_.<span class="built_in">back</span>();</span><br><span class="line">        pq_.<span class="built_in">pop_back</span>();</span><br><span class="line">        <span class="built_in">Sink</span>(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    [[nodiscard]] <span class="function"><span class="type">int</span> <span class="title">GetMax</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (pq_.<span class="built_in">size</span>() &lt;= <span class="number">1</span>) <span class="keyword">throw</span> std::<span class="built_in">runtime_error</span>(<span class="string">&quot;queue is empty&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> pq_[<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    [[nodiscard]] <span class="function"><span class="type">bool</span> <span class="title">IsEmpty</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> pq_.<span class="built_in">size</span>() &lt;= <span class="number">1</span>; &#125;</span><br><span class="line">    [[nodiscard]] <span class="function"><span class="type">size_t</span> <span class="title">GetSize</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> pq_.<span class="built_in">size</span>() - <span class="number">1</span>; &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; pq_;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Swim</span><span class="params">(<span class="type">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (i &gt; <span class="number">1</span> &amp;&amp; pq_[i / <span class="number">2</span>] &lt; pq_[i]) &#123;</span><br><span class="line">            <span class="built_in">Swap</span>(pq_, i / <span class="number">2</span>, i);</span><br><span class="line">            i /= <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Sink</span><span class="params">(<span class="type">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> child = <span class="number">2</span> * i;</span><br><span class="line">        <span class="keyword">while</span> (child &lt; pq_.<span class="built_in">size</span>()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (child &lt; pq_.<span class="built_in">size</span>() - <span class="number">1</span> &amp;&amp; pq_[child] &lt; pq_[child + <span class="number">1</span>]) child++;</span><br><span class="line">            <span class="keyword">if</span> (pq_[i] &gt;= pq_[child]) <span class="keyword">break</span>;</span><br><span class="line">            <span class="built_in">Swap</span>(pq_, i, child);</span><br><span class="line">            i = child;</span><br><span class="line">            child = <span class="number">2</span> * i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šä¾¿æ˜¯æœ€å¤§å †åœ¨<code>C++</code>ä¸­çš„åŸºç¡€å®ç°ã€‚ä½¿ç”¨äº†<code>std::vector</code>ä½œä¸ºå­˜å‚¨æ•°æ®çš„å®¹å™¨ï¼Œå…¶ä¸­æˆ‘ä»¬è·³è¿‡äº†æ•°ç»„çš„ç¬¬0ä½ï¼Œè¿™æ˜¯ä¸ºäº†è®©çˆ¶å­èŠ‚ç‚¹çš„å¯¹åº”å…³ç³»æ›´åŠ ç®€æ´ã€‚</p>
<p>åœ¨å®ç°äºŒå‰å †æ—¶ï¼Œä¸¤ä¸ªæ“ä½œè‡³å…³é‡è¦ï¼š</p>
<ol>
<li><code>Swim</code>ä¸Šæµ®ï¼šç”±ä¸‹è‡³ä¸Šçš„å †æœ‰åºåŒ–</li>
</ol>
<p>æ’å…¥å…ƒç´ æ—¶ï¼Œæ’å…¥çš„å…ƒç´ å¯èƒ½å¤§äºå…¶çˆ¶èŠ‚ç‚¹ï¼Œæˆ‘ä»¬ä¾¿éœ€è¦å°†å…¶â€œä¸Šæµ®â€â€”â€”å¦‚æœå…ƒç´ å¤§äºçˆ¶èŠ‚ç‚¹ï¼Œæˆ‘ä»¬ä¾¿å°†å…¶ä¸æ–­åœ°ä¸å…¶çˆ¶èŠ‚ç‚¹è¿›è¡Œäº¤æ¢ï¼Œç›´åˆ°é‡åˆ°æ ¹èŠ‚ç‚¹æˆ–å…¶å°äºçˆ¶èŠ‚ç‚¹æ—¶ã€‚è¿™ä¸€æ“ä½œå°±åƒå…ƒç´ ä¸æ–­åœ°å‘ä¸Šæ¸¸ï¼ˆäº¤æ¢ï¼‰ã€‚</p>
<ol start="2">
<li><code>Sink</code>ä¸‹æ²‰ï¼šç”±ä¸Šè‡³ä¸‹çš„å †æœ‰åºåŒ–</li>
</ol>
<p>åˆ é™¤æœ€å¤§å…ƒç´ æ—¶ï¼Œæˆ‘ä»¬ä¼šä»æ•°ç»„ä¸­é€‰æ‹©ä¸€ä¸ªå…ƒç´ å¡«å……åˆ°æ ¹èŠ‚ç‚¹ä¸­ï¼ˆåœ¨ä¸Šé¢çš„å®ç°ä¸­æ˜¯æœ€åçš„å…ƒç´ ï¼‰ï¼Œè¿™ä¼šå¯¼è‡´çˆ¶èŠ‚ç‚¹å°äºå­èŠ‚ç‚¹ï¼Œæˆ‘ä»¬ä¾¿éœ€è¦å°†å…¶â€œä¸‹æ²‰â€â€”â€”å¦‚æœå…ƒç´ å°äºå­èŠ‚ç‚¹ä¹‹ä¸€ï¼Œæˆ‘ä»¬ä¾¿å°†å…¶ä¸æ–­åœ°ä¸å…¶å­èŠ‚ç‚¹ä¸­è¾ƒå¤§çš„ä¸€ä¸ªè¿›è¡Œäº¤æ¢ã€‚è¿™ä¸€æ“ä½œå°±åƒå…ƒç´ ä¸æ–­åœ°ä¸‹æ²‰ã€‚</p>
<h3 id="å †æ’åº">å †æ’åº</h3>
<p>æˆ‘ä»¬å¯ä»¥å°†ä¼˜å…ˆé˜Ÿåˆ—è½¬åŒ–ä¸ºä¸€ç§æ’åºç®—æ³•â€”â€”å †æ’åºï¼Œå…¶å¯ä»¥è¢«åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š</p>
<ol>
<li>å †çš„æ„é€ â€”â€”å°†åŸå§‹æ•°æ®é‡æ–°å®‰æ’è¿›å †ä¸­</li>
<li>ä¸‹æ²‰æ’åºâ€”â€”ä»å †ä¸­é€ä¸ªå–å‡ºæ‰€æœ‰å…ƒç´ å¾—åˆ°æœ€ç»ˆç»“æœ</li>
</ol>
<p>å¦‚ä¸‹æ‰€ç¤ºï¼Œå †æ’åºçš„æœ€ç®€å•å®ç°æ–¹æ³•ä¾¿æ˜¯ç›´æ¥æ„é€ ä¸€ä¸ªæ–°å †ï¼Œå°†å¾…æ’åºæ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½æ’å…¥ä¸­å †ä¸­ï¼Œå†ä¸€ä¸ªä¸ªå–å‡ºæœ€å¤§/æœ€å°å…ƒç´ å³å¯ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">HeapSort</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; &amp;vec)</span> </span>&#123;</span><br><span class="line">    MaxPriorityQueue pq;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i : vec) pq.<span class="built_in">Insert</span>(i);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> &amp;i : vec) i = pq.<span class="built_in">ExtractMax</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœåƒä¸Šé¢è¿™æ ·å®ç°å †æ’åºçš„è¯ï¼Œå› ä¸ºæˆ‘ä»¬æ–°å»ºäº†ä¸€ä¸ªå †ç©ºé—´ï¼Œè¿™ä¼šå¸¦æ¥<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>çš„ç©ºé—´å¤æ‚åº¦ï¼Œè€Œå®é™…ä¸Šæˆ‘ä»¬å¯ä»¥åšåˆ°åŸåœ°å †æ’åºã€‚</p>
<p>åŒæ—¶ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥ä½¿ç”¨<code>Insert</code>æ–¹æ³•å¯¹å †è¿›è¡Œæ„é€ ï¼Œæˆ‘ä»¬ä¾¿éœ€è¦è°ƒç”¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>æ¬¡<code>Swim</code>å‡½æ•°å°†å…ƒç´ ä¸€ä¸ªä¸ªä¸Šæµ®ï¼Œè€Œå®é™…ä¸Šæ”¹ç”¨<code>Sink</code>å‡½æ•°å®Œæˆå †çš„æ„é€ æ˜¯æ›´åŠ èªæ˜çš„åšæ³•ã€‚æˆ‘ä»¬å¯ä»¥å°†æ•°ç»„è§†ä¸ºä¸€äº›å°å †çš„é›†åˆï¼Œè¿›è€Œæˆ‘ä»¬å¯ä»¥æ¯ä¸ªå°å †çš„æ ¹èŠ‚ç‚¹è°ƒç”¨<code>Sink</code>ï¼›è€Œå¦‚æœä¸€ä¸ªç»“ç‚¹çš„ä¸¤ä¸ªå­ç»“ç‚¹éƒ½å·²ç»æ˜¯å †äº†ï¼Œé‚£ä¹ˆåœ¨è¯¥ç»“ç‚¹ä¸Šè°ƒç”¨<code>Sink</code>å¯ä»¥å°†å®ƒä»¬å˜æˆä¸€ä¸ªå¤§å †ã€‚å¦‚æ­¤ä¸€æ¥ä¾¿å¯ä»¥é€’å½’åœ°æ„é€ å †ã€‚</p>
<p>è¿™æ ·åšçš„ä¼˜åŠ¿æ˜¯ï¼Œå¯¹äºå †åº•å±‚çš„å…ƒç´ ï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰å­èŠ‚ç‚¹ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥ç›´æ¥è·³è¿‡å®ƒä»¬ï¼Œè¿™å¯ä»¥è®©æˆ‘ä»¬åªè°ƒç”¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">N/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord">/2</span></span></span></span>æ¬¡<code>Sink</code>ï¼Œæ¯”åŸå…ˆçš„æ–¹æ³•è¶³è¶³å°‘äº†ä¸€åŠã€‚</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202409300306001.png" alt="image-20240930030624815" style="zoom:67%;" />
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">SinkFrom0</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; &amp;vec, <span class="type">int</span> root, <span class="type">int</span> end)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> child = <span class="number">2</span> * root + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (child &lt;= end) &#123;</span><br><span class="line">        <span class="keyword">if</span> (child &lt; end &amp;&amp; <span class="built_in">IsSmaller</span>(vec[child], vec[child + <span class="number">1</span>])) child++;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">IsGreater</span>(vec[root], vec[child]) || <span class="built_in">IsEqual</span>(vec[root], vec[child])) <span class="keyword">break</span>;</span><br><span class="line">        <span class="built_in">Swap</span>(vec, root, child);</span><br><span class="line">        root = child;</span><br><span class="line">        child = <span class="number">2</span> * root + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">HeapSortInPlace</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; &amp;vec)</span> </span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> size = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(vec.<span class="built_in">size</span>());</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = size / <span class="number">2</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) <span class="built_in">SinkFrom0</span>(vec, i, size - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = size - <span class="number">1</span>; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="built_in">Swap</span>(vec, <span class="number">0</span>, i);</span><br><span class="line">        <span class="built_in">SinkFrom0</span>(vec, <span class="number">0</span>, i - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å †æ’åºåœ¨æ’åºå¤æ‚æ€§çš„ç ”ç©¶ä¸­æœ‰ç€é‡è¦çš„åœ°ä½ï¼Œå…¶æ˜¯æˆ‘ä»¬æ‰€çŸ¥çš„å”¯ä¸€èƒ½å¤ŸåŒæ—¶æœ€ä¼˜åœ°åˆ©ç”¨ç©ºé—´å’Œæ—¶é—´çš„æ–¹æ³•â€”â€”åœ¨æœ€åçš„æƒ…å†µä¸‹å®ƒä¹Ÿèƒ½ä¿è¯ä½¿ç”¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>ï½</mtext><mn>2</mn><mi>N</mi><mi>l</mi><mi>g</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">ï½2NlgN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord cjk_fallback">ï½</span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.01968em;">Nl</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>æ¬¡æ¯”è¾ƒå’Œæ’å®šçš„é¢å¤–ç©ºé—´ã€‚å½“ç©ºé—´ååˆ†ç´§å¼ çš„æ—¶å€™ï¼ˆä¾‹å¦‚åœ¨åµŒå…¥å¼ç³»ç»Ÿæˆ–ä½æˆæœ¬çš„ç§»åŠ¨è®¾å¤‡ä¸­ï¼‰å †æ’åºå¾ˆæµè¡Œï¼Œå…¶åªç”¨å‡ è¡Œå°±èƒ½å®ç°ï¼ˆç”šè‡³æœºå™¨ç ä¹Ÿæ˜¯ï¼‰è¾ƒå¥½çš„æ€§èƒ½ã€‚</p>
<p>ä½†ç°ä»£ç³»ç»Ÿçš„è®¸å¤šåº”ç”¨å¾ˆå°‘ä½¿ç”¨å®ƒï¼Œå› ä¸ºå®ƒæ— æ³•åˆ©ç”¨ç¼“å­˜ã€‚æ•°ç»„å…ƒç´ å¾ˆå°‘å’Œç›¸é‚»çš„å…¶ä»–å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå› æ­¤ç¼“å­˜æœªå‘½ä¸­çš„æ¬¡æ•°è¦è¿œè¿œé«˜äºå¤§å¤šæ•°æ¯”è¾ƒéƒ½åœ¨ç›¸é‚»å…ƒç´ é—´è¿›è¡Œçš„ç®—æ³•ï¼Œå¦‚å¿«é€Ÿæ’åºã€å½’å¹¶æ’åºï¼Œç”šè‡³æ˜¯å¸Œå°”æ’åºã€‚</p>
<h2 id="æ€»ç»“ä¸æ‹¾é—">æ€»ç»“ä¸æ‹¾é—</h2>
<h3 id="æ’åºç®—æ³•çš„ç¨³å®šæ€§">æ’åºç®—æ³•çš„ç¨³å®šæ€§</h3>
<blockquote>
<p><strong>å¦‚æœä¸€ä¸ªæ’åºç®—æ³•èƒ½å¤Ÿä¿ç•™æ•°ç»„ä¸­é‡å¤å…ƒç´ çš„ç›¸å¯¹ä½ç½®åˆ™å¯ä»¥è¢«ç§°ä¸ºæ˜¯<code>ç¨³å®šçš„</code></strong></p>
</blockquote>
<p>è™½ç„¶ç¨³å®šæ€§æ˜¯ä¸ªä¸é”™çš„æ€§è´¨ï¼Œæˆ‘ä»¬ä¹Ÿæœ‰å¾ˆå¤šåŠæ³•èƒ½å¤Ÿå°†ä»»æ„æ’åºç®—æ³•å˜æˆç¨³å®šçš„ï¼Œä½†ä¸€èˆ¬åªæœ‰åœ¨ç¨³å®šæ€§æ˜¯å¿…è¦çš„æƒ…å†µä¸‹ç¨³å®šçš„æ’åºç®—æ³•æ‰æœ‰ä¼˜åŠ¿ï¼Œäº‹å®ä¸Šæ²¡æœ‰ä»»ä½•å®é™…åº”ç”¨ä¸­å¸¸è§çš„æ–¹æ³•ä¸æ˜¯ç”¨äº†å¤§é‡é¢å¤–çš„æ—¶é—´å’Œç©ºé—´æ‰åšåˆ°äº†è¿™ä¸€ç‚¹ã€‚</p>
<h3 id="æ’åºç®—æ³•çš„æ¨ªè¯„">æ’åºç®—æ³•çš„æ¨ªè¯„</h3>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202409300316418.png" alt=""></p>
<blockquote>
<p><strong>åœ¨å¤§å¤šæ•°å®é™…æƒ…å†µä¸­ï¼Œå¿«é€Ÿæ’åºæ˜¯æœ€ä½³é€‰æ‹©ï¼Œå…¶æ˜¯æœ€å¿«çš„é€šç”¨æ’åºç®—æ³•</strong></p>
</blockquote>
]]></content>
      <categories>
        <category>Notes</category>
        <category>Algorithm</category>
        <category>ã€ŠAlgorithms, 4th Editionã€‹</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
        <tag>Note</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŒThe Cherno-C++ã€å­¦ä¹ ç¬”è®°äºŒï¼ˆ34-66ï¼‰</title>
    <url>/posts/1002/</url>
    <content><![CDATA[<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202306010145167.jpeg" alt="cherno"></p>
<blockquote>
<p><strong>Bç«™upç¥ç»å…ƒçŒ«ç¿»è¯‘ç‰ˆï¼š<a href="https://www.bilibili.com/video/BV1uy4y167h2">https://www.bilibili.com/video/BV1uy4y167h2</a></strong></p>
</blockquote>
<h2 id="å‰è¨€">å‰è¨€</h2>
<p>C++å› ä¸ºå…¶ä¼˜å¼‚çš„æ€§èƒ½ï¼Œæ˜¯æ¸¸æˆå¼€å‘ä¸­æœ€ä¸ºå¸¸ç”¨çš„è¯­è¨€ä¹‹ä¸€ï¼Œç›®å‰çš„Unityä¸Unrealä¸¤å¤§å•†ç”¨å¼•æ“çš„å†…æ ¸éƒ½æ˜¯é‡‡ç”¨C++è¿›è¡Œç¼–å†™ï¼Œä½œä¸ºä¸€ä¸ªæœ‰å¿—äºæˆä¸ºæ¸¸æˆå¼€å‘è€…çš„äººï¼Œè¿™ç§è¯­è¨€æ€ä¹ˆèƒ½ä¸å­¦ä¸€å­¦å‘¢ï¼Ÿ</p>
<p>æœ¬æ–‡åŸºäºæ²¹ç®¡è‘—ååšä¸»ï¼Œæ›¾ä»»èŒäºEAçš„The Chernoçš„C++ç³»åˆ—è§†é¢‘ï¼ŒThe Chernoä½œä¸ºå¯’éœœå¼•æ“çš„æ ¸å¿ƒå¼€å‘äººå‘˜ä¹‹ä¸€ï¼Œå¯¹C++æœ‰ç€éå¸¸ç‹¬åˆ°è€Œæ·±åˆ»çš„ç†è§£</p>
<p>è¿™äº›ç¬”è®°è®°å½•äº†æˆ‘é€šè¿‡The Chernoçš„ç³»åˆ—è§†é¢‘å­¦ä¹ C++çš„ä¸€äº›çŸ¥è¯†ç‚¹ä¸ç†è§£ï¼Œå¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©ğŸ˜‰</p>
<blockquote>
<p>ç¬¬ä¸€ç« ï¼ˆ1-33ï¼‰ï¼š<a href="https://hmxs.games/posts/1001/">https://hmxs.games/posts/1001/</a></p>
<p><strong>ç¬¬äºŒç« ï¼ˆ34-66ï¼‰ï¼š<a href="https://hmxs.games/posts/1002/">https://hmxs.games/posts/1002/</a></strong></p>
<p>ç¬¬ä¸‰ç« ï¼ˆ67-99ï¼‰ï¼š<a href="https://hmxs.games/posts/1003/">https://hmxs.games/posts/1003/</a></p>
</blockquote>
<hr>
<h2 id="constå…³é”®å­—ï¼ˆ34ï¼‰">constå…³é”®å­—ï¼ˆ34ï¼‰</h2>
<p><code>const</code>åœ¨æ”¹å˜ç”Ÿæˆçš„ä»£ç æ–¹é¢åšä¸äº†ä»€ä¹ˆï¼Œå…¶æœ‰ç‚¹ç±»ä¼¼ç±»/ç»“æ„ä½“ä¸­çš„å¯è§æ€§</p>
<blockquote>
<p><strong><code>const</code>æ˜¯ä¸€ä¸ªå¯ä»¥è®©æˆ‘ä»¬çš„ä»£ç å˜å¾—æ›´å¹²å‡€çš„æœºåˆ¶ï¼Œæ˜¯å¯¹å¼€å‘äººå‘˜ç¼–å†™ä»£ç çš„å¼ºåˆ¶ç‰¹å®šçš„è§„åˆ™ï¼Œè¢«<code>const</code>ä¿®é¥°çš„ä¸œè¥¿è¢«æ‰¿è¯ºä¸ä¼šè¢«æ”¹å˜</strong>ï¼ˆä½†å®é™…ä¸Šï¼Œè¿™ä¸ªâ€œæ‰¿è¯ºâ€æ˜¯å¯ä»¥è¿èƒŒçš„ï¼Œanywayï¼Œit just a promise.ğŸ¤ï¼‰</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">a = <span class="number">2</span>; <span class="comment">// è¿™è¡Œä»£ç ä¼šæŠ¥é”™</span></span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šé¢çš„ä»£ç æ‰€ç¤ºï¼Œè¢«constä¿®é¥°çš„å˜é‡çš„å€¼æ— æ³•è¢«æ”¹å˜ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›å®šä¹‰ä¸€ä¸ªåœ¨ç¨‹åºä¸­æ°¸è¿œä¸å˜çš„é‡ï¼Œé‚£ä¹ˆ<code>const</code>ä¾¿å¯ä»¥å‡ºåœºäº†</p>
<p><code>const</code>æ˜¯ä¸€ç§å£°æ˜å˜é‡çš„æ–¹å¼ï¼Œè€Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¼ºåˆ¶è½¬æ¢ç»•è¿‡<code>const</code>çš„é™åˆ¶</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> MAX_AGE = <span class="number">90</span>;</span><br><span class="line"><span class="type">int</span>* a = <span class="keyword">new</span> <span class="type">int</span>;</span><br><span class="line">a = (<span class="type">int</span>*)&amp;MAX_AGE;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬è®©æŒ‡é’ˆ<code>a</code>æŒ‡å‘äº†<code>const</code>çš„<code>MAX_AGE</code>,è¿™æ ·ä¾¿ç»•è¿‡äº†<code>const</code>ï¼Œä½†å¦‚æœæˆ‘ä»¬å°è¯•é€šè¿‡é€†å‘å¼•ç”¨<code>a</code>æ¥å†™å…¥<code>MAX_AGE</code>ä¾¿å¾ˆå¯èƒ½å¯¼è‡´ç¨‹åºå´©æºƒï¼Œæ‰€ä»¥æœ€å¥½è¿˜æ˜¯åˆ«è¿™ä¹ˆå¹²</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span>* a = <span class="keyword">new</span> <span class="type">int</span>;</span><br><span class="line"><span class="type">int</span> <span class="type">const</span>* b = <span class="keyword">new</span> <span class="type">int</span>;</span><br><span class="line"><span class="type">int</span>* <span class="type">const</span> c = <span class="keyword">new</span> <span class="type">int</span>;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢æ˜¯ä¸‰ç§å£°æ˜<code>const</code>æŒ‡é’ˆçš„æ–¹å¼ï¼Œå…¶ä¸­aä¸bæ•ˆæœå®Œå…¨ä¸€æ ·ï¼Œè€Œcä¸abçš„æ•ˆæœç›¸å</p>
<p>åœ¨aä¸bä¸­ï¼Œä¿®æ”¹abæœ¬èº«æ˜¯è¢«å…è®¸çš„ï¼Œè€Œä¿®æ”¹abæŒ‡å‘çš„å†…å®¹æ˜¯è¢«ç¦æ­¢çš„ï¼Œå³<code>a = &amp;x</code>å¯è¡Œï¼Œè€Œ<code>*a = 2</code>ä¸å¯è¡Œï¼›è€Œcçš„æ•ˆæœåˆ™ä¸abç›¸å</p>
<p>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡<code>const int* const a = new int;</code>æ¥è®©<code>a</code>ä¸``*a`çš„å€¼éƒ½æ— æ³•æ”¹å˜</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> x_;</span><br><span class="line">    <span class="keyword">mutable</span> <span class="type">int</span> mutableX_;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">GetX</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        mutableX_ = <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">return</span> x_;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintX</span><span class="params">(<span class="type">const</span> Entity&amp; entity)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; entity.<span class="built_in">GetX</span>() &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç æ˜¯<code>const</code>çš„æœ€åä¸€ç§ç”¨æ³•ï¼Œåœ¨ç±»ä¸­ä¿®é¥°æ–¹æ³•ï¼ˆåªèƒ½åœ¨ç±»ä¸­è¿™æ ·ç”¨ï¼‰</p>
<p>è¢«<code>const</code>ä¿®é¥°çš„æ–¹æ³•ï¼Œåªèƒ½å¯¹ç±»ä¸­è¢«<code>mutable</code>ä¿®é¥°çš„å­—æ®µè¿›è¡Œä¿®æ”¹ï¼Œå¦‚åœ¨ä¸Šè¿°<code>GetX()</code>æ–¹æ³•ä¸­ï¼Œè‹¥å¯¹<code>X</code>è¿›è¡Œä¿®æ”¹å°±ä¼šæŠ¥é”™</p>
<p><strong>è¿™ç§<code>const</code>æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ</strong></p>
<p>å½“æˆ‘ä»¬ä»¥<code>const</code>ä¼ é€’ç±»æˆ–ç±»çš„å¼•ç”¨æ—¶ï¼Œåªæœ‰ç±»ä¸­çš„<code>const</code>æ–¹æ³•æ‰èƒ½è¢«è°ƒç”¨ï¼Œå› ä¸º<code>const</code>éœ€è¦ä¿è¯ä¼ å…¥çš„å¼•ç”¨çš„ç±»æ— è®ºå¦‚ä½•éƒ½ä¸ä¼šè¢«æ›´æ”¹ï¼Œè¿™ç§ç”¨æ³•å¸¸å¸¸è¢«ç”¨æ¥ä¿®é¥°<code>getter</code>æ–¹æ³•</p>
<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå¦‚æœ<code>GetX()</code>æ–¹æ³•æ²¡æœ‰è¢«<code>const</code>ä¿®é¥°ï¼Œé‚£ä¹ˆåœ¨<code>PrintX()</code>ä¸­å…¶ä¾¿æ— æ³•è¢«è°ƒç”¨</p>
<hr>
<h2 id="mutableå…³é”®å­—ï¼ˆ35ï¼‰">mutableå…³é”®å­—ï¼ˆ35ï¼‰</h2>
<p><code>mutable</code>å…³é”®å­—åœ¨C++ä¸­æœ‰ç€ä¸¤ç§ä¸åŒçš„ç”¨é€”</p>
<p>ä¸€æ˜¯å’Œ<code>const</code>ä¸€èµ·ä½¿ç”¨ï¼Œåœ¨ä¸Šä¸€ç« çš„æœ€åæœ‰æåˆ°ï¼Œç±»ä¸­è¢«<code>const</code>ä¿®é¥°çš„æ–¹æ³•ï¼Œåªèƒ½å¯¹ç±»ä¸­è¢«<code>mutable</code>ä¿®é¥°çš„å­—æ®µè¿›è¡Œä¿®æ”¹ï¼Œè¿™ç§æƒ…å†µå¾€å¾€å‘ç”Ÿåœ¨æˆ‘ä»¬éœ€è¦è°ƒè¯•ç¨‹åºæ—¶ï¼ˆè¿™æ˜¯ä¸€ç§è¿‘ä¼¼äºè¿èƒŒæ‰¿è¯ºçš„è¡Œä¸ºï¼Œæœ€å¥½è¿˜æ˜¯åˆ«å¤§é‡ä½¿ç”¨ï¼Œè¿™ä¼šç ´å<code>const</code>çš„æ„ä¹‰ï¼‰</p>
<p>äºŒæ˜¯ç”¨åœ¨<code>lambda</code>è¡¨è¾¾å¼ä¸­ï¼Œ<code>lambda</code>åŸºæœ¬ä¸Šå°±åƒä¸€ä¸ªä¸€æ¬¡æ€§å°å‡½æ•°ï¼Œä½ å¯ä»¥å†™å‡ºæ¥å¹¶èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x = <span class="number">8</span>;</span><br><span class="line"><span class="keyword">auto</span> f = [=]() <span class="keyword">mutable</span> </span><br><span class="line">&#123;</span><br><span class="line">    x++;</span><br><span class="line">    std::cout &lt;&lt; x &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">f</span>();</span><br><span class="line"><span class="comment">// x = 8</span></span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢çš„<code>lambda</code>è¡¨è¾¾å¼ä¸­ï¼Œå¦‚æœæˆ‘ä»¬æƒ³ä»¥å€¼ä¼ é€’çš„å½¢å¼ä¼ å…¥<code>x</code>ï¼Œå¹¶æ›´æ”¹å®ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¿…é¡»åŠ ä¸Š<code>mutable</code>å…³é”®å­—</p>
<p>å¦‚æœä¸ä½¿ç”¨<code>mutable</code>æˆ‘ä»¬ä¾¿éœ€è¦åˆ›å»ºä¸€ä¸ªå±€éƒ¨å˜é‡æ¥å¯¹<code>x</code>çš„å€¼è¿›è¡Œä¸€æ¬¡å¤åˆ¶æ‰èƒ½å®ç°ä¸Šé¢çš„æ•ˆæœ</p>
<p><em>ï¼ˆå½“ç„¶å…¶å®è¿™ç§ç”¨æ³•éå¸¸éå¸¸å°‘è§ï¼ŒThe Chernoè¯´ä»–å…¶å®å®Œå…¨æ²¡è§è¿‡è¿™ä¹ˆç”¨çš„ğŸ¤£ï¼‰</em></p>
<hr>
<h2 id="æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ï¼ˆ36ï¼‰">æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ï¼ˆ36ï¼‰</h2>
<blockquote>
<p><strong>æ„é€ å‡½æ•°åˆå§‹åŒ–åˆ—è¡¨æ˜¯æˆ‘ä»¬åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–ç±»æˆå‘˜çš„ä¸€ç§æ–¹å¼</strong></p>
</blockquote>
<p>å½“æˆ‘ä»¬ç¼–å†™ç±»æ—¶ï¼Œé€šå¸¸éœ€è¦é€šè¿‡æ„é€ å‡½æ•°å¯¹ç±»çš„æˆå‘˜è¿›è¡Œåˆå§‹åŒ–</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::string name_;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Entity</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        name_ = <span class="string">&quot;Default&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Entity</span>(<span class="type">const</span> std::string&amp; name)</span><br><span class="line">    &#123;</span><br><span class="line">        name_ = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬é€šå¸¸ä¼šè¿™æ ·æ¥å®Œæˆå­—æ®µçš„åˆå§‹åŒ–ï¼Œè€Œå®é™…ä¸ŠC++è¿˜æä¾›äº†å¦å¤–ä¸€ç§è¯­æ³•æ¥å®ç°è¿™ä»¶äº‹</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::string name_;</span><br><span class="line">    <span class="type">int</span> age_;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Entity</span>()</span><br><span class="line">        : <span class="built_in">name_</span>(<span class="string">&quot;default&quot;</span>), <span class="built_in">age_</span>(<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šè¿°ä»£ç æ‰€ç¤ºï¼Œ<code>æ„é€ å‡½æ•°() : å­—æ®µ1(åˆå§‹å€¼1), å­—æ®µ2(åˆå§‹å€¼2)</code>é€šè¿‡è¿™æ ·çš„è¯­æ³•ä¾¿å¯å®ç°å­—æ®µçš„åˆå§‹åŒ–</p>
<p><em>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé€šè¿‡è¿™ç§æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–æ—¶ï¼Œåˆå§‹åŒ–çš„é¡ºåºæ˜¯ç”±å­—æ®µå£°æ˜çš„é¡ºåºå†³å®šçš„ï¼Œåœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œå³ä½¿æˆ‘ä»¬å†™æˆ<code>: age_(0), name_(&quot;default&quot;) </code>ï¼Œè¿è¡Œæ—¶ä»ç„¶ä¼šæŒ‰ç…§å…ˆ<code>name_</code>å†<code>age_</code>çš„é¡ºåºåˆå§‹åŒ–ï¼Œæ‰€ä»¥åœ¨ç¼–å†™åˆå§‹åŒ–ä»£ç æ—¶ï¼Œæœ€å¥½ç›´æ¥æŒ‰ç…§å£°æ˜çš„é¡ºåºæ¥</em></p>
<p><strong>ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦è¿™ç©æ„å‘¢ï¼Ÿ</strong></p>
<ul>
<li>æŠŠçç¢ç¹æ‚çš„åˆå§‹åŒ–å†™åœ¨ä¸€èµ·ï¼Œè®©ä»£ç æ›´åŠ æ•´æ´æ˜“è¯»</li>
<li>åœ¨ç‰¹å®šæƒ…å†µä¸‹ï¼Œä½¿ç”¨åŸå…ˆçš„åˆå§‹åŒ–æ–¹å¼ä¼šé€ æˆæ€§èƒ½/å†…å­˜çš„æµªè´¹ï¼Œå¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Example</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Example</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Create Example&quot;</span> &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Example</span>(<span class="type">int</span> x)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Create Example&quot;</span> &lt;&lt; x &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Example e_;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Entity</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        e_ = <span class="built_in">Example</span>(<span class="number">5</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Entity e;</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬åœ¨<code>Entity</code>ç±»ä¸­å£°æ˜äº†<code>Example</code>ç±»ï¼Œå¹¶å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ï¼Œå¦‚æœé€šè¿‡<code>e_ = Example(5)</code>çš„æ–¹å¼è¿›è¡Œï¼Œé‚£ä¹ˆ<code>Example</code>çš„ä¸¤ä¸ªæ„é€ å‡½æ•°éƒ½ä¼šè¢«è¿è¡Œï¼Œå³<code>Create Example</code>ä¸<code>Create Example5</code>éƒ½ä¼šè¢«è¾“å‡ºï¼Œå…¶åŸå› æ˜¯åœ¨<code>Example e_</code>çš„åˆ›å»ºä¸­é»˜è®¤æ„é€ å‡½æ•°ä¼šå…ˆè¢«è°ƒç”¨ï¼Œè€Œä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨åˆ™ä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜</p>
<p><strong>ç»¼ä¸Šï¼Œæˆ‘ä»¬åº”è¯¥åœ¨ä»»ä½•ç±»çš„æˆå‘˜åˆå§‹åŒ–åœºæ™¯ç”¨åˆå§‹åŒ–åˆ—è¡¨æ¥å®ç°ï¼Œæˆ‘ä»¬æ²¡æœ‰ç†ç”±ä¸ä½¿ç”¨ä»–ä»¬</strong></p>
<hr>
<h2 id="ä¸‰å…ƒè¿ç®—ç¬¦ï¼ˆ37ï¼‰">ä¸‰å…ƒè¿ç®—ç¬¦ï¼ˆ37ï¼‰</h2>
<blockquote>
<p><strong>ä¸‰å…ƒè¿ç®—ç¬¦æ˜¯if elseè¯­æ³•çš„è¯­æ³•ç³–ï¼Œå¯ä»¥æ–¹ä¾¿åœ°æ ¹æ®ç‰¹å®šæ¡ä»¶ç»™å˜é‡èµ‹å€¼</strong></p>
<p><strong>è¯­æ³•ï¼š<code>å˜é‡å = æ¡ä»¶åˆ¤æ–­ ? ä¸ºçœŸæ—¶çš„å€¼ : ä¸ºå‡æ—¶çš„å€¼</code></strong></p>
</blockquote>
<p>ä¸‰å…ƒè¿ç®—ç¬¦å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ¸…ç†æˆ‘ä»¬çš„ä»£ç ï¼Œå¢åŠ ä»£ç çš„å¯è¯»æ€§</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (x &gt; <span class="number">1</span>)</span><br><span class="line">    y = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    y = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">y = x &gt; <span class="number">1</span> ? <span class="number">1</span> : <span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä¸¤æ®µä»£ç çš„æ„æ€å…¶å®æ˜¯å®Œå…¨ç›¸åŒçš„</p>
<p>åŒæ—¶ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦èµ‹çš„å€¼æ˜¯å¼•ç”¨ç±»å‹ï¼Œé‚£ä¹ˆä¸‰å…ƒè¿ç®—ç¬¦è¿˜èƒ½äº›è®¸åŠ å¿«è¿ç®—çš„é€Ÿåº¦</p>
<p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶ä¸‰å…ƒè¿ç®—ç¬¦å¯ä»¥åµŒå¥—ï¼Œä½†å¤§é‡åµŒå¥—çš„ä¸‰å…ƒè¿ç®—ç¬¦å¯è¯»æ€§æå·®ï¼Œå’Œå…¶åˆè¡·èƒŒé“è€Œé©°ï¼Œè€Œä¸”ä¼šå¾ˆæƒ³è®©çœ‹ä½ ä»£ç çš„äººç æ­»ä½ ï¼Œæ‰€ä»¥æœ€å¥½è¿˜æ˜¯åˆ«ç”¨</strong></p>
<hr>
<h2 id="å¯¹è±¡çš„å®ä¾‹åŒ–ï¼ˆ38ï¼‰">å¯¹è±¡çš„å®ä¾‹åŒ–ï¼ˆ38ï¼‰</h2>
<p>å½“æˆ‘ä»¬ç¼–å†™å®Œæˆäº†ä¸€ä¸ªç±»ä¹‹åï¼Œé™¤éå…¶æ˜¯å®Œå…¨é™æ€çš„ï¼Œæˆ‘ä»¬éƒ½éœ€è¦å¯¹å…¶è¿›è¡Œå®ä¾‹åŒ–ï¼Œè€ŒåŸºæœ¬ä¸Šï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªå®ä¾‹åŒ–æ–¹æ³•çš„é€‰æ‹©ï¼š<strong>åœ¨æ ˆä¸Šåˆ›å»º/åœ¨å †ä¸Šåˆ›å»º</strong>ï¼Œè¿™ä¸¤ç§æ–¹æ³•çš„ä¸»è¦åŒºåˆ«åœ¨äºå†…å­˜åˆ†é…çš„ä½ç½®</p>
<p>æ ˆå¯¹è±¡ï¼Œæ‹¥æœ‰ä¸€ä¸ªè‡ªåŠ¨çš„ç”Ÿå‘½å‘¨æœŸï¼Œè¿™ç”±å®ƒä»¬è¢«å£°æ˜çš„åœ°æ–¹ä½œç”¨åŸŸå†³å®šï¼Œåªè¦è¶…å‡ºä½œç”¨åŸŸï¼Œå…¶å†…å­˜ä¾¿ä¼šè¢«è‡ªåŠ¨é‡Šæ”¾</p>
<p>è€Œå †å¯¹è±¡åˆ™ä¸åŒï¼Œå †å¯¹è±¡çš„å†…å­˜éœ€è¦æˆ‘ä»¬è¿›è¡Œæ‰‹åŠ¨é‡Šæ”¾</p>
<h3 id="æ ˆå¯¹è±¡">æ ˆå¯¹è±¡</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">Entity e;</span><br><span class="line"><span class="comment">// or</span></span><br><span class="line">Entity e = <span class="built_in">Entity</span>();</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·ä¾¿å¯ç®€å•å®ä¾‹åŒ–ä¸€ä¸ªç±»å¯¹è±¡</p>
<p><em>ä¸Jave/C#ä¸åŒçš„æ˜¯C++çš„<code>Entity e</code>å¹¶ä¸å•æŒ‡å£°æ˜ï¼Œå…¶æ•ˆæœç­‰äº<code>Entity e = Entity()</code>ï¼Œä¼šè°ƒç”¨ç±»çš„é»˜è®¤æ„é€ å‡½æ•°</em></p>
<p><strong>å‡ ä¹æ‰€æœ‰æ—¶å€™ï¼Œåªè¦æˆ‘ä»¬å¯ä»¥è¿™æ ·åˆ›å»ºå¯¹è±¡ï¼Œæˆ‘ä»¬éƒ½åº”è¯¥è¿™æ ·åˆ›å»ºï¼Œè¿™æ˜¯C++ä¸­æœ€å¿«ä¹Ÿæ˜¯æœ€æ˜“ç®¡æ§çš„å®ä¾‹åŒ–å¯¹è±¡çš„æ–¹æ³•</strong></p>
<h3 id="å †å¯¹è±¡">å †å¯¹è±¡</h3>
<p>å½“æˆ‘ä»¬éœ€è¦æ˜¾å¼æ§åˆ¶ç±»çš„ç”Ÿå‘½å‘¨æœŸæ—¶ æˆ– æˆ‘ä»¬éœ€è¦å®ä¾‹åŒ–çš„ç±»å¾ˆå¤§/å¾ˆå¤šï¼ˆæ ˆçš„å†…å­˜å¾€å¾€å¾ˆå°ï¼‰æ—¶ï¼Œæˆ‘ä»¬ä¾¿éœ€è¦å€ŸåŠ©å †æ¥å®ä¾‹åŒ–</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">Entity* e = <span class="keyword">new</span> <span class="built_in">Entity</span>();</span><br></pre></td></tr></table></figure>
<p>å †å¯¹è±¡å®ä¾‹åŒ–çš„å…³é”®ä¾¿æ˜¯<code>new</code>å…³é”®å­—ï¼Œå½“æˆ‘ä»¬è°ƒç”¨<code>new Entity</code>æ—¶ï¼Œå®ƒåœ¨å †ä¸Šä¸º<code>Entity</code>ç±»åˆ†é…å†…å­˜ï¼Œå¹¶è¿”å›å®ä¾‹åŒ–çš„ç±»åœ¨å †ä¸Šè¢«åˆ†é…çš„å†…å­˜åœ°å€</p>
<p><em>è¿™ä¸C#/Javaä¸­çš„è¯­æ³•ç›¸ä¼¼ï¼ŒC#ä¸­çš„structæ˜¯åœ¨æ ˆä¸Šçš„ï¼Œè€Œæ‰€æœ‰ç±»éƒ½åœ¨å †ä¸Šï¼Œè€ŒJavaå…¨åœ¨å †ä¸Š</em></p>
<h3 id="å°½é‡ä½¿ç”¨æ ˆè€Œä¸æ˜¯å †">å°½é‡ä½¿ç”¨æ ˆè€Œä¸æ˜¯å †</h3>
<ul>
<li>
<p>æ€§èƒ½é—®é¢˜ï¼šåœ¨å †ä¸Šåˆ†é…å†…å­˜è¦æ¯”æ ˆèŠ±è´¹æ›´é•¿çš„æ—¶é—´</p>
</li>
<li>
<p>æ“ä½œç¹çï¼šå †éœ€è¦æ‰‹åŠ¨é‡Šæ”¾å†…å­˜ï¼ˆ<code>delete</code>ï¼‰</p>
</li>
</ul>
<hr>
<h2 id="newå…³é”®å­—ï¼ˆ39ï¼‰">newå…³é”®å­—ï¼ˆ39ï¼‰</h2>
<blockquote>
<p><strong><code>new</code>æ˜¯ä¸€ä¸ªæ“ä½œç¬¦ï¼Œä¸»è¦ä½œç”¨æ˜¯åœ¨å †ä¸Šåˆ†é…å†…å­˜ï¼Œå…¶ä¼šæ ¹æ®ä½ æŒ‡å®šçš„ç±»å‹åœ¨å †ä¸Šæ‰¾åˆ°å¯¹åº”å¤§å°çš„å†…å­˜ç©ºé—´ï¼Œå¹¶è¿”å›è¯¥ç©ºé—´çš„åœ°å€ï¼Œå¯¹ç±»æ¥è¯´ï¼Œnewè¿˜ä¼šè°ƒç”¨æ„é€ å‡½æ•°</strong></p>
<p><strong>è¯­æ³•ï¼š<code>new ç±»å‹</code></strong></p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">Entity* e = <span class="keyword">new</span> <span class="built_in">Entity</span>(); <span class="comment">// C++é£æ ¼</span></span><br><span class="line">Entity* e = (Entity*)<span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(Entity)); <span class="comment">// Cé£æ ¼</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä¸¤è¡Œä»£ç çš„å”¯ä¸€åŒºåˆ«ä¾¿æ˜¯<code>new</code>ä¼šè°ƒç”¨æ„é€ å‡½æ•°ï¼Œè€Œ<code>malloc</code>ä¸ä¼šï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹<code>new</code>ä¼šè°ƒç”¨<code>malloc</code>è¿›è¡Œå†…å­˜çš„åˆ†é…</p>
<p><code>delete</code>å…³é”®å­—ä¼šé‡Šæ”¾å †ä¸­çš„å†…å­˜ï¼Œå¦‚æœæ˜¯ç±»ï¼Œå…¶è¿˜ä¼šè°ƒç”¨ææ„å‡½æ•°ï¼Œå…¶ä¹Ÿæ˜¯å€Ÿç”¨Cä¸­çš„<code>free</code>å‡½æ•°å®ç°çš„ï¼Œè¿™ç‚¹ä¸<code>new</code>ç±»ä¼¼</p>
<p><strong><code>new</code>å’Œ<code>delete</code>æ€»æ˜¯åº”è¯¥æˆå¯¹å‡ºç°ï¼Œè¢«<code>new</code>åˆ†é…çš„å†…å­˜åªæœ‰åœ¨è¢«<code>delete</code>é‡Šæ”¾åæ‰èƒ½è¢«å†æ¬¡ä½¿ç”¨</strong></p>
<hr>
<h2 id="éšå¼è½¬æ¢ä¸explicitå…³é”®å­—ï¼ˆ40ï¼‰">éšå¼è½¬æ¢ä¸explicitå…³é”®å­—ï¼ˆ40ï¼‰</h2>
<blockquote>
<p><strong>éšå¼ä»£è¡¨ä¸éœ€è¦æ˜ç¡®åœ°å‘Šè¯‰ç±»è¦åšä»€ä¹ˆï¼Œç±»ä¼¼äºè‡ªåŠ¨ï¼Œç¼–è¯‘å™¨ä¼šé€šè¿‡ä¸Šä¸‹æ–‡è‡ªè¡Œæ¨å¯¼æ„é€ å‡½æ•°</strong></p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span>  <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::string name_;</span><br><span class="line">    <span class="type">int</span> age_;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Entity</span>(<span class="type">const</span> std::string&amp; name)</span><br><span class="line">        : <span class="built_in">name_</span>(name), <span class="built_in">age_</span>(<span class="number">-1</span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Entity</span>(<span class="type">int</span> age)</span><br><span class="line">        : <span class="built_in">name_</span>(<span class="string">&quot;Default&quot;</span>), <span class="built_in">age_</span>(age) &#123; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Entity e1 = <span class="string">&quot;Hmxs&quot;</span>; <span class="comment">// éšå¼è½¬æ¢â€œHmxsâ€-&gt;Entity(&quot;Hmxs&quot;)</span></span><br><span class="line">    Entity e2 = <span class="number">20</span>; <span class="comment">// éšå¼è½¬æ¢20-&gt;Entity(20)</span></span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“æ„é€ å‡½æ•°é™å®šæ¡ä»¶è¶³å¤Ÿå¤šæ—¶ï¼Œå¦‚ç±»çš„æ„é€ å‡½æ•°åªæ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä¸ºå‚æ•°ï¼Œè€Œä½ åˆæ­£å¥½è®©ç±»ç­‰äºäº†ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¼šä¸ºä½ è‡ªè¡Œæ¨å¯¼ï¼Œç”Ÿæˆæ„é€ å‡½æ•°</p>
<p>è¿™å¾ˆé…·ï¼Œå¯ä»¥ç®€åŒ–ä»£ç ï¼Œä½†æ¸…æ™°çš„ä»£ç æ‰æ˜¯æœ€å¥½çš„ï¼Œè¿˜æ˜¯å°‘ç”¨å§</p>
<blockquote>
<p><strong><code>explicit</code>å…³é”®å­—åˆ™ä»£è¡¨ç¦ç”¨è¯¥æ„é€ å‡½æ•°çš„éšå¼è½¬æ¢ï¼Œå¦‚æœä½ éœ€è¦é€šè¿‡æ­¤æ„é€ å‡½æ•°è¿›è¡Œç±»çš„å®ä¾‹åŒ–ï¼Œé‚£ä¹ˆä½ å¿…é¡»æ˜¾å¼è°ƒç”¨æ­¤æ„é€ å‡½æ•°</strong></p>
</blockquote>
<p><code>explicit</code>å¯ä»¥ç¡®ä¿ç±»å‹è½¬æ¢çš„å®‰å…¨ï¼Œä¸ä¼šå‘ç”Ÿæ„å¤–çš„éšå¼è½¬æ¢</p>
<hr>
<h2 id="è¿ç®—ç¬¦åŠå…¶é‡è½½ï¼ˆ41ï¼‰">è¿ç®—ç¬¦åŠå…¶é‡è½½ï¼ˆ41ï¼‰</h2>
<blockquote>
<p><strong>è¿ç®—ç¬¦æ˜¯ä¸€ç§ç¬¦å·ï¼Œé€šå¸¸ä»£æ›¿ä¸€ä¸ªå‡½æ•°æ¥æ‰§è¡Œä¸€äº›äº‹æƒ…ï¼Œå¦‚ <code>+ - * / += -&gt; &amp; &lt;&lt; new delete</code> ç­‰</strong></p>
</blockquote>
<p>æœ¬è´¨ä¸Šè¿ç®—ç¬¦å°±æ˜¯ä¸ç”¨å†™å‡½æ•°åçš„å‡½æ•°ï¼Œå¯ä»¥å¸®æˆ‘ä»¬æ¸…ç†ä»£ç </p>
<p>è€Œè¿ç®—ç¬¦é‡è½½çš„åº”ç”¨å¾€å¾€éå¸¸å°‘ï¼Œå½“æˆ‘ä»¬éœ€è¦è¿ç®—ç¬¦é‡è½½æ—¶ï¼Œå¾€å¾€æ˜¯ç±»ä¸­ä¸€ç§ç‰¹æ®Šçš„ç±»å‹éœ€è¦å¤„ç†æˆ–è€…ç±»æœ¬èº«éœ€è¦å¤„ç†</p>
<p>å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Vector2</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">float</span> x, y;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Vector2</span>(<span class="type">float</span> x, <span class="type">float</span> y)</span><br><span class="line">        : <span class="built_in">x</span>(x), <span class="built_in">y</span>(y) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">Vector2 <span class="title">Add</span><span class="params">(<span class="type">const</span> Vector2&amp; other)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Vector2</span>(x + other.x, y + other.y);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">Vector2 <span class="title">Multiply</span><span class="params">(<span class="type">const</span> Vector2&amp; other)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Vector2</span>(x * other.x, y * other.y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å®ç°äº†ä¸€ä¸ª<code>Vector2</code>ç»“æ„ä½“ï¼Œå¹¶æƒ³è¦å®ç°å‘é‡çš„åŠ æ³•ä¸ä¹˜æ³•ï¼Œäºæ˜¯æˆ‘ä»¬ç¼–å†™äº†<code>Add</code>ä¸<code>Multipy</code>å‡½æ•°</p>
<p>ä½†å¦‚æœè¿™æ ·å®ç°ï¼Œæœ€ååœ¨ä½¿ç”¨æ—¶å¾ˆå¯èƒ½ä¼šå˜æˆè¿™æ ·<code>Vector2 result = pos1.Add(pos2.Multiply(pos3));</code>ï¼Œè™½ç„¶ç»“æœæ²¡é—®é¢˜ä½†æ˜¯å¯è¯»æ€§å¾ˆå·®ï¼Œä½¿ç”¨èµ·æ¥ä¹Ÿå¹¶ä¸æ–¹ä¾¿</p>
<p>è¿™æ—¶ä½¿ç”¨è¿ç®—ç¬¦é‡è½½ä¾¿å¯ä»¥æ¸…ç†æˆ‘ä»¬çš„ä»£ç ï¼Œè®©å…¶å˜å¾—æ›´åŠ ç›´è§‚</p>
<p><strong>æˆ‘ä»¬åªéœ€æ›´æ”¹å‡½æ•°åä¸º<code>operate+/operate*</code>å³å¯é‡è½½å¯¹åº”è¿ç®—ç¬¦</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Vector2</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">float</span> x, y;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Vector2</span>(<span class="type">float</span> x, <span class="type">float</span> y)</span><br><span class="line">        : <span class="built_in">x</span>(x), <span class="built_in">y</span>(y) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    Vector2 <span class="keyword">operator</span>+(<span class="type">const</span> Vector2&amp; other) <span class="type">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Vector2</span>(x + other.x, y + other.y);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Vector2 <span class="keyword">operator</span>*(<span class="type">const</span> Vector2&amp; other) <span class="type">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Vector2</span>(x * other.x, y * other.y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ä¹‹åç›´æ¥ä½¿ç”¨è¿ç®—ç¬¦å³å¯<code>Vector2 result = pos1 + pos2 * pos3;</code>ï¼Œä»£ç ä¸€ä¸‹å­ä¾¿æ¸…æ™°äº†è®¸å¤š</p>
<p><strong>ä¸‹é¢æ˜¯é‡è½½<code>&lt;&lt;</code>è¾¾æˆç±»è¾“å‡ºçš„çš„ä¸€ä¸ªä¾‹å­ï¼š</strong></p>
<p>å¦‚æœæˆ‘ä»¬æƒ³è¾“å‡ºä¸€ä¸ªä¸Šé¢çš„<code>Vector2</code>å˜é‡ï¼Œç›´æ¥<code>cout</code>å°†ä¼šæŠ¥é”™<code>std::cout &lt;&lt; pos1 &lt;&lt; &quot;\n&quot;;</code>ï¼Œè€Œæˆ‘ä»¬å¯ä»¥é‡è½½<code>&lt;&lt;</code>è¾¾æˆç±»ä¼¼C#ä¸­<code>ToString()</code>çš„æ•ˆæœ</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">std::ostream&amp; <span class="keyword">operator</span>&lt;&lt;(std::ostream&amp; stream, <span class="type">const</span> Vector2&amp; other)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span>  stream &lt;&lt; other.x &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; other.y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em><code>cout</code>æ˜¯C++ä¸­çš„æµå¼è¾“å‡ºæ–¹æ³•ï¼Œå…¶å®é™…æ˜¯ä¸€ä¸ªç±»å‹ä¸º<code>ostream</code>çš„æµæ•°æ®</em></p>
<p>é‡è½½è¿‡åä¾¿å¯ä»¥æ­£å¸¸è¾“å‡ºäº†<code>std::cout &lt;&lt; pos1 &lt;&lt; &quot;\n&quot;;</code></p>
<hr>
<h2 id="thiså…³é”®å­—ï¼ˆ42ï¼‰">thiså…³é”®å­—ï¼ˆ42ï¼‰</h2>
<blockquote>
<p><strong><code>this</code>æ˜¯ä¸€ä¸ªæŒ‡å‘å½“å‰å¯¹è±¡å®ä¾‹çš„æŒ‡é’ˆï¼Œé€šè¿‡thiså¯ä»¥è®¿é—®ç±»ä¸­çš„éé™æ€å­—æ®µæ–¹æ³•</strong></p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> x, y;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Entity</span>(<span class="type">int</span> x, <span class="type">int</span> y)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;x = x;</span><br><span class="line">        <span class="keyword">this</span>-&gt;y = y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢æ˜¯ä¸€ä¸ª<code>this</code>åº”ç”¨çš„ä¾‹å­ï¼Œå½“æˆ‘ä»¬ä¼ å…¥çš„å‚æ•°ä¸ç±»å­—æ®µåç›¸åŒæ—¶ï¼Œ<code>x = x</code>æ˜¾ç„¶æ˜¯æœ‰é—®é¢˜çš„,<code>this</code>å¯ä»¥å¸®åŠ©ç¼–è¯‘å™¨è¿›è¡ŒåŒºåˆ†</p>
<p>å½“ç„¶ï¼Œ<code>this</code>æœ¬èº«åªæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘å½“å‰å¯¹è±¡æœ¬èº«çš„æŒ‡é’ˆï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç±»ä¸­å¯ä»¥åƒä½¿ç”¨å…¶ä»–æŒ‡é’ˆä¸€æ ·ä½¿ç”¨å®ƒï¼Œæ¯”å¦‚<code>Entity* e = this</code></p>
<hr>
<h2 id="å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼ˆ43ï¼‰">å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼ˆ43ï¼‰</h2>
<p>ä½œç”¨åŸŸé€šå¸¸å¯ä»¥å’Œä¸€å¯¹å¤§æ‹¬å·ç­‰ä»·ï¼Œè€Œä¸€æ—¦è¶…å‡ºä½œç”¨åŸŸï¼Œä½œç”¨åŸŸä¸­çš„æ ˆå¯¹è±¡éƒ½ä¼šè¢«é‡Šæ”¾</p>
<p><strong>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Entity</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Create Entity&quot;</span> &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">Entity</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Destroy Entity&quot;</span> &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢è¿™ä¸ªç®€å•çš„<code>Entity</code>ç±»ä¸­ï¼Œå½“å…¶è¢«åˆ›å»ºæ—¶ä¼šè¾“å‡º&quot;Create Entity&quot;ï¼Œè€Œè¢«é‡Šæ”¾æ—¶ä¼šè¾“å‡º&quot;Destroy Entity&quot;</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    &#123;</span><br><span class="line">        Entity e;</span><br><span class="line">    &#125;</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢çš„mainå‡½æ•°ä¸­ï¼Œ<code>e</code>åœ¨æ ˆä¸­è¢«åˆ›å»ºï¼Œå½“è¿è¡Œåˆ°ç¬¬5è¡Œæ—¶ä½œç”¨åŸŸç»“æŸï¼Œ<code>e</code>è¢«é‡Šæ”¾ï¼Œ&quot;Destroy Entity&quot;è¢«è¾“å‡º</p>
<p>è€Œå¦‚æœæˆ‘ä»¬é€šè¿‡å †æ¥åˆ›å»º<code>e</code>æ—¶</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    &#123;</span><br><span class="line">        Entity* e = <span class="keyword">new</span> <span class="built_in">Entity</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åªæœ‰&quot;Create Entity&quot;ä¼šè¢«è¾“å‡º</p>
<p><strong>ä¸‹é¢æ˜¯å¦å¤–ä¸€ä¸ªå…³äºä½œç”¨åŸŸçš„ä¾‹å­ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span>* <span class="title">CreateArray</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> array[<span class="number">50</span>];</span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢è¿™ä¸ªå‡½æ•°å°è¯•åˆ›å»ºä¸€ä¸ªæ•°ç»„å¹¶è¿”å›å…¶æŒ‡é’ˆï¼Œä½†å®é™…ä¸Šè¿™æ®µä»£ç æ˜¯å®Œå…¨é”™è¯¯ä¸”æ— æ•ˆçš„ï¼Œ<code>int array[50]</code>æ˜¯ä»¥æ ˆçš„æ–¹å¼åˆ›å»ºæ•°ç»„ï¼Œè€Œåœ¨å‡½æ•°ç»“æŸæ—¶ï¼Œ<code>array</code>çš„ä½œç”¨åŸŸä¾¿ç»“æŸäº†ï¼Œå…¶å†…å­˜ä¼šè¢«é‡Šæ”¾</p>
<p><strong>ä½œç”¨åŸŸåœ¨é™åˆ¶æˆ‘ä»¬çš„åŒæ—¶ï¼Œä¹Ÿä¸ºæˆ‘ä»¬æä¾›äº†ä¸€äº›æœ‰ç”¨çš„ç‰¹æ€§ï¼Œå–„ç”¨ä½œç”¨åŸŸå¯ä»¥å¸®æˆ‘ä»¬å®ç°å¾ˆå¤šåŠŸèƒ½</strong></p>
<p><strong>ä»¥ä¸‹æ˜¯ä¸€ä¸ªåˆ©ç”¨ä½œç”¨åŸŸå®ç°å †å¯¹è±¡è‡ªåŠ¨é”€æ¯çš„ä¾‹å­ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ScopedPtr</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Entity* ptr_;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">ScopedPtr</span>(Entity* ptr)</span><br><span class="line">        : <span class="built_in">ptr_</span>(ptr) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">ScopedPtr</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">delete</span> ptr_;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    &#123;</span><br><span class="line">        ScopedPtr e = <span class="keyword">new</span> <span class="built_in">Entity</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>ScopedPtr</code>åŒ…è£¹äº†ä¸€ä¸ª<code>Entity</code>ç±»çš„æŒ‡é’ˆï¼Œåœ¨æ ˆä¸­åˆ›å»º<code>ScopedPtr</code>å¯¹è±¡ï¼Œå½“å…¶è¶…å‡ºä½œç”¨åŸŸè¢«è‡ªåŠ¨é”€æ¯æ—¶ï¼Œå…¶ä¼šè‡ªåŠ¨è°ƒç”¨ææ„å‡½æ•°ï¼Œåœ¨ææ„å‡½æ•°ä¸­é‡Šæ”¾åŒ…è£¹ç€çš„<code>Entity</code>ç±»ï¼Œä»¥æ­¤ä¾¿å®ç°äº†å †<code>Entity</code>å¯¹è±¡çš„è‡ªåŠ¨é”€æ¯</p>
<p>é™¤æ­¤ä¹‹å¤–ä½œç”¨åŸŸä¸ç”Ÿå‘½å‘¨æœŸè¿˜æœ‰å¾ˆå¤šå¦™ç”¨ï¼Œå¦‚è‡ªåŠ¨è®¡æ—¶çš„Timerç±»ï¼Œä¼šåœ¨ä¹‹åè¿›è¡Œä»‹ç»</p>
<hr>
<h2 id="æ™ºèƒ½æŒ‡é’ˆï¼ˆ44ï¼‰">æ™ºèƒ½æŒ‡é’ˆï¼ˆ44ï¼‰</h2>
<blockquote>
<p><strong>æ™ºèƒ½æŒ‡é’ˆæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåŸå§‹æŒ‡é’ˆçš„åŒ…è£…</strong></p>
<p><strong>å½“ä½ ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆæ—¶ï¼Œå®ƒä¼šè°ƒç”¨newä¸ºä½ åˆ†é…å†…å­˜ï¼Œç„¶ååŸºäºä½ ä½¿ç”¨çš„æ™ºèƒ½æŒ‡é’ˆï¼Œè¿™äº›å†…å­˜ä¼šåœ¨æŸä¸€æ—¶åˆ»è¢«è‡ªåŠ¨é‡Šæ”¾</strong></p>
</blockquote>
<h3 id="unique-ptr"><code>unique_ptr</code></h3>
<p><code>unique_ptr</code>æ˜¯ä½œç”¨åŸŸæŒ‡é’ˆï¼Œå½“è¶…å‡ºä½œç”¨åŸŸæ—¶ï¼Œå®ƒä¼šè¢«é”€æ¯ç„¶åè°ƒç”¨deleteï¼›å…¶ä¸å¯å¤åˆ¶ï¼Œå› ä¸ºè¿™ä¼šå¯¼è‡´ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘ç›¸åŒçš„å†…å­˜ï¼Œå½“å…¶ä¸­ä¸€ä¸ªå°†å†…å­˜é‡Šæ”¾åï¼Œå¦ä¸€ä¸ªä¾¿ä¼šæŒ‡å‘å·²ç»è¢«é‡Šæ”¾çš„å†…å­˜ï¼Œè¿™ä¼šå¸¦æ¥é—®é¢˜</p>
<p><em>è¦ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆæˆ‘ä»¬éœ€è¦å¼•å…¥<code>memory</code>å¤´æ–‡ä»¶</em></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">std::unique_ptr&lt;Entity&gt; <span class="title">entity1</span><span class="params">(<span class="keyword">new</span> Entity())</span></span>;</span><br><span class="line">std::unique_ptr&lt;Entity&gt; entity2 = std::<span class="built_in">make_unique</span>&lt;Entity&gt;();</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šæ˜¯ä¸¤ç§<code>unique_ptr</code>çš„ä½¿ç”¨æ–¹å¼ï¼Œåè€…å¯¹å¼‚å¸¸å¤„ç†æ›´åŠ å‹å¥½</p>
<p><em>éœ€è¦æ³¨æ„çš„æ˜¯<code>unique_ptr</code>çš„æ„é€ å‡½æ•°æ˜¯<code>explicit</code>çš„ï¼Œéœ€è¦æ˜¾å¼è°ƒç”¨</em></p>
<p>ä½¿ç”¨<code>unique_ptr</code>å£°æ˜çš„<code>entity1</code>å’Œ<code>entity2</code>éƒ½ä¼šåœ¨ä½œç”¨åŸŸç»“æŸæ—¶è¢«é”€æ¯</p>
<p><strong><code>unique_ptr</code>æ˜¯æœ€ç®€å•çš„æ™ºèƒ½æŒ‡é’ˆï¼Œæ˜¯æœ‰ç”¨ä¸”ä½å¼€é”€çš„ï¼Œç¼ºç‚¹æ˜¯å…¶ä¸èƒ½å¤åˆ¶</strong></p>
<p><em><code>std::unique_ptr&lt;Entity&gt; entity3 = entity2;</code>&lt;-ä¸ºäº†é˜²æ­¢æˆ‘ä»¬å†™å‡ºè¿™ç§ä»£ç ï¼Œå°è¯•å»å¤åˆ¶<code>unique_ptr</code>ï¼Œ<code>unique_ptr</code>çš„å¤åˆ¶æ„é€ å‡½æ•°å’Œ<code>=</code>æ“ä½œç¬¦éƒ½è¢«åˆ é™¤äº†ï¼Œè¿™æ ·çš„ä»£ç ä¼šç›´æ¥æŠ¥é”™</em></p>
<h3 id="shared-ptr"><code>shared_ptr</code></h3>
<p><code>shared_ptr</code>æ˜¯å…±äº«æŒ‡é’ˆï¼Œåœ¨å¤§éƒ¨åˆ†ç¼–è¯‘å™¨ä¸­ï¼Œå…¶é€šè¿‡å¼•ç”¨è®¡æ•°å®ç°äº†æ™ºèƒ½æŒ‡é’ˆçš„å…±äº«ï¼Œæ¯å½“å…±äº«æŒ‡é’ˆè¢«å¤åˆ¶æ—¶ï¼Œå…¶å†…éƒ¨çš„å¼•ç”¨è®¡æ•°ä¾¿ä¼šåŠ ä¸€ï¼Œå½“å…±äº«æŒ‡é’ˆè¢«é‡Šæ”¾æ—¶ï¼Œå¼•ç”¨è®¡æ•°ä¾¿ä¼šå‡ä¸€ï¼Œå½“å¼•ç”¨æ•°é‡ä¸º0æ—¶ï¼Œå…±äº«æŒ‡é’ˆæ‰ä¼šçœŸæ­£é‡Šæ”¾å…¶æŒ‡å‘çš„å†…å­˜</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">std::shared_ptr&lt;Entity&gt; <span class="title">entity1</span><span class="params">(<span class="keyword">new</span> Entity())</span></span>;</span><br><span class="line">std::shared_ptr&lt;Entity&gt; entity2 = std::<span class="built_in">make_shared</span>&lt;Entity&gt;();</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬ä»æœ‰ä¸¤ç§æ–¹å¼ä½¿ç”¨<code>shared_ptr</code>ï¼Œä½†å¯¹äº<code>shared_ptr</code>æ¥è¯´ï¼Œåè€…æ˜æ˜¾æ›´å¥½</p>
<p><em>åœ¨<code>unique_ptr</code>ä¸­ä½¿ç”¨<code>make_unique</code>å¸¦æ¥çš„ä¼˜åŠ¿ä»…ä»…æ˜¯ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œä½†å¯¹äº<code>shared_ptr</code>æ¥è¯´ï¼Œå› ä¸ºå…¶éœ€è¦å£°æ˜ä¸€å—ä¸“ç”¨çš„æ§åˆ¶å—å†…å­˜ç”¨äºå­˜å‚¨åº”ç”¨è®¡æ•°ï¼Œé€šè¿‡<code>new</code>è¿›è¡Œå†…å­˜åˆ†é…å†ä¼ é€’ç»™<code>shared_ptr</code>ä¼šå¸¦æ¥ä¸¤æ¬¡å†…å­˜åˆ†é…ï¼Œè€Œä½¿ç”¨<code>make_shared</code>åˆ™å¯ä»¥å°†ä¸¤æ¬¡å†…å­˜åˆ†é…ç»„åˆåœ¨ä¸€èµ·ï¼Œè·å¾—æ›´å¥½çš„æ•ˆç‡</em></p>
<h3 id="weak-ptr"><code>weak_ptr</code></h3>
<p><code>weak_ptr</code>é€šå¸¸å’Œ<code>shared_ptr</code>ä¸€èµ·ä½¿ç”¨ï¼Œ<code>weak_ptr</code>å¯ä»¥è¢«å¤åˆ¶ï¼Œä½†æ˜¯åŒæ—¶ä¸ä¼šå¢åŠ å¼•ç”¨è®¡æ•°ï¼Œä»…ä»…å£°æ˜è¿™ä¸ªæŒ‡é’ˆè¿˜æ´»ç€</p>
<p>åŒæ—¶<code>weak_ptr</code>å¯ä»¥æŸ¥è¯¢å…¶æŒ‡å‘çš„å†…å­˜å—æ˜¯å¦è¢«é‡Šæ”¾äº†</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">std::weak_ptr&lt;Entity&gt; weak = entity2;</span><br></pre></td></tr></table></figure>
<h3 id="ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ">ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ</h3>
<p>æ ¹æ®å®é™…æƒ…å†µè€Œå®šï¼Œå½“ä½ ä¸éœ€è¦æ‰‹åŠ¨ç®¡ç†å†…å­˜æ—¶ï¼Œæ™ºèƒ½æŒ‡é’ˆä¼šéå¸¸æ–¹ä¾¿</p>
<p>åœ¨ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆæ—¶ï¼Œ<code>unique_ptr</code>åº”è¯¥è¢«ä¼˜å…ˆè€ƒè™‘ï¼Œå› ä¸ºå…¶å‡ ä¹æ²¡æœ‰å¼€é”€ï¼Œè€Œå½“æˆ‘ä»¬éœ€è¦å…±äº«æ•°æ®è€Œ<code>unique_ptr</code>æ— æ³•å®ç°æ—¶ï¼Œ<code>shared_ptr</code>å°±åº”è¯¥è¢«ä½¿ç”¨äº†ï¼Œå³ä½¿å…¶ä¼šå¸¦æ¥ä¸€äº›é¢å¤–çš„å¼€é”€</p>
<hr>
<h2 id="å¤åˆ¶æ„é€ å‡½æ•°ï¼ˆ45ï¼‰">å¤åˆ¶æ„é€ å‡½æ•°ï¼ˆ45ï¼‰</h2>
<blockquote>
<p><strong>æ‹·è´æŒ‡çš„æ˜¯å¤åˆ¶æ•°æ®/å†…å­˜ï¼Œè®©ä¸€ä»½æ•°æ®æ‹¥æœ‰å¤šä¸ªå‰¯æœ¬</strong></p>
</blockquote>
<p>æ‹·è´å¾€å¾€ä¼šè€—è´¹å¾ˆå¤šæ—¶é—´ï¼Œä½†ä¹Ÿä¼šè®©æˆ‘ä»¬å¾—ä»¥å®ç°å¾ˆå¤šåŠŸèƒ½</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> b = a;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢å°±æ˜¯ä¸€ä¸ªç®€å•çš„å€¼æ‹·è´çš„è¿‡ç¨‹ï¼Œ<code>a</code>å’Œ<code>b</code>æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„å˜é‡</p>
<p>è€Œå½“æˆ‘ä»¬ä½¿ç”¨<code>new</code>æ¥åˆ†é…å†…å­˜æ—¶ï¼Œäº‹æƒ…å°±ä¼šæœ‰äº›ä¸åŒ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int* a = new int(1);</span><br><span class="line">int* b = a;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åŒæ ·è¿›è¡Œäº†ä¸€æ¬¡æ‹·è´ï¼Œä½†æ˜¯è¿™æ¬¡æ‹·è´çš„æ˜¯æŒ‡é’ˆï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬åˆ›é€ äº†ä¸¤ä¸ªä¿å­˜ç€ç›¸åŒåœ°å€çš„æŒ‡é’ˆ</p>
<p>ä½†æ˜¯æ— è®ºå¦‚ä½•ï¼Œå½“ä½ ä½¿ç”¨<code>=</code>ï¼Œå³èµ‹å€¼æ“ä½œç¬¦æ—¶ï¼Œä½ æ€»æ˜¯åœ¨æ‹·è´å€¼</p>
<p><em>é™¤å¼•ç”¨ä¹‹å¤–ï¼Œå› ä¸ºå¼•ç”¨ä»…ä»…æ˜¯åˆ«åï¼Œæˆ‘ä»¬æ— æ³•é‡æ–°åˆ†é…å¼•ç”¨ï¼Œåªèƒ½æ”¹å˜å…¶æŒ‡å‘ï¼Œå¹¶ä¸æ˜¯æ‹·è´</em></p>
<p><strong>ä¸‹é¢ä¼šå®ç°ä¸€ä¸ªåŸå§‹çš„å­—ç¬¦ä¸²ç±»ï¼Œå°è¯•è®©å…¶å…·æœ‰å¯å¤åˆ¶æ€§ï¼š</strong></p>
<p><em>è¿™ä¸ªå­—ç¬¦ä¸²ç±»å°†åªé‡‡ç”¨C++çš„åŸå§‹ç‰¹æ€§è¿›è¡Œç¼–å†™ï¼Œä¸ºäº†è®©å…¶æ›´æœ‰æ•™å­¦æ„ä¹‰</em></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">String</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">char</span>* buffer_;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> size_;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">String</span>(<span class="type">const</span> <span class="type">char</span>* string)</span><br><span class="line">    &#123;</span><br><span class="line">        size_ = <span class="built_in">strlen</span>(string);</span><br><span class="line">        buffer_ = <span class="keyword">new</span> <span class="type">char</span>[size_ + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">memcpy</span>(buffer_, string, size_);</span><br><span class="line">        buffer_[size_] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">String</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">delete</span>[] buffer_;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">friend</span> std::ostream&amp; <span class="keyword">operator</span>&lt;&lt;(std::ostream&amp; stream, <span class="type">const</span> String&amp; string);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">std::ostream&amp; <span class="keyword">operator</span>&lt;&lt;(std::ostream&amp; stream, <span class="type">const</span> String&amp; string)</span><br><span class="line">&#123;</span><br><span class="line">    stream &lt;&lt; string.buffer_;</span><br><span class="line">    <span class="keyword">return</span> stream;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç å®ç°äº†ä¸€ä¸ªåŸºæœ¬çš„<code>String</code>ç±»ï¼Œå…¶ä¼šè‡ªåŠ¨åˆ†é…åˆ†é…/é”€æ¯å†…å­˜ï¼Œå¹¶ä¸”é‡è½½äº†<code>&lt;&lt;</code>æ“ä½œç¬¦ï¼Œè®©å…¶å¯ä»¥æ¥å—æµè¾“å‡º</p>
<p>è¿™çœ‹èµ·æ¥å¾ˆå®Œå–„ï¼Œä½†å½“æˆ‘ä»¬å°è¯•æ‹·è´ä¸€ä¸ª<code>String</code>ç±»æ—¶ï¼Œå¦‚ä¸‹é¢çš„ä»£ç </p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">String string = <span class="string">&quot;Hmxs&quot;</span>;</span><br><span class="line">String copy = string;</span><br></pre></td></tr></table></figure>
<p>ä½†å½“ç¨‹åºç»“æŸæ—¶ï¼Œç¨‹åºä¼šå´©æºƒï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬å®é™…ä¸Šè¿›è¡Œçš„æ˜¯ä¸€æ¬¡æµ…æ‹·è´ï¼Œåœ¨<code>copy</code>å®é™…æ‹·è´çš„æ˜¯<code>string</code>ä¸­çš„<code>char</code>ç±»å‹æŒ‡é’ˆï¼Œå¹¶æ²¡æœ‰é‡æ–°è¿›è¡Œå †å†…å­˜çš„åˆ†é…ï¼Œæ‰€ä»¥å½“ç¨‹åºç»“æŸæ—¶ï¼Œä¼šè¿è¡Œä¸¤æ¬¡<code>delete[] buffer_</code>å»é‡Šæ”¾åŒä¸€ç‰‡å†…å­˜ï¼Œå¯¼è‡´äº†ç¨‹åºçš„å´©æºƒ</p>
<p><strong>è€Œå¦‚ä½•ä½¿å¤åˆ¶æ—¶è¿›è¡Œæ·±æ‹·è´å‘¢ï¼Ÿ</strong></p>
<p>æˆ‘ä»¬å¯ä»¥åˆ›é€ ä¸€ä¸ªæ–°å‡½æ•°è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä½†è¿™ä¸å¤Ÿä¼˜é›…ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨çš„æ–¹æ³•æ˜¯-<strong>æ‹·è´æ„é€ å‡½æ•°</strong></p>
<blockquote>
<p><strong>æ‹·è´æ„é€ å‡½æ•°æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå½“ä½ åœ¨è¿›è¡Œæ‹·è´æ“ä½œï¼Œå°†ä¸€ä¸ªå˜é‡çš„å€¼æ‹·è´ç»™å¦ä¸€ä¸ªå˜é‡ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨<code>=</code>ï¼Œå¹¶ä¸”<code>=</code>å·¦å³ä¸¤è¾¹å˜é‡ç±»å‹ç›¸åŒæ—¶ï¼Œä¼šè°ƒç”¨çš„æ„é€ å‡½æ•°</strong></p>
</blockquote>
<p>ä½¿ç”¨<code>ç±»å(const ç±»å&amp; å˜é‡å)&#123;&#125;</code>å³å¯æ„å»ºæ‹·è´æ„é€ å‡½æ•°ï¼ˆå¦‚æœä¸æ‰‹åŠ¨è®¾å®šï¼ŒC++ä¼šæä¾›é»˜è®¤çš„æ‹·è´æ„é€ å‡½æ•°ï¼‰</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="built_in">String</span>(<span class="type">const</span> String&amp; other)</span><br><span class="line">    : <span class="built_in">size_</span>(other.size_)</span><br><span class="line">&#123;</span><br><span class="line">    buffer_ = <span class="keyword">new</span> <span class="type">char</span>[size_ + <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">memcpy</span>(buffer_, other.buffer_, size_ + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æ­¤ä¸€æ¥ï¼Œç¨‹åºä¾¿ä¸ä¼šå´©æºƒäº†</p>
<p>ä½†æ˜¯ä»æœ‰ä¸€ç‚¹æˆ‘ä»¬éœ€è¦æ³¨æ„ï¼Œåªè¦æˆ‘ä»¬å¯¹<code>String</code>ç±»å‹çš„å˜é‡è¿›è¡Œå€¼çš„ä¼ é€’ï¼Œå¦‚ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°ï¼Œå…¶å°±ä¼šå¯¹è‡ªå·±è¿›è¡Œä¸€æ¬¡æ·±æ‹·è´ï¼Œè¿™ä¼šéå¸¸å½±å“æ•ˆç‡ï¼Œè€Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¼•ç”¨çš„æ–¹å¼è¿›è¡Œå€¼çš„ä¼ é€’ï¼Œå¦‚<code>Print(const String&amp; other)</code>,è¿™æ ·ä¸€æ¥ä¼ é€’çš„ä¾¿æ˜¯å˜é‡æœ¬èº«ï¼Œè€Œéå…¶å¤åˆ¶äº†</p>
<p>åœ¨ä½¿ç”¨å¼•ç”¨ä¼ å€¼æ—¶ï¼Œ<strong>æ€»æ˜¯ã€æ€»æ˜¯ã€æ€»æ˜¯ä½¿ç”¨constå¼•ç”¨ä¼ é€’å¯¹è±¡</strong>ï¼Œè¿™ä¼šå¸®æˆ‘ä»¬é¿å…å¾ˆå¤šé—®é¢˜</p>
<hr>
<h2 id="ç®­å¤´æ“ä½œç¬¦ï¼ˆ46ï¼‰">-&gt;ç®­å¤´æ“ä½œç¬¦ï¼ˆ46ï¼‰</h2>
<blockquote>
<p><strong><code>x</code>æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œæ‹¥æœ‰ä¸€ä¸ª<code>print</code>æ–¹æ³•ï¼Œåˆ™<code>x-&gt;print()</code> = <code>(*x).print()</code></strong></p>
</blockquote>
<p>å½“æˆ‘ä»¬æƒ³è¦é€šè¿‡æŒ‡é’ˆè®¿é—®ç±»ä¸­çš„å­—æ®µ/æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦å…ˆå¯¹æŒ‡é’ˆåšé€†å¼•ç”¨è¿ç®—åï¼Œå†ä½¿ç”¨<code>.</code>è¿ç®—ç¬¦è®¿é—®å…¶ä¸­çš„æ–¹æ³•/å­—æ®µï¼ŒåŒæ—¶å› ä¸ºè¿ç®—ç¬¦ä¼˜å…ˆçº§çš„é—®é¢˜ï¼Œä¸ºäº†è¾¾åˆ°æˆ‘ä»¬éœ€è¦æ•ˆæœæˆ‘ä»¬è¿˜éœ€è¦åŠ ä¸€ä¸ªæ‹¬å·ï¼Œæœ€åçš„ä»£ç ä¾¿éœ€è¦å†™æˆ<code>(*x).</code>ï¼Œè¿™å†™èµ·æ¥éå¸¸ç¬¨é‡ï¼›æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡åœ¨å¤–é¢åŒ…ä¸€å±‚å¼•ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯è¿™åŒæ ·éœ€è¦å¤šå†™ä¸€è¡Œï¼›æ­¤æ—¶ç®­å¤´æ“ä½œç¬¦ä¾¿åº”è¿è€Œç”Ÿäº†ï¼Œç®­å¤´æ“ä½œç¬¦æ˜¯ä¸Šè¿°æ“ä½œçš„ä¸€ä¸ªå¿«æ·æ–¹å¼è€Œå·²</p>
<p>ä»¥ä¸Šå°±æ˜¯<code>-&gt;</code>ç®­å¤´æ“ä½œç¬¦çš„é»˜è®¤ç”¨æ³•äº†ï¼Œè€Œä½œä¸ºä¸€ä¸ªæ“ä½œç¬¦ï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥é‡è½½å®ƒï¼Œ<strong>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ScopedPtr</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Entity* obj_;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">ScopedPtr</span>(Entity* entity)</span><br><span class="line">        : <span class="built_in">obj_</span>(entity) &#123; &#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">ScopedPtr</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">delete</span> obj_;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æ‰‹åŠ¨å®ç°äº†ä¸€ä¸ªEntityçš„æ™ºèƒ½æŒ‡é’ˆç±»ï¼Œæ­¤æ—¶æˆ‘ä»¬ä¾¿å¯ä»¥é€šè¿‡<code>ScopedPtr</code>æ¥å£°æ˜å †ä¸­çš„<code>Entity</code>ç±»ï¼Œä½†æ­¤æ—¶ï¼Œé€šè¿‡<code>ScopedPtr</code>å£°æ˜çš„ç±»æ— æ³•é€šè¿‡<code>-&gt;</code>æ“ä½œç¬¦è®¿é—®å…¶ä¸­çš„æ–¹æ³•ï¼Œå› ä¸ºå®é™…çš„ç±»æ˜¯<code>ScopedPtr</code>ä¸­çš„æˆå‘˜å˜é‡ï¼Œæ­¤æ—¶æˆ‘ä»¬ä¾¿å¯ä»¥é€šè¿‡é‡è½½ç®­å¤´æ“ä½œç¬¦æ¥è¾¾æˆæˆ‘ä»¬æƒ³è¦çš„æ•ˆæœ</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">Entity* <span class="keyword">operator</span>-&gt; () <span class="type">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> obj_;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é‡è½½ç®­å¤´æ“ä½œç¬¦ä½¿å…¶è¿”å›<code>ScopedPtr</code>ä¸­çš„æˆå‘˜å˜é‡å³å¯</p>
<hr>
<h2 id="åŠ¨æ€æ•°ç»„std-vectorï¼ˆ47ï¼‰">åŠ¨æ€æ•°ç»„<code>std::vector</code>ï¼ˆ47ï¼‰</h2>
<blockquote>
<p><strong>åŠ¨æ€æ•°ç»„æ˜¯æŒ‡ä¸å®šé•¿çš„æ•°ç»„ï¼Œæˆ‘ä»¬åˆ›å»ºå®ƒæ—¶ä¸éœ€è¦ç»™å®šå›ºå®šçš„å†…å­˜ç©ºé—´ï¼Œå…¶ä¼šåœ¨è¿è¡Œæ—¶è¿›è¡Œç©ºé—´çš„åŠ¨æ€åˆ†é…</strong></p>
</blockquote>
<p>C++STLä¸­çš„åŠ¨æ€æ•°ç»„è¢«ç§°ä¸º<code>vector</code>ï¼Œä½†å®ƒå®é™…ä¸Šå¹¶ä¸æ˜¯æ•°å­¦æ„ä¹‰ä¸Šçš„â€œå‘é‡â€ï¼Œä¹Ÿä¸æ˜¯C#ä¸­çš„Vector2/Vector3ï¼Œå…¶å®é™…æ›´åƒä¸€ä¸ª<code>ArrayList</code></p>
<p><em>è‡³äºå®ƒä¸ºä»€ä¹ˆèµ·äº†ä¸ªè¿™ä¹ˆå¥‡æ€ªçš„åå­—ï¼Œå¬è¯´æ•…äº‹å¾ˆå¤æ‚ğŸ¤£</em></p>
<p><strong>ä¸‹é¢æ˜¯C++STLä¸­<code>vector</code>çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Data</span> <span class="comment">// ä»»æ„æ•°æ®ç±»</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> x, y, z;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">std::ostream&amp; <span class="keyword">operator</span>&lt;&lt; (std::ostream&amp; stream, <span class="type">const</span> Data&amp; data)</span><br><span class="line">&#123;</span><br><span class="line">    stream &lt;&lt; data.x &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; data.y &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; data.z;</span><br><span class="line">    <span class="keyword">return</span> stream;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// vectorçš„åˆ›å»º</span></span><br><span class="line">    std::vector&lt;Data&gt; vectors;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// vectorå…ƒç´ çš„æ·»åŠ </span></span><br><span class="line">    vectors.<span class="built_in">push_back</span>(&#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span> &#125;);</span><br><span class="line">    vectors.<span class="built_in">push_back</span>(&#123; <span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span> &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…ƒç´ åˆ é™¤</span></span><br><span class="line">    vectors.<span class="built_in">erase</span>(vectors.<span class="built_in">begin</span>() + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éå†æ–¹æ³•ä¸€</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; vectors.<span class="built_in">size</span>(); i++)</span><br><span class="line">        std::cout &lt;&lt; vectors[i] &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    <span class="comment">// éå†æ–¹æ³•äºŒ</span></span><br><span class="line">    <span class="keyword">for</span> (Data&amp; date : vectors)</span><br><span class="line">        std::cout &lt;&lt; date &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¼ é€’<code>vector</code>æ—¶åŠ¡å¿…ä½¿ç”¨å¼•ç”¨è¿›è¡Œä¼ é€’ï¼Œé˜²æ­¢å¯¹æ•´ä¸ª<code>vector</code>è¿›è¡Œå¤åˆ¶</strong></p>
<hr>
<h2 id="std-vectorä½¿ç”¨ä¼˜åŒ–ï¼ˆ48ï¼‰"><code>std::vector</code>ä½¿ç”¨ä¼˜åŒ–ï¼ˆ48ï¼‰</h2>
<p>è™½ç„¶C++ä¸ºæˆ‘ä»¬æä¾›äº†STLï¼Œä½†æ˜¯STLä¸­çš„æ•°æ®ç»“æ„åœ¨è®¾è®¡è¿‡ç¨‹ä¸­ï¼Œå…¶æ€§èƒ½å¾€å¾€ä¸æ˜¯æœ€ä¼˜å…ˆè€ƒè™‘çš„è¦ç´ ï¼Œè€ŒC++çš„<code>vector</code>åœ¨æ¯æ¬¡éœ€è¦æ‰©å……æ•°ç»„å®¹é‡æ—¶ï¼Œéƒ½ä¼šå…ˆåˆ†é…ä¸€ä¸ªæ–°çš„æ›´å¤§çš„ç©ºé—´ï¼Œå°†åŸå…ˆçš„æ•°æ®å¤åˆ¶åˆ°æ–°ç©ºé—´ä¸­ï¼Œå†åˆ é™¤åŸå…ˆçš„ç©ºé—´ï¼Œè¿™å¬ä¸Šå»æ€§èƒ½å°±å¾ˆå·®ï¼Œè€Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰æ­£ç¡®åœ°ä½¿ç”¨å®ƒï¼Œè¿™ç§åˆ†é…å¾€å¾€ä¼šç»å¸¸å‘ç”Ÿã€‚</p>
<p><strong>ä¸‹é¢æ˜¯ä¸€ç§æ›´å¥½åœ°ä½¿ç”¨<code>vector</code>ç±»çš„æ–¹å¼ï¼Œè®©<code>vector</code>çš„æ•ˆç‡æ›´é«˜ï¼š</strong></p>
<p>å…ˆæ¥çœ‹ä¸€ä¸ªåé¢æ•™æ</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Data</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> x, y, z;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Data</span>(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> z)</span><br><span class="line">        : <span class="built_in">x</span>(x), <span class="built_in">y</span>(y), <span class="built_in">z</span>(z) &#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Data</span>(<span class="type">const</span> Data&amp; other)</span><br><span class="line">        : <span class="built_in">x</span>(other.x), <span class="built_in">y</span>(other.y), <span class="built_in">z</span>(other.z)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Copy&quot;</span> &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::vector&lt;Data&gt; vectors;</span><br><span class="line">    vectors.<span class="built_in">push_back</span>(&#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span> &#125;);</span><br><span class="line">    vectors.<span class="built_in">push_back</span>(&#123; <span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span> &#125;);</span><br><span class="line">    vectors.<span class="built_in">push_back</span>(&#123; <span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span> &#125;);</span><br><span class="line"></span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ<code>Data</code>ç±»æ˜¯ä¸€ä¸ªæ™®é€šçš„æ•°æ®ç±»ï¼Œå…¶åœ¨æ¯æ¬¡è¢«å¤åˆ¶æ—¶éƒ½ä¼šè¾“å‡ºä¸€ä¸ªâ€œ<code>Copy</code>â€ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª<code>vector</code>å˜é‡ï¼Œå¹¶é€šè¿‡<code>push_back</code>æ–¹æ³•å‘å…¶ä¸­æ·»åŠ äº†3ä¸ªå…ƒç´ ï¼Œè¿™çœ‹èµ·æ¥ä¸€ç‚¹æ¯›ç—…æ²¡æœ‰ï¼Œä½†å¦‚æœæˆ‘ä»¬è¿è¡Œè¿™æ®µä»£ç ï¼Œæˆ‘ä»¬ä¼šå‘ç°æœ‰6ä¸ª<code>Copy</code>è¢«è¾“å‡ºäº†ï¼Œè¿™æ„å‘³ç€åœ¨åŠ å…¥å…ƒç´ çš„è¿‡ç¨‹ä¸­ï¼Œ<code>Data</code>è¢«å¤åˆ¶äº†6æ¬¡ï¼Œè¿™å¤ªç³Ÿç³•äº†</p>
<p>è€Œé€ æˆè¿™6æ¬¡å¤åˆ¶çš„åŸå› æœ‰ä¸¤ä¸ªï¼šç±»çš„å®ä¾‹åŒ– ä¸ <code>vector</code>çš„æ‰©å®¹</p>
<ul>
<li>
<p>ç±»çš„å®ä¾‹åŒ–ï¼šåœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬æ˜¯åœ¨æ ˆä¸­å®ä¾‹åŒ–ç±»çš„ï¼Œè€Œä½¿ç”¨<code>push_back</code>æ–¹æ³•ä¼šå…ˆåœ¨æ ˆä¸­ç»™ç±»åˆ†é…å†…å­˜ï¼Œå†å°†å¯¹è±¡ç§»åŠ¨åˆ°<code>vector</code>å˜é‡å¤„ï¼Œè¿™ä¸€è¿‡ç¨‹ä¾¿ä¼šè¿›è¡Œä¸€æ¬¡ç±»çš„å¤åˆ¶ï¼›è€Œè§£å†³æ–¹æ³•ä¹Ÿéå¸¸ç®€å•ï¼Œ<strong>å°†<code>push_back</code>æ›¿æ¢ä¸º<code>emplace_back</code>å³å¯</strong>ï¼Œ<code>emplace_back</code>ä¼šç›´æ¥åœ¨<code>vector</code>å˜é‡çš„å†…å­˜å¤„æ„å»ºç±»ï¼Œçœå»äº†å¤åˆ¶è¿‡ç¨‹</p>
</li>
<li>
<p><code>vector</code>çš„æ‰©å®¹ï¼šC++çš„<code>vector</code>åœ¨æ¯æ¬¡éœ€è¦æ‰©å……æ•°ç»„å®¹é‡æ—¶ï¼Œéƒ½ä¼šå…ˆåˆ†é…ä¸€ä¸ªæ–°çš„æ›´å¤§çš„ç©ºé—´ï¼Œå°†åŸå…ˆçš„æ•°æ®å¤åˆ¶åˆ°æ–°ç©ºé—´ä¸­ï¼Œå†åˆ é™¤åŸå…ˆçš„ç©ºé—´ï¼›è€Œ<strong>æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>reserve</code>æ–¹æ³•ä¸ºvectorè®¾å®šåˆå§‹çš„å®¹é‡</strong>ï¼Œè¿™æ ·åœ¨è¾¾åˆ°å®¹é‡ä¸Šé™å‰éƒ½ä¸ä¼šè¿›è¡Œç©ºé—´çš„å¤åˆ¶</p>
</li>
</ul>
<p>é€šè¿‡ä¸Šè¿°ä¸¤ä¸ªæ–¹æ³•ä¼˜åŒ–ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::vector&lt;Data&gt; vectors;</span><br><span class="line">    vectors.<span class="built_in">reserve</span>(<span class="number">3</span>);</span><br><span class="line">    vectors.<span class="built_in">emplace_back</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line">    vectors.<span class="built_in">emplace_back</span>(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>);</span><br><span class="line">    vectors.<span class="built_in">emplace_back</span>(<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>);</span><br><span class="line"></span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å†æ¬¡è¿è¡Œï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ä¸€ä¸ª<code>Copy</code>éƒ½æ²¡æœ‰è¾“å‡ºï¼Œè¯´æ˜ä¸€æ¬¡å¤åˆ¶è¡Œä¸ºéƒ½æ²¡æœ‰å‘ç”Ÿï¼Œè¿™å¤§å¤§æé«˜äº†æ•ˆç‡ï¼›è¦çŸ¥é“åœ¨åŸå…ˆçš„ä»£ç ä¸‹ï¼Œå¤åˆ¶æ¬¡æ•°ä¼šéšå…ƒç´ æ·»åŠ æ¬¡æ•°çš„å¢åŠ è€Œå‘ˆæŒ‡æ•°çº§å¢åŠ ï¼Œè¿™å¯¹æ€§èƒ½çš„æŸè€—å°†æ˜¯å¯æ€•çš„</p>
<hr>
<h2 id="åº“çš„ä½¿ç”¨ï¼ˆ49ã€50ï¼‰">åº“çš„ä½¿ç”¨ï¼ˆ49ã€50ï¼‰</h2>
<p>åœ¨pythonã€C#ã€Javaç­‰è¯­è¨€ä¸­ï¼Œæ·»åŠ åº“æ˜¯ä¸€é¡¹éå¸¸ç®€å•çš„ä»»åŠ¡ï¼Œä½†æ˜¯åœ¨C++ä¸­ï¼Œä¼¼ä¹è¿™é‡Œæˆäº†é—®é¢˜çš„é‡ç¾åŒºï¼Œè€Œå®é™…ä¸Šåœ¨C++ä¸­æ·»åŠ åº“å¹¶ä¸å›°éš¾</p>
<p><strong>ä»¥ä¸‹å°†é€šè¿‡é“¾æ¥äºŒè¿›åˆ¶æ–‡ä»¶çš„å½¢å¼åœ¨C++ä¸­é“¾æ¥GLFWåº“ï¼š</strong></p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202306260202572.png" alt="image-20230626020227432" style="zoom: 67%;" />
<p>ä¸‹è½½è§£å‹GLFWé¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶åï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥å¾—åˆ°ä¸Šè¿°æ–‡ä»¶ï¼Œå®ƒä»¬ä¸»è¦ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šincludeæ–‡ä»¶ä¸libæ–‡ä»¶ï¼Œå®ƒä»¬åˆ†åˆ«å¯¹åº”å¤´æ–‡ä»¶ä¸å…·ä½“çš„å‡½æ•°å®ç°ï¼Œè€Œå¯¹äºè¿™ä¸¤éƒ¨åˆ†æˆ‘ä»¬éƒ½éœ€è¦è¿›è¡ŒåŠ è½½</p>
<p><em>C++å­˜åœ¨ç€ä¸¤ç§åº“ï¼šé™æ€åº“ï¼ˆ.libï¼‰ä¸åŠ¨æ€åº“ï¼ˆ.dllï¼‰ï¼Œå®ƒä»¬åŸºæœ¬çš„åŒºåˆ«æ˜¯é™æ€åº“ä¼šè¢«ç¼–è¯‘è¿›exeæ–‡ä»¶ä¸­ï¼Œè€ŒåŠ¨æ€åº“åˆ™æ˜¯åœ¨è¿è¡Œæ—¶è£…è½½çš„ï¼Œä¹‹åä¼šæœ‰ç¯‡ç« ä¸“é—¨ä»‹ç»ä»–ä»¬</em></p>
<p>ä¸‹é¢æ˜¯ä¸¤ç§åº“å¼•å…¥æ–¹å¼çš„ä»‹ç»ï¼š</p>
<h3 id="é™æ€é“¾æ¥">é™æ€é“¾æ¥</h3>
<p>å°†includeæ–‡ä»¶å¤¹ä¸å¯¹åº”å¹³å°çš„libæ–‡ä»¶å¤¹å¤åˆ¶åˆ°é¡¹ç›®æ–‡ä»¶å¤¹ä¸­ï¼Œè€Œåœ¨libæ–‡ä»¶å¤¹ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸‰ä¸ªæ–‡ä»¶</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202306260214664.png" alt="image-20230626021447618"></p>
<p>å…¶ä¸­<code>glfw3.lib</code>ä¸ºé™æ€åº“ï¼Œè€Œ<code>glfw3.dll</code>ä¸ºåŠ¨æ€åº“ï¼Œ<code>glfw3dll.lib</code>ä¸ºåŠ¨æ€åº“çš„å¯¼å…¥åº“ï¼Œå…¶ä¸­åŒ…å«äº†åŠ¨æ€åº“ä¸­æ‰€æœ‰å‡½æ•°ã€ç¬¦å·çš„ä½ç½®ï¼Œä»¥ä¾¿æˆ‘ä»¬è¿›è¡Œä½¿ç”¨ï¼ˆæ²¡æœ‰å®ƒæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨åŠ¨æ€åº“ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦é€šè¿‡å‡½æ•°åæ¥è®¿é—®å®ƒï¼‰</p>
<p>è¦é“¾æ¥åˆ°åº“ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦å°†å…¶å¤´æ–‡ä»¶åŒ…å«åˆ°é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨<code>å±æ€§/C++/å¸¸è§„/é™„åŠ åŒ…å«ç›®å½•</code>å°†åº“æ–‡ä»¶å¤¹åŒ…å«åœ¨é¡¹ç›®ä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202306260227665.png" alt="image-20230626022703597" style="zoom:67%;" />
<p>ä¹‹åå³å¯åœ¨ä»£ç ä¸­ä½¿ç”¨<code>#include &quot;GLFW/glfw3.h&quot;</code>å¼•å…¥å¤´æ–‡ä»¶äº†ï¼Œä½†åˆ°è¿™é‡Œæˆ‘ä»¬ä»…ä»…åªæ˜¯å¼•å…¥äº†å¤´æ–‡ä»¶ï¼Œå¹¶æ²¡æœ‰åŒ…å«å‡½æ•°çš„å®ç°ï¼Œè€Œè¿™ä¸€æ­¥éœ€è¦æˆ‘ä»¬åœ¨é“¾æ¥å™¨é€‰é¡¹ä¸­è¿›è¡Œæ“ä½œ</p>
<p>åœ¨<code>å±æ€§/é“¾æ¥å™¨/å¸¸è§„/é™„åŠ åº“ç›®å½•</code>ä¸­æ·»åŠ åº“æ–‡ä»¶å¤¹çš„åœ°å€</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202306260234490.png" alt="image-20230626023444430" style="zoom:67%;" />
<p>åœ¨<code>å±æ€§/é“¾æ¥å™¨/è¾“å…¥/é™„åŠ ä¾èµ–é¡¹</code>ä¸­æ·»åŠ <code>glfw3.lib</code></p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202306260235757.png" alt="image-20230626023557693" style="zoom:67%;" />
<p>å³å¯å®Œæˆåº“æ–‡ä»¶çš„åŒ…å«ï¼Œåˆ°æ­¤æˆ‘ä»¬ä¾¿å¯ä»¥åœ¨ç¨‹åºä¸­è°ƒç”¨åº“å‡½æ•°äº†</p>
<h3 id="åŠ¨æ€é“¾æ¥">åŠ¨æ€é“¾æ¥</h3>
<p>é™æ€é“¾æ¥å‘ç”Ÿåœ¨ç¼–è¯‘æ—¶ï¼Œè€ŒåŠ¨æ€é“¾æ¥å‘ç”Ÿåœ¨è¿è¡Œæ—¶</p>
<p>åœ¨é™æ€é“¾æ¥æ—¶ï¼Œç¼–è¯‘å™¨å’Œé“¾æ¥å™¨ä¼šçŸ¥é“å®Œå…¨çš„åº“çš„ä»£ç ï¼Œæ‰€ä»¥ä¼šå…è®¸æ›´å¤šçš„ä¼˜åŒ–å‘ç”Ÿ</p>
<p>è€ŒåŠ¨æ€é“¾æ¥åˆ™åªæœ‰åœ¨ä½ è¿è¡Œexeæ–‡ä»¶æ—¶ï¼Œåº“æ‰ä¼šè¢«åŠ è½½ï¼Œå…¶å®é™…ä¸Šä¸æ˜¯å¯æ‰§è¡Œæ–‡ä»¶çš„ä¸€éƒ¨åˆ†</p>
<p>é‚£ä¹ˆåº”è¯¥å¦‚ä½•ä½¿ç”¨åŠ¨æ€é“¾æ¥å‘¢ï¼Ÿ</p>
<p>å…¶å®åªéœ€è¦<code>å±æ€§/é“¾æ¥å™¨/è¾“å…¥/é™„åŠ ä¾èµ–é¡¹</code>ä¸­åŠ å…¥<code>glfw3dll.lib</code>å³å¯</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202307180302256.png" alt="image-20230718020213161"></p>
<p>å› ä¸ºGLFWæ”¯æŒé™æ€é“¾æ¥ä¸åŠ¨æ€é“¾æ¥éƒ½ä½¿ç”¨åŒä¸€ä¸ªå¤´æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„<code>include</code>ä¹Ÿä¸éœ€è¦æ›´æ”¹</p>
<p>åšå®Œè¿™ä¸€æ­¥ä¹‹åï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥ç¼–è¯‘é€šè¿‡äº†ï¼Œä½†æ˜¯åœ¨è¿è¡Œæ—¶ä»ç„¶ä¼šæŠ¥é”™ï¼Œè¿™ä¾¿æ˜¯å› ä¸ºåˆ°æ­¤æˆ‘ä»¬å·²ç»å‘ç¼–è¯‘å™¨ä¿è¯äº†<code>dll</code>åº“ä¼šå­˜åœ¨ï¼Œä½†å®é™…ä¸Šåœ¨è¿è¡Œæ—¶ç¨‹åºè¿˜æ˜¯éœ€è¦æ‰¾åˆ°å¯¹åº”çš„<code>dll</code>æ–‡ä»¶çš„ï¼Œè€Œç¨‹åºä¼šé»˜è®¤åœ¨exeæ–‡ä»¶çš„æ ¹ç›®å½•ä¸­å¯»æ‰¾<code>dll</code>æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€å°†<code>dll</code>æ–‡ä»¶å’Œ<code>exe</code>æ–‡ä»¶æ”¾åœ¨ä¸€èµ·ä¾¿å¤§åŠŸå‘Šæˆäº†ï¼Œè€Œæˆ‘ä»¬åŒæ ·å¯ä»¥æ‰‹åŠ¨æŒ‡å®šç¨‹åºå¯¹äº<code>dll</code>æ–‡ä»¶çš„æœç´¢èŒƒå›´ã€‚</p>
<hr>
<h2 id="å¤„ç†å¤šè¿”å›å€¼ï¼ˆ52ï¼‰">å¤„ç†å¤šè¿”å›å€¼ï¼ˆ52ï¼‰</h2>
<p>åœ¨C++çš„é»˜è®¤æƒ…å†µä¸‹ï¼Œæ˜¯æ— æ³•è¿”å›å¤šä¸ªç±»å‹çš„è¿”å›å€¼çš„ï¼Œä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€äº›æ‰‹æ®µæ¥å®ç°è¿™ä¸€ç‚¹</p>
<p>ä¸‹é¢æ˜¯ä¸€äº›æ–¹æ³•çš„æ€»ç»“ï¼š</p>
<ol>
<li><strong>ä½¿ç”¨å¼•ç”¨/æŒ‡é’ˆä¼ å…¥å¤–éƒ¨å€¼åï¼Œåœ¨å†…éƒ¨ä¿®æ”¹</strong></li>
</ol>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">MultipleReturnValue</span><span class="params">(std::string&amp; outValue1, <span class="type">int</span>&amp; outValue2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    outValue<span class="number">1.</span><span class="built_in">append</span>(<span class="string">&quot; Hello&quot;</span>);</span><br><span class="line">    outValue2++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::string value1 = <span class="string">&quot;NiHao&quot;</span>;</span><br><span class="line">    <span class="type">int</span> value2 = <span class="number">10</span>;</span><br><span class="line">    <span class="built_in">MultipleReturnValue</span>(value1, value2);</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Value1: &quot;</span> &lt;&lt; value1 &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Value2: &quot;</span> &lt;&lt; value2 &lt;&lt; std::endl;</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ä¼˜ç‚¹</strong>ï¼šæ•ˆç‡æœ€é«˜ï¼›å¯ä»¥è¿”å›ä»»æ„æ•°é‡ã€ä»»æ„ç±»å‹çš„å€¼</p>
<p><strong>ç¼ºç‚¹</strong>ï¼šçœ‹ç€æ¯”è¾ƒä¹±ï¼Œä¸å¤Ÿç›´è§‚</p>
<ol start="2">
<li><strong>ä½¿ç”¨<code>std::array</code>/<code>std::vector</code></strong></li>
</ol>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">std::vector&lt;std::string&gt; <span class="title">MultipleReturnValue</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> std::vector&lt;std::string&gt;&#123; <span class="string">&quot;Hello1&quot;</span>,<span class="string">&quot;Hello2&quot;</span>&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> vector = <span class="built_in">MultipleReturnValue</span>();</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Value1: &quot;</span> &lt;&lt; vector[<span class="number">0</span>] &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Value2: &quot;</span> &lt;&lt; vector[<span class="number">1</span>] &lt;&lt; std::endl;</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ä¼˜ç‚¹</strong>ï¼šå¥½åƒæ²¡ä»€ä¹ˆä¼˜ç‚¹</p>
<p><strong>ç¼ºç‚¹</strong>ï¼šåªèƒ½ä¼ é€’ä¸€ç§ç±»å‹ï¼›å¾—åˆ°è¿”å›å€¼æ—¶æ— æ³•æ˜¾ç¤ºå˜é‡å</p>
<ol start="3">
<li><strong>ä½¿ç”¨<code>std::tuple</code>/<code>std::pair</code></strong></li>
</ol>
<p><code>tuple</code>å’Œ<code>pair</code>éƒ½ä¸å…³å¿ƒå…¶ä¸­çš„å˜é‡ç±»å‹ï¼Œå…¶ä½™ä¸<code>array</code>å’Œ<code>vector</code>ç±»ä¼¼</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">std::tuple&lt;std::string, <span class="type">int</span>&gt; <span class="title">MultipleReturnValue</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> std::<span class="built_in">make_tuple</span>(<span class="string">&quot;Hello&quot;</span>, <span class="number">10</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> tuple = <span class="built_in">MultipleReturnValue</span>();</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Value1: &quot;</span> &lt;&lt; std::<span class="built_in">get</span>&lt;<span class="number">0</span>&gt;(tuple) &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Value2: &quot;</span> &lt;&lt; std::<span class="built_in">get</span>&lt;<span class="number">1</span>&gt;(tuple) &lt;&lt; std::endl;</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ä¼˜ç‚¹</strong>ï¼šä¸<code>array</code>å’Œ<code>vector</code>ç›¸æ¯”ï¼Œå¯ä»¥ä¼ é€’å¤šç±»å‹äº†</p>
<p><strong>ç¼ºç‚¹</strong>ï¼šå¾—åˆ°è¿”å›å€¼æ—¶æ— æ³•æ˜¾ç¤ºå˜é‡åï¼Œä¸”è§£åŒ…å†™æ³•ååˆ†ç¹ç</p>
<ol start="4">
<li><strong>ä½¿ç”¨è‡ªå»ºç»“æ„ä½“ä¼ é€’è¿”å›å€¼</strong></li>
</ol>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ReturnValues</span></span><br><span class="line">&#123;</span><br><span class="line">    std::string Value1;</span><br><span class="line">    <span class="type">int</span> Value2;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">ReturnValues <span class="title">MultipleReturnValue</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;Hello&quot;</span>, <span class="number">10</span> &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> returns = <span class="built_in">MultipleReturnValue</span>();</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Value1: &quot;</span> &lt;&lt; returns.Value1 &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Value2: &quot;</span> &lt;&lt; returns.Value2 &lt;&lt; std::endl;</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ä¼˜ç‚¹</strong>ï¼šæ¸…æ™°æ˜äº†ï¼Œå¯è¯»æ€§é«˜ï¼Œå†™æ³•ç®€å•ï¼›å¯ä¼ é€’ä»»æ„ç±»å‹ã€ä»»æ„æ•°é‡çš„å˜é‡ï¼›è§£åŒ…å¯ä»¥æ˜¾ç¤ºå˜é‡å</p>
<p><strong>ç¼ºç‚¹</strong>ï¼šä¸æ–¹æ³•1ç›¸æ¯”æ•ˆç‡ç¨å·®</p>
<blockquote>
<p><strong>æ€»çš„æ¥è¯´ï¼Œæ³•1ä¸æ³•4è¾ƒä¸ºå®ç”¨</strong></p>
</blockquote>
<hr>
<h2 id="æ¨¡æ¿templateï¼ˆ53ï¼‰">æ¨¡æ¿<code>template</code>ï¼ˆ53ï¼‰</h2>
<p>C++çš„<code>template</code>æœ‰ç‚¹ç±»ä¼¼å…¶ä»–è¯­è¨€ä¸­çš„æ³›å‹<code>Generic</code>ï¼Œä½†å®é™…ä¸Š<code>template</code>æ¯”æ³›å‹è¦å¼ºå¤§åœ°å¤š</p>
<p>æ¨¡æ¿æœ‰ç‚¹åƒå®ï¼Œå®ƒå®é™…ä¸Šå¯ä»¥å¸®ä½ å®Œæˆéå¸¸å¤šçš„äº‹æƒ…ï¼Œè€Œæ³›å‹å¾€å¾€å—é™ä¸ç±»å‹ç³»ç»Ÿä»¥åŠå…¶ä»–å¾ˆå¤šå› ç´ </p>
<blockquote>
<p><strong><code>template</code>å…è®¸ä½ å®šä¹‰ä¸€ä¸ªå¯ä»¥æ ¹æ®ä½ æƒ³è¦çš„ç”¨é€”è¿›è¡Œç¼–è¯‘çš„æ¨¡æ¿ï¼Œä½ å¯ä»¥ç¼–å†™ä¸€å¥—è§„åˆ™ï¼Œæ¥è®©ç¼–è¯‘å™¨å¸®ä½ å†™ä»£ç </strong></p>
<p><strong>è¿™æœ‰ç‚¹åƒä¸€ç§è“å›¾ï¼Œä½ åªéœ€è¦åˆ¶å®šè§„åˆ™ï¼Œè€Œå®é™…çš„ç”Ÿäº§ç”±ç¼–è¯‘å™¨è¿›è¡Œ</strong></p>
</blockquote>
<p>å½“æˆ‘ä»¬æƒ³è¦ç¼–å†™ä¸€ç³»åˆ—å‡½æ•°ï¼Œå…¶å¤§éƒ¨åˆ†å†…å®¹éƒ½ç›¸åŒï¼Œåªæ˜¯æ¥å—çš„å‚æ•°ä¸åŒæ—¶ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥ä½¿ç”¨<code>template</code>ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p>
<p>æˆ‘ä»¬æƒ³è¦ç¼–å†™ä¸€ä¸ª<code>Print</code>å‡½æ•°ï¼Œè®©å…¶å¯ä»¥åˆ†åˆ«è¾“å‡ºæ•´æ•°ã€æµ®ç‚¹æ•°ã€å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦åˆ›å»ºå¤šä¸ªå‡½æ•°é‡è½½</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">(<span class="type">int</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; value &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">(<span class="type">float</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; value &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">(std::string value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; value &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">Print</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">Print</span>(<span class="number">1.1f</span>);</span><br><span class="line">    <span class="built_in">Print</span>(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæˆ‘ä»¬æƒ³è¦å¢åŠ æ›´å¤šç±»å‹æˆ‘ä»¬å°±éœ€è¦æ›´åŠ è·Ÿå¤šé‡è½½ï¼Œè¿™å¯è¡Œï¼Œä½†æ˜¯éå¸¸éº»çƒ¦ï¼Œè€Œä½¿ç”¨<code>template</code>å¯ä»¥å¤§å¹…ç®€åŒ–ä»£ç ï¼Œå°±åƒä¸‹é¢è¿™æ ·</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">(T value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; value &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">Print</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">Print</span>(<span class="number">1.1f</span>);</span><br><span class="line">    <span class="built_in">Print</span>(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em><code>T</code>å¯ä»¥è‡ªå®šä¹‰ï¼Œå¦‚<code>typename Hmxs</code>åŒæ ·å¯ä»¥</em></p>
<blockquote>
<p><code>template</code>å‡½æ•°å®é™…ä¸Šå¹¶ä¸çœŸå®å­˜åœ¨ï¼Œå®é™…çš„å‡½æ•°ä¼šåœ¨è¢«è°ƒç”¨æ—¶è¢«è‡ªåŠ¨åˆ›å»º</p>
</blockquote>
<p>è€Œåœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œåœ¨æˆ‘ä»¬è°ƒç”¨<code>Print</code>å‡½æ•°æ—¶ï¼Œå®é™…åŒ…å«äº†ä¸€å±‚éšå¼çš„ç±»å‹æ¨å¯¼ï¼Œå¦‚åœ¨<code>Print(1)</code>ä¸­ï¼Œç¼–è¯‘å™¨çŸ¥é“<code>1</code>æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œæ‰€ä»¥å…¶åˆ›å»ºäº†ä¸€ä¸ª<code>T</code>ä¸º<code>int</code>çš„<code>Print</code>å‡½æ•°</p>
<p>è€Œå®é™…ä¸Šæˆ‘ä»¬åŒæ ·å¯ä»¥åœ¨è°ƒç”¨æ¨¡æ¿å‡½æ•°æ—¶æ˜¾å¼åœ°æŒ‡å®šç±»å‹ï¼Œå¦‚ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Print</span>&lt;<span class="type">int</span>&gt;(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢æ˜¯ä¸€ç§<code>template</code>åœ¨å‡½æ•°ä¸­çš„ç®€å•åº”ç”¨ï¼Œè€Œ<code>template</code>å®é™…å®Œå…¨ä¸å±€é™ä¸å‡½æ•°ä¸­</p>
<p>å¦‚æˆ‘ä»¬æƒ³åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„åœ¨æ ˆä¸­ç”Ÿæˆçš„<code>Array</code>ç±»ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="type">int</span> N&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Array</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    T array_[N];</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">GetSize</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> N; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Array&lt;<span class="type">int</span>,<span class="number">5</span>&gt; m_array&#123;&#125;;</span><br><span class="line">    std::cout &lt;&lt; m_array.<span class="built_in">GetSize</span>() &lt;&lt; std::endl;</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><code>å¦‚æ­¤å¼ºå¤§ï¼</code></strong></p>
<p>è€Œè¿™å…¶å®ä¹Ÿåªæ˜¯<code>template</code>åº”ç”¨çš„å†°å±±ä¸€è§’ï¼Œå¤§é‡ä½¿ç”¨<code>template</code>çš„ç¼–ç æ–¹å¼è¢«ç§°ä¸ºmeta programmingå…ƒç¼–ç¨‹</p>
<p>ä½†å®é™…ä¸Šï¼Œä»»ä½•äº‹æƒ…éƒ½æœ‰ä¸¤é¢æ€§ï¼Œ<code>template</code>ååˆ†å¼ºå¤§ï¼Œä½†è¿‡åˆ†ä½¿ç”¨å®ƒä¼šè®©ä½ çš„ä»£ç çš„å¯è¯»æ€§é™ä½ï¼Œä»¥è‡³äºä½ ä¸å¾—ä¸ä¸ºç†è§£<code>template</code>è€ŒèŠ±è´¹æ›´å¤šåœ°æ—¶é—´</p>
<p>å½“ä¸€ä¸ªåŸºäº<code>template</code>çš„ç³»ç»Ÿå˜å¾—è¿‡äºæ·±å…¥ä¸åºå¤§æ—¶ï¼Œå°†æ˜¯éå¸¸ç–¯ç‹‚çš„ï¼Œæ²¡äººä¼šçŸ¥é“è¿™ç©æ„æ˜¯æ€ä¹ˆè¿è¡Œçš„</p>
<p>So, we should balance them well.</p>
<hr>
<h2 id="å †ä¸æ ˆå†…å­˜çš„æ¯”è¾ƒï¼ˆ54ï¼‰">å †ä¸æ ˆå†…å­˜çš„æ¯”è¾ƒï¼ˆ54ï¼‰</h2>
<p>æ ˆï¼ˆ<code>stack</code>ï¼‰å†…å­˜å’Œå †ï¼ˆ<code>heap</code>ï¼‰å†…å­˜æ˜¯ramä¸­å®é™…å­˜åœ¨çš„ä¸¤ä¸ªåŒºåŸŸ</p>
<p>æ ˆé€šå¸¸æ˜¯ä¸€ä¸ªé¢„å®šä¹‰å¤§å°çš„å†…å­˜åŒºåŸŸï¼Œé€šå¸¸çº¦ä¸º2å…†å­—èŠ‚å·¦å³ï¼›å †ä¹Ÿæ˜¯ä¸€ä¸ªé¢„å®šäº†é»˜è®¤å€¼çš„åŒºåŸŸï¼Œä½†å †å†…å­˜å¯ä»¥ç”Ÿé•¿ï¼Œå¹¶éšç€åº”ç”¨ç¨‹åºçš„è¿›è¡Œè€Œæ”¹å˜</p>
<p>è€Œæœ€é‡è¦çš„æ˜¯ï¼Œè¿™ä¸¤ä¸ªå†…å­˜åŒºåŸŸçš„å®é™…ä½ç½®ï¼ˆç‰©ç†ä¸Šï¼‰ï¼Œåœ¨æˆ‘ä»¬çš„ramä¸­æ˜¯å®Œå…¨ä¸€è‡´çš„</p>
<p><strong>ä¸ºä»€ä¹ˆæ ˆä¼šæ¯”å †å¿«ï¼Ÿ</strong></p>
<p>åœ¨æ ˆä¸Šåˆ†é…å†…å­˜ï¼Œå…¶å®åªæ˜¯ä¸€è¡ŒcpuæŒ‡ä»¤ï¼šå°†æ ˆå¤´æŒ‡é’ˆç§»åŠ¨ä¸€å®šçš„å­—èŠ‚</p>
<p>è€Œåœ¨å †ä¸Šè¿›è¡Œå†…å­˜åˆ†é…åˆ™å¤æ‚åœ°å¤šï¼Œcpuéœ€è¦è®°å½•è®¸å¤šä¿¡æ¯</p>
<hr>
<h2 id="å®Macroï¼ˆ55ï¼‰">å®<code>Macro</code>ï¼ˆ55ï¼‰</h2>
<blockquote>
<p><strong>å®ä¸»è¦åœ¨é¢„å¤„ç†é˜¶æ®µå‘æŒ¥ä½œç”¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®å°†ä»£ç ä¸­çš„æ–‡æœ¬æ›¿æ¢ä¸ºå…¶ä»–ä¸œè¥¿ï¼Œè¿™åŸºæœ¬ä¸Šå°±åƒéå†æˆ‘ä»¬çš„ä»£ç ç„¶åè¿›è¡ŒæŸ¥æ‰¾å’Œæ›¿æ¢ï¼Œä½†å®é™…ä¸Šå¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•ç²—æš´</strong></p>
</blockquote>
<p>è¿™å¬èµ·æ¥æœ‰ç‚¹åƒä¹‹å‰è¯´åˆ°çš„æ¨¡æ¿<code>template</code>ï¼Œä½†å®å‘ç”Ÿä½œç”¨çš„æ—¶é—´ä¼šæ¯”æ¨¡æ¿æ›´æ—©</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®çš„ä½¿ç”¨ä¾‹å­ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> WAIT std::cin.get()</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    WAIT;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬ç”¨<code>WAIT</code>æ›¿ä»£äº†<code>std::cin.get()</code></p>
<p>è¿™çœ‹ä¸Šå»æ›´ç®€æ´äº†ï¼Œ<strong>ä½†å®é™…ä¸Šè¿™æ˜¯éå¸¸é”™è¯¯çš„ç”¨æ³•</strong>ï¼Œç”¨å®å»æ›¿æ¢åŸæ¥ç†æ‰€åº”å½“çš„ä»£ç ï¼Œåªä¼šè®©çœ‹ä»£ç çš„äººè§‰å¾—ç–‘æƒ‘</p>
<p>è€Œä¸‹é¢è¿™ç§å®å‡½æ•°çš„ç”¨æ³•åˆ™æ˜¯åˆç†çš„</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> LOG(message) std::cout &lt;&lt; message &lt;&lt; std::endl</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">LOG</span>(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>å®å‡½æ•°çš„ä¼˜ç‚¹</strong>ï¼šæ²¡æœ‰æ™®é€šå‡½æ•°ä¿å­˜å¯„å­˜å™¨ã€å‚æ•°ä¼ é€’å’Œè¿”å›å€¼ä¼ é€’çš„å¼€é”€ï¼Œå±•å¼€åä»£ç æ•ˆç‡ä¼šæ›´é«˜</p>
<p>åŒæ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®å®šä¹‰æ¥åŒºåˆ†<code>Debug</code>æ¨¡å¼ä¸<code>Release</code>æ¨¡å¼çš„ä»£ç </p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifdef</span> _DEBUG</span></span><br><span class="line">    <span class="meta">#<span class="keyword">define</span> LOG(message) std::cout &lt;&lt; message &lt;&lt; std::endl</span></span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="meta">#<span class="keyword">define</span> LOG(message)</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">LOG</span>(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="autoå…³é”®å­—ï¼ˆ56ï¼‰"><code>auto</code>å…³é”®å­—ï¼ˆ56ï¼‰</h2>
<blockquote>
<p><strong><code>auto</code>çš„ä½œç”¨éå¸¸ç®€å•ï¼Œå®ƒå¯ä»¥ä¸ºæˆ‘ä»¬è‡ªåŠ¨æ¨å¯¼å˜é‡çš„ç±»å‹ï¼Œå®ƒåœ¨æŸäº›æ—¶å€™ååˆ†æœ‰æ•ˆï¼Œä½†æˆ‘ä»¬ä¸åº”è¯¥æ»¥ç”¨å®ƒ</strong></p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">std::string <span class="title">GetHello</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> hello = <span class="built_in">GetHello</span>();</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯ä¸€ä¸ª<code>auto</code>çš„ä½¿ç”¨ä¾‹ï¼Œæˆ‘ä»¬ç”¨å…¶æ¥æ¥æ”¶å‡½æ•°çš„è¿”å›å€¼</p>
<p>å…¶ä¸€ä¸ªå¥½å¤„ä¾¿æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬çš„å‡½æ•°è¿”å›å€¼ç±»å‹å‘ç”Ÿäº†å˜åŒ–ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨äº†autoï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¾¿ä¸éœ€è¦å†æ”¹åŠ¨æ¥æ”¶å¤„çš„å˜é‡ç±»å‹äº†</p>
<p>ä½†è¿™ä¹Ÿæ˜¯ä¸€æŠŠåŒåˆƒå‰‘ï¼Œè¿™ä¹Ÿæ„å‘³ç€ï¼Œå¦‚æœæˆ‘ä»¬æ¥ä¸‹æ¥çš„ä»£ç ä¸­æœ‰ç”¨åˆ°åŸæ¥çš„ç±»å‹ç‰¹æ€§ï¼Œé‚£ä¹ˆä¾¿ä¼šå¸¦æ¥æ›´å¤§çš„é—®é¢˜ï¼Œè¿™é™ä½äº†å¯è¯»æ€§</p>
<p>è¿™ç§ç”¨æ³•è§ä»è§æ™º</p>
<p><code>auto</code>è¿˜æœ‰ä¸€ç§ç”¨æ³•ä¾¿æ˜¯ç®€åŒ–ç±»å‹ï¼Œå½“æˆ‘ä»¬é¢å¯¹ä¸€ä¸ªæå…¶é•¿çš„ç±»å‹åæ—¶ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥ä½¿ç”¨<code>auto</code>ï¼Œè¿™æ ·åè€Œä¼šå¢åŠ å¯è¯»æ€§ï¼Œå¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::vector&lt;std::string&gt; name_vector;</span><br><span class="line">    name_vector.<span class="built_in">emplace_back</span>(<span class="string">&quot;Hmxs&quot;</span>);</span><br><span class="line">    name_vector.<span class="built_in">emplace_back</span>(<span class="string">&quot;Cherno&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (std::vector&lt;std::string&gt;::iterator iterator = name_vector.<span class="built_in">begin</span>(); iterator != name_vector.<span class="built_in">end</span>(); iterator++)</span><br><span class="line">        std::cout &lt;&lt; *iterator &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> iterator = name_vector.<span class="built_in">begin</span>(); iterator != name_vector.<span class="built_in">end</span>(); iterator++)</span><br><span class="line">        std::cout &lt;&lt; *iterator &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="é™æ€æ•°ç»„std-arrayï¼ˆ57ï¼‰">é™æ€æ•°ç»„<code>std::array</code>ï¼ˆ57ï¼‰</h2>
<blockquote>
<p><strong><code>std::array</code>æ˜¯C++STLçš„ä¸€éƒ¨åˆ†ï¼Œå…¶æ˜¯ä¸“é—¨ç”¨æ¥å¤„ç†é™æ€æ•°ç»„çš„ï¼›æ‰€è°“é™æ€æ•°ç»„ï¼Œä¾¿æ˜¯å®šé•¿æ•°ç»„ï¼Œåœ¨ä½ å®Œå…¨åˆå§‹åŒ–arrayçš„åˆå§‹åŒ–ä¹‹åï¼Œå…¶é•¿åº¦ä¾¿æ— æ³•æ”¹å˜äº†</strong></p>
</blockquote>
<p>åœ¨ä½¿ç”¨ä¸Šï¼Œ<code>array</code>å‡ ä¹å’ŒCè¯­è¨€é£æ ¼çš„æ•°ç»„åˆ«æ— äºŒè‡´</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;array&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::array&lt;<span class="type">int</span>, 10&gt; array;</span><br><span class="line">    array[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è¿™çœ‹ä¸Šå»ç†æ‰€å½“ç„¶ï¼Œé‚£ä¹ˆé—®é¢˜ä¾¿å‡ºç°äº†ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨å®ƒè¿˜æ˜¯Cè¯­è¨€çš„åŸç”Ÿæ•°ç»„å‘¢ï¼Ÿ</strong></p>
<blockquote>
<p><strong>ç»“è®ºæ˜¯ï¼šæˆ‘ä»¬åº”è¯¥å°½é‡ä½¿ç”¨<code>std::array</code></strong></p>
</blockquote>
<p>é¦–å…ˆï¼Œ<code>std::array</code>æ˜¯éå¸¸å¿«çš„ï¼Œå…¶æ˜¯å‚¨å­˜åœ¨æ ˆä¸Šçš„ï¼Œå‡ ä¹æ²¡æœ‰æ€§èƒ½æŸè€—</p>
<p>å…¶æ¬¡ï¼Œå› ä¸º<code>array</code>å±äºSTLï¼Œå…¶åŒ…å«äº†è®¸å¤šå†…ç½®å‡½æ•°ï¼Œå¯ä»¥ç®€åŒ–æˆ‘ä»¬çš„ä»£ç ï¼Œå¦‚ç”¨äºæ’åºçš„<code>sort</code></p>
<p>æœ€åï¼Œä½¿ç”¨<code>array</code>æˆ‘ä»¬ä¾¿ä¸éœ€è¦è‡ªå·±ç»´æŠ¤æ•°ç»„çš„å¤§å°äº†ï¼Œ<code>array.size()</code>å‡½æ•°å¯ä»¥è¿”å›æ•°ç»„å¤§å°ï¼Œå¹¶ä¸”è¿™ä¸ª<code>size</code>å±äºæ¨¡æ¿ï¼Œå¹¶ä¸å ç”¨é¢å¤–çš„å†…å­˜</p>
<hr>
<h2 id="å‡½æ•°æŒ‡é’ˆï¼ˆ58ï¼‰">å‡½æ•°æŒ‡é’ˆï¼ˆ58ï¼‰</h2>
<blockquote>
<p><strong>å‡½æ•°æŒ‡é’ˆï¼Œæ˜¯å°†ä¸€ä¸ªå‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡çš„æ–¹æ³•ï¼›å½“æˆ‘ä»¬ç›´æ¥ä¼ é€’å‡½æ•°åè€Œä¸å¸¦æ‹¬å·æ—¶ï¼Œæˆ‘ä»¬ä¾¿ä¼ é€’äº†ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆ</strong></p>
</blockquote>
<p>åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œå‡½æ•°æŒ‡é’ˆçš„ä½¿ç”¨å¯ä»¥å¤§å¹…ç®€åŒ–ä»£ç </p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Hello World&quot;</span> &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">void</span>(*function)() = Print;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">function</span>();</span><br><span class="line"></span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šæ‰€ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>è¿”å›å€¼ (*å˜é‡å)()</code>åˆ›å»ºä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼Œå¹¶é€šè¿‡å‡½æ•°æŒ‡é’ˆè°ƒç”¨å‡½æ•°</p>
<p>è€Œè¿™ä¹ˆå†™å¾€å¾€æ¯”è¾ƒå¥‡æ€ªï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬ä¼šä½¿ç”¨<code>auto</code>/<code>typedef</code>/<code>using</code>å®Œæˆå‡½æ•°æŒ‡é’ˆçš„å£°æ˜</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">void</span><span class="params">(*PrintFunc)</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">PrintFunc func1 = Print;</span><br><span class="line"><span class="keyword">auto</span> func2 = Print;</span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢æ˜¯å…³äºå‡½æ•°æŒ‡é’ˆçš„ä¸€ä¸ªå®é™…ç”¨ä¾‹</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">(<span class="type">int</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Value: &quot;</span> &lt;&lt; value &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ForEach</span><span class="params">(<span class="type">const</span> std::vector&lt;<span class="type">int</span>&gt;&amp; vector, <span class="type">void</span>(*func)(<span class="type">int</span>))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> value : vector)</span><br><span class="line">        <span class="built_in">func</span>(value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; vector = &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">4</span> &#125;;</span><br><span class="line">    <span class="built_in">ForEach</span>(vector, Print);</span><br><span class="line"></span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡å‡½æ•°æŒ‡é’ˆå°†å‡½æ•°åƒå˜é‡ä¸€æ ·åœ¨å‡½æ•°ä¸­ä¼ é€’ï¼Œè¾¾æˆâ€œå›è°ƒâ€çš„æ•ˆæœ</p>
<p>æ­¤å¤–ï¼Œ<code>lambda</code>è¡¨è¾¾å¼ä¹Ÿå¯ä»¥åº”ç”¨åœ¨å‡½æ•°æŒ‡é’ˆä¸­ï¼Œ<code>lambda</code>è¡¨è¾¾å¼å°†åœ¨ä¸‹ä¸€ç« è¢«è¯¦ç»†ä»‹ç»</p>
<hr>
<h2 id="lambdaè¡¨è¾¾å¼ï¼ˆ59ï¼‰"><code>lambda</code>è¡¨è¾¾å¼ï¼ˆ59ï¼‰</h2>
<blockquote>
<p><strong><code>lambda</code>æœ¬è´¨æ˜¯æˆ‘ä»¬å®šä¹‰çš„ä¸€ç§è¢«ç§°ä¸ºåŒ¿åå‡½æ•°çš„æ–¹æ³•</strong></p>
<p><strong>æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ç§æ–¹æ³•åœ¨ä¸å®é™…åˆ›å»ºå‡½æ•°çš„æƒ…å†µä¸‹åˆ›å»ºå‡½æ•°ï¼Œå°±åƒä¸€ä¸ªå¿«é€Ÿçš„ä¸€æ¬¡æ€§å‡½æ•°</strong></p>
</blockquote>
<p><strong>æˆ‘ä»¬ä»€ä¹ˆæ—¶å€™å¯ä»¥ä½¿ç”¨<code>lambda</code>ï¼Ÿ</strong></p>
<p>åªè¦ä½ æœ‰ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼Œä½ ä¾¿å¯ä»¥åœ¨C++ä¸­ä½¿ç”¨<code>lambda</code></p>
<p>å½“æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå›è°ƒå‡½æ•°æ—¶ï¼Œ<em>å³ï¼Œæˆ‘ä»¬æƒ³è¦æŒ‡å®šä¸€æ®µä»£ç ï¼Œåœ¨æœªæ¥çš„æŸä¸€æ—¶åˆ»è¢«è°ƒç”¨ï¼Œä½†æˆ‘ä»¬æ— æ³•å¾—çŸ¥è¿™ä¸€ç¡®åˆ‡çš„æ—¶é—´æ—¶</em>ï¼Œ<code>lambda</code>æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹æ³•ç”¨äºç¼–å†™å›è°ƒå‡½æ•°</p>
<p>è¯­æ³•ï¼š<code>[æ•è·](å‚æ•°) &#123;å‡½æ•°ä½“&#125;</code></p>
<p>C++ä¸­çš„<code>lambda</code>è¡¨è¾¾å¼ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š</p>
<ul>
<li>æ•è·ä¸º<code>lambda</code>å¯¹äºå¤–éƒ¨å˜é‡çš„æ€åº¦ï¼Œ<code>[=]</code>ä¸ºä»¥å€¼æ•è·æ‰€æœ‰å¤–éƒ¨å˜é‡ï¼Œ<code>[&amp;]</code>ä¸ºä»¥å¼•ç”¨æ•è·æ‰€æœ‰å¤–éƒ¨å˜é‡ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥ç›´æ¥ä¼ å…¥éœ€è¦æ•è·çš„å˜é‡</li>
<li>å‚æ•°ä¸æ­£å¸¸å‡½æ•°çš„å‚æ•°åˆ—è¡¨ç±»ä¼¼ï¼Œå¦‚<code>(int value)</code></li>
<li>å‡½æ•°ä½“ä¹Ÿä¸æ­£å¸¸å‡½æ•°ç±»ä¼¼ï¼Œæ˜¯å‡½æ•°çš„ä¸»ä½“ä»£ç </li>
</ul>
<hr>
<h2 id="ä¸ºä»€ä¹ˆä¸åº”è¯¥ä½¿ç”¨using-namespace-stdï¼ˆ60ï¼‰">ä¸ºä»€ä¹ˆä¸åº”è¯¥ä½¿ç”¨<code>using namespace std</code>ï¼ˆ60ï¼‰</h2>
<p>å½“æˆ‘ä»¬éœ€è¦è°ƒç”¨C++æ ‡å‡†åº“ä¸­çš„å†…å®¹æ—¶ï¼Œæˆ‘ä»¬æ€»æ˜¯éœ€è¦åŠ ä¸Šå‰ç¼€<code>std::</code>ï¼Œå¾ˆå¤šäººä¼šè§‰å¾—è¿™å¾ˆéº»çƒ¦</p>
<p>è€Œåœ¨æŸä¸€ä½œç”¨åŸŸæˆ–å…¨å±€åŠ ä¸Š<code>using namespace std</code>ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥ç›´æ¥è°ƒç”¨æ ‡å‡†åº“çš„å†…å®¹</p>
<p>è¿™åœ¨ä¸€å®šç¨‹åº¦ä¸Šè®©ä»£ç å˜å¾—ç®€æ´ï¼Œä½†å®é™…ä¸Šï¼Œè¿™å¹¶ä¸æ˜¯ä»€ä¹ˆå¥½ä¹ æƒ¯ï¼Œä»¥ä¸‹æ˜¯ä¸ä½¿ç”¨<code>using namespace std</code>çš„å‡ ä¸ªåŸå› </p>
<ul>
<li>è®©ä»£ç å˜å¾—æ›´æ˜“æ··æ·†ï¼Œå½“æˆ‘ä»¬ä¸ä½¿ç”¨<code>using namespace std</code>æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‡½æ•°å‰çš„<code>std::</code>æ¸…æ™°åœ°çœ‹å‡ºè¿™ä¸ªå‡½æ•°æ˜¯æ ‡å‡†åº“ä¸­çš„ï¼Œè€Œä½¿ç”¨<code>using namespace std</code>ï¼Œä¼šè®©ä»£ç çš„å¯è¯»æ€§é™ä½ï¼Œå˜å¾—æ›´æ˜“æ··æ·†</li>
<li>å½“é‡åˆ°ä¸ç”¨å‘½åç©ºé—´ä¸­çš„åŒåå‡½æ•°æ—¶ï¼Œ<code>using namespace</code>å¯èƒ½ä¼šå¯¼è‡´æ­§ä¹‰ç”šè‡³ç¼–è¯‘é”™è¯¯</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">namespace</span> apple</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(<span class="type">const</span> std::string&amp; str)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        std::cout &lt;&lt; str &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> orange</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* str)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        std::string temp = str;</span><br><span class="line">        std::<span class="built_in">reverse</span>(temp.<span class="built_in">begin</span>(), temp.<span class="built_in">end</span>());</span><br><span class="line">        std::cout &lt;&lt; temp &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> apple;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> orange;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œå‘½åç©ºé—´<code>apple</code>ä¸<code>orange</code>ä¸­å­˜åœ¨åŒåå‡½æ•°<code>print</code>ï¼Œè€Œæ­¤æ—¶å› ä¸ºéšå¼è½¬æ¢ä¼˜å…ˆçº§çš„é—®é¢˜ï¼Œæˆ‘ä»¬å®é™…è°ƒç”¨çš„<code>print</code>å°†æ˜¯<code>orange</code>ä¸­çš„ï¼Œè¿™ç§é—®é¢˜åœ¨å®é™…é‡åˆ°æ—¶å¾ˆéš¾å‘ç°ï¼Œç”šè‡³ä¸ä¼šæœ‰æŠ¥é”™ï¼Œä½†ä½ ä¼šå¾—åˆ°é”™è¯¯çš„ç»“æœï¼Œè€Œä¸ä½¿ç”¨<code>using namespace</code>ä¾¿å¯ä»¥å¾ˆå¤§ç¨‹åº¦ä¸Šè§£å†³è¯¥é—®é¢˜</p>
<blockquote>
<p>å¹¶ä¸”ï¼Œéœ€è¦å¼ºè°ƒçš„æ˜¯ï¼š<strong>æ°¸è¿œä¸è¦åœ¨å¤´æ–‡ä»¶ä¸­ä½¿ç”¨<code>using namespace</code>ï¼Œå¤©çŸ¥é“ä»€ä¹ˆä¼šè¢«åŒ…å«è¿›æ¥</strong></p>
</blockquote>
<p>åœ¨ä½œç”¨åŸŸå¾ˆå°æ—¶ï¼Œæˆ–åŒ…å«è‡ªå·±çš„åº“æ—¶ï¼Œ<code>using namespace</code>æ˜¯å¯æ¥å—çš„ï¼Œä½†æ˜¯å¯¹äº<code>std</code>è¿™ç±»åº“ï¼Œæœ€å¥½æ°¸è¿œé¿å…ä½¿ç”¨<code>using namespace</code></p>
<hr>
<h2 id="å‘½åç©ºé—´ï¼ˆ61ï¼‰">å‘½åç©ºé—´ï¼ˆ61ï¼‰</h2>
<blockquote>
<p><strong>å‘½åç©ºé—´å­˜åœ¨çš„ä¸»è¦åŸå› ï¼Œæ˜¯ä¸ºäº†é¿å…å‘½åå†²çª</strong></p>
</blockquote>
<p>Cä¸C++è¯­è¨€ä¸­ï¼Œåå­—å®Œå…¨ç›¸åŒçš„ä¸¤ä¸ªç¬¦å·æ˜¯ä¸å…è®¸åŒæ—¶å­˜åœ¨çš„ï¼Œå¦‚æˆ‘ä»¬æ— æ³•æ‹¥æœ‰ä¸¤ä¸ªç±»å‹éƒ½ä¸º<code>int</code>ï¼Œåå­—éƒ½ä¸º<code>a</code>çš„å˜é‡</p>
<p>åœ¨Cè¯­è¨€ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸é€šè¿‡åœ¨åå­—å‰å¢åŠ å‰ç¼€æ¥é˜²æ­¢å‘½åå†²çªï¼Œå¦‚å¯¹äº<code>print</code>å‡½æ•°è€Œè¨€ï¼Œä¾¿å¯ä»¥å†™ä¸º<code>apple_print</code>ä¸<code>orange_print</code>æ¥åŒºåˆ†ä¸åŒçš„å˜é‡</p>
<p>è€Œåœ¨C++ä¸­ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥æ›´åŠ ä¾¿æ·åœ°é€šè¿‡å‘½åç©ºé—´æ¥å®ç°è¿™ä¸€ç‚¹ï¼Œå°±åƒä¸‹é¢è¿™æ ·</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">namespace</span> apple</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(<span class="type">const</span> std::string&amp; str)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        std::cout &lt;&lt; str &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> orange</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(<span class="type">const</span> std::string&amp; str)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        std::cout &lt;&lt; str &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è€Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>::</code>æ¥è®¿é—®æŸä¸€å‘½åç©ºé—´ï¼Œå¦‚<code>apple::print()</code></p>
<p><em>ç±»ã€ç»“æ„ä½“ã€æšä¸¾ç­‰æœ¬èº«ä¹Ÿæ˜¯ä¸€ç§å‘½åç©ºé—´ï¼Œæ‰€ä»¥åŒç†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨<code>::</code>æ¥è®¿é—®å…¶ä¸­çš„å­—æ®µä¸å‡½æ•°</em></p>
<p>è€Œ<code>using namespace</code>ä¾¿æ˜¯åœ¨æŸä¸€ä½œç”¨åŸŸå†…å¼•å…¥æŸä¸€å‘½åç©ºé—´çš„å…¨éƒ¨å†…å®¹</p>
<p>åŒæ—¶<code>using</code>ä¹Ÿæœ‰å…¶ä»–çµæ´»çš„ç”¨æ³•ï¼Œå¦‚ä¸‹</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> a = apple;</span><br><span class="line"><span class="keyword">using</span> apple::print;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>éœ€è¦å¼ºè°ƒçš„æ˜¯ï¼Œå¼•ç”¨å‘½åç©ºé—´æ—¶ï¼Œåº”è¯¥å°†å…¶é™å®šåœ¨å°½é‡å°çš„ä½œç”¨åŸŸå†…</strong></p>
<p><strong>å‘½åç©ºé—´çš„ä½œç”¨æ˜¯é¿å…å‘½åå†²çªï¼Œè€Œå¦‚æœæˆ‘ä»¬æ€»æ˜¯åœ¨é¡¶å±‚æ–‡ä»¶å¼•å…¥å‘½åç©ºé—´ï¼Œé‚£æˆ‘ä»¬ä¸ºä»€ä¹ˆè¿˜éœ€è¦å‘½åç©ºé—´å‘¢ï¼Ÿ</strong></p>
</blockquote>
<hr>
<h2 id="å¤šçº¿ç¨‹ï¼ˆ62ï¼‰">å¤šçº¿ç¨‹ï¼ˆ62ï¼‰</h2>
<blockquote>
<p><strong>åœ¨ä¹‹å‰çš„å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬çš„æ‰€æœ‰ä»£ç éƒ½æ˜¯å•çº¿ç¨‹çš„ï¼Œå³è®¡ç®—æœºå®é™…ä¸Šåªé¡ºåºè¿è¡Œäº†ä¸€æ®µå‘½ä»¤</strong></p>
<p><strong>è€Œçº¿ç¨‹ç³»ç»Ÿå¯ä»¥è®©æˆ‘ä»¬åŒæ—¶è¿è¡ŒæŸå‡ æ®µä»£ç ï¼Œè¿™å¾€å¾€åœ¨æ€§èƒ½ä¼˜åŒ–æˆ–ä¸€äº›å…¶ä»–æ–¹é¢éå¸¸æœ‰ç”¨</strong></p>
</blockquote>
<p>åœ¨C++11çš„STLä¸­ï¼Œå­˜åœ¨<code>thread</code>åº“ï¼Œä½¿ç”¨è¯¥åº“æˆ‘ä»¬ä¾¿å¯ä»¥ä¾¿æ·åœ°å¼€å¯çº¿ç¨‹</p>
<ul>
<li>çº¿ç¨‹å¼€å¯ï¼šåˆ›å»º<code>std::thread</code>ç±»å‹çš„å˜é‡å³ä¸ºå¼€å¯ä¸€ä¸ªçº¿ç¨‹ï¼Œå…¶æ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆä½œä¸ºå‚æ•°ï¼Œä¼ å…¥çš„å‡½æ•°ä¼šåœ¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹ä¸­è¢«æ‰§è¡Œ</li>
<li>çº¿ç¨‹å…³é—­ï¼šä½¿ç”¨<code>join()</code>å‡½æ•°å¯ä»¥è®©ä¸»çº¿ç¨‹çš„ç­‰å¾…è¯¥å­çº¿ç¨‹å®Œæˆï¼Œç„¶åä¸»çº¿ç¨‹å†ç»§ç»­æ‰§è¡Œã€‚è¿™æ ·ï¼Œå­çº¿ç¨‹ä¾¿å¯ä»¥å®‰å…¨çš„è®¿é—®ä¸»çº¿ç¨‹ä¸­çš„èµ„æºï¼Œå­çº¿ç¨‹ç»“æŸåç”±ä¸»çº¿ç¨‹è´Ÿè´£å›æ”¶å­çº¿ç¨‹èµ„æº</li>
</ul>
<p><strong>åº”ç”¨å®ä¾‹ï¼š</strong></p>
<p>ä¸€ä¸ªç¨‹åºçš„è¾“å…¥æ£€æµ‹ç³»ç»Ÿå¯ä»¥é‡‡ç”¨å¤šçº¿ç¨‹çš„æ–¹å¼æ¥å®ç°</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">static</span> <span class="type">bool</span> is_finish = <span class="literal">false</span>; <span class="comment">// ä½¿ç”¨é™æ€å…¨å±€å˜é‡ä¼ é€’çŠ¶æ€</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DoWork</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">using</span> <span class="keyword">namespace</span> std::literals::chrono_literals;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!is_finish)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// æ¯éš”ä¸€ç§’è¾“å‡ºä¸€ä¸ªâ€œWorkingâ€</span></span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Working......&quot;</span> &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">        std::this_thread::<span class="built_in">sleep_for</span>(<span class="number">1</span>s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">std::thread <span class="title">worker</span><span class="params">(DoWork)</span></span>;<span class="comment">// åˆ›å»ºå¹¶å¼€å¯çº¿ç¨‹ï¼Œæ­¤æ—¶DoWorkå¼€å§‹è¿è¡Œ</span></span><br><span class="line"></span><br><span class="line">    std::cin.<span class="built_in">get</span>();<span class="comment">// ä¸»çº¿ç¨‹é˜»å¡ï¼Œä¸æ­¤åŒæ—¶DoWorkå‡½æ•°ä¼šåœ¨å¦ä¸€ä¸ªçº¿ç¨‹è¢«ä¸æ–­è¿è¡Œ</span></span><br><span class="line">    is_finish = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    worker.<span class="built_in">join</span>();<span class="comment">// ç­‰å¾…å­çº¿ç¨‹å®Œå…¨ç»“æŸåå†ç»§ç»­è¿›è¡Œ</span></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Finish!&quot;</span> &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>çº¿ç¨‹çš„æ¦‚å¿µéå¸¸ç®€å•ï¼Œä½†æ˜¯å…¶åº”ç”¨ç¼ºæå…¶å¤æ‚</strong></p>
</blockquote>
<hr>
<h2 id="è®¡æ—¶ï¼ˆ63ï¼‰">è®¡æ—¶ï¼ˆ63ï¼‰</h2>
<p><strong>æˆ‘ä»¬åº”è¯¥å¦‚ä½•åœ¨C++ä¸­è®¡ç®—å®ŒæˆæŸä¸ªæ“ä½œæˆ–æ‰§è¡ŒæŸä¸ªä»£ç æ‰€éœ€è¦çš„æ—¶é—´å‘¢ï¼Ÿ</strong></p>
<p>è¿™æ˜¯ä¸ªéå¸¸å¹¿æ³›çš„é—®é¢˜ï¼Œè®¡æ—¶çš„åº”ç”¨å¾€å¾€æ— å¤„ä¸åœ¨ï¼Œä¸è®ºæ˜¯éœ€è¦åœ¨ç‰¹å®šæ—¶é—´è¿è¡Œçš„ä»£ç ï¼Œè¿˜æ˜¯è¿›è¡Œæ€§èƒ½æµ‹è¯•æ—¶</p>
<p>æˆ‘ä»¬å®é™…ä¸Šæœ‰ç€å¤šç§æ–¹æ³•è®¡ç®—ç¨‹åºè¿è¡Œçš„å®é™…æ—¶é—´ï¼Œå¦‚æ“ä½œåº•å±‚ç³»ç»Ÿåº“ï¼›è€Œåœ¨C++ä¸­ï¼Œå®˜æ–¹çš„<code>chrono</code>åº“å¯ä»¥ä¸ºæˆ‘ä»¬è¿™ç‚¹</p>
<blockquote>
<p><code>chrono</code>åº“APIå‚è€ƒï¼š<a href="https://en.cppreference.com/w/cpp/chrono">https://en.cppreference.com/w/cpp/chrono</a></p>
</blockquote>
<p><strong>ä»¥ä¸‹æ˜¯ä½¿ç”¨<code>chrono</code>è¿›è¡Œé«˜ç²¾åº¦è®¡æ—¶çš„ä¸€ä¸ªèŒƒä¾‹ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">using</span> <span class="keyword">namespace</span> std::chrono_literals;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> start_time = std::chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line"></span><br><span class="line">    std::this_thread::<span class="built_in">sleep_for</span>(<span class="number">1</span>s);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> end_time = std::chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line"></span><br><span class="line">    std::chrono::duration&lt;<span class="type">float</span>&gt; duration = end_time - start_time;</span><br><span class="line">    std::cout &lt;&lt; duration.<span class="built_in">count</span>() &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡<code>std::chrono::high_resolution_clock::now()</code>å¯ä»¥è·å¾—å½“å‰çš„ç²¾ç¡®æ—¶é—´ï¼Œä½¿ä¸¤ä¸ªæ—¶é—´ç›¸å‡å³å¯å¾—åˆ°æ—¶é—´é—´éš”</p>
<p>ä½†è¿™çœ‹èµ·æ¥æŒºå¤åˆ¶çš„ï¼Œè€Œå¦‚æœæˆ‘ä»¬æƒ³è¦ä¸ºå¾ˆå¤šä¸ªå‡½æ•°è®¡æ—¶ï¼Œä¸åœåœ°å¤åˆ¶è¿™äº›ä»£ç ä¼šå˜å¾—éå¸¸éº»çƒ¦ï¼Œä¸‹é¢æ˜¯ä¸€ç§æ›´åŠ èªæ˜çš„è®¡æ—¶æ–¹æ³•-<strong>åˆ©ç”¨C++å¯¹è±¡çš„ç”Ÿå­˜å‘¨æœŸè‡ªåŠ¨è®¡æ—¶</strong>ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Timer</span></span><br><span class="line">&#123;</span><br><span class="line">    std::chrono::time_point&lt;std::chrono::steady_clock&gt; start, end;</span><br><span class="line">    std::chrono::duration&lt;<span class="type">float</span>&gt; duration;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Timer</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        start = std::chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">Timer</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        end = std::chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line">        duration = end - start;</span><br><span class="line">        <span class="keyword">auto</span> ms = std::chrono::<span class="built_in">duration_cast</span>&lt;std::chrono::milliseconds&gt;(duration);</span><br><span class="line">        std::cout &lt;&lt; ms.<span class="built_in">count</span>() &lt;&lt; <span class="string">&quot;ms&quot;</span> &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Timer timer;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">1000</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Hello&quot;</span> &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">Test</span>();</span><br><span class="line"></span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡åˆ›å»º<code>Timer</code>ç»“æ„ä½“ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ„é€ ä¸ææ„å‡½æ•°å°†è®¡æ—¶è¿‡ç¨‹è‡ªåŠ¨åŒ–ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦è®¡æ—¶ï¼Œæˆ‘ä»¬ä¾¿åªéœ€è¦åœ¨æŸä¸€å‡½æ•°çš„å¼€å§‹åˆ›å»ºä¸€ä¸ª<code>Timer</code>å˜é‡å³å¯</p>
<hr>
<h2 id="å¤šç»´æ•°ç»„ï¼ˆ64ï¼‰">å¤šç»´æ•°ç»„ï¼ˆ64ï¼‰</h2>
<blockquote>
<p><strong>å¤šç»´æ•°ç»„å®é™…ä¸Šä»£è¡¨ç€æ•°ç»„çš„åµŒå¥—</strong></p>
<p><strong>äºŒç»´æ•°ç»„å°±æ˜¯æ•°ç»„çš„æ•°ç»„ï¼Œè€Œä¸‰ç»´æ•°ç»„å°±æ˜¯æ•°ç»„çš„æ•°ç»„çš„æ•°ç»„</strong></p>
</blockquote>
<p><strong>å¤šç»´æ•°ç»„çš„åˆ›å»º</strong></p>
<p>åœ¨æˆ‘ä»¬åˆ›å»ºå¤šç»´æ•°ç»„æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶çœ‹åšæ˜¯æ•°ç»„çš„åµŒå¥—</p>
<p>ä¸Šå±‚æ•°ç»„æ¯ä¸ªå…ƒç´ éƒ½ä»£è¡¨ç€ä¸€ä¸ªæŒ‡å‘ä¸€ä¸ªä¸‹å±‚æ•°ç»„çš„æŒ‡é’ˆï¼Œå°±åƒä¸‹é¢è¿™æ ·</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">MultidimensionalArray</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span>** array2d = <span class="keyword">new</span> <span class="type">int</span>* [<span class="number">50</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">50</span>; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        array2d[i] = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">50</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span>*** array3d = <span class="keyword">new</span> <span class="type">int</span>** [<span class="number">50</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">50</span>; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        array3d[i] = <span class="keyword">new</span> <span class="type">int</span>* [<span class="number">50</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">50</span>; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            array3d[i][j] = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">50</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“æˆ‘ä»¬ä»…ä»…åƒ<code>int** array2d = new int* [50];</code>è¿™æ ·å®Œæˆå£°æ˜åï¼Œæˆ‘ä»¬çš„å·¥ä½œè¿˜è¿œæ²¡æœ‰ç»“æŸï¼Œåˆ°æ­¤æˆ‘ä»¬åªæ˜¯ä¸º50ä¸ªæŒ‡é’ˆåˆ†é…äº†å†…å­˜ç©ºé—´ï¼Œè€Œå¹¶æ²¡æœ‰ä¸ºè¿™50ä¸ªæŒ‡é’ˆæŒ‡å‘çš„50æ•°ç»„åˆ†é…å†…å­˜ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦éå†åœ°è¿›è¡Œå†…å­˜åˆ†é…</p>
<p>è€ŒåŒç†ï¼Œåœ¨åˆ é™¤æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦éå†åœ°è¿›è¡Œåˆ é™¤</p>
<blockquote>
<p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¤šç»´æ•°ç»„ä¸­å¤šå±‚åµŒå¥—å¯»å€çš„è®¾è®¡å¯¹å†…å­˜å¹¶ä¸å‹å¥½ï¼Œå› ä¸ºå…¶å‚¨å­˜çš„ä¸è¿ç»­æ€§ï¼Œè¿™ä¼šå¸¦æ¥æ›´å¤šçš„cache missï¼Œå®é™…åº”ç”¨ä¸Šä¼šæ¯”å•çº¯åœ°ä¸€ç»´æ•°ç»„æ…¢å¾ˆå¤š</strong></p>
<p><strong>è€Œå®é™…ä¸Šï¼Œä¸€ç»´æ•°ç»„å…¶å®å¯ä»¥åœ¨å¾ˆå¤šæ—¶å€™æ›¿ä»£å¤šç»´æ•°ç»„çš„ä½œç”¨ï¼Œé€šè¿‡<code>[x+y*i]</code>çš„æ–¹å¼</strong></p>
</blockquote>
<hr>
<h2 id="æ’åºï¼ˆ65ï¼‰">æ’åºï¼ˆ65ï¼‰</h2>
<blockquote>
<p><strong>å¯¹äºå¦‚ä½•å¤„ç†æ•°æ®çš„æ’åºé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¤šç§æ–¹æ³•æ¥å®ç°ï¼ŒåŒ…æ‹¬è‡ªå·±å®ç°å†’æ³¡ã€é€‰æ‹©æ’åºç­‰ç®—æ³•</strong></p>
<p><strong>è€Œå½“æˆ‘ä»¬é¢å¯¹ä½¿ç”¨äº†C++STLï¼Œå¦‚<code>std::vector</code>ï¼Œè¿›è¡Œç»„ç»‡çš„æ•°æ®æ—¶ï¼Œæˆ‘ä»¬å®é™…ä¸Šæ²¡å¿…è¦è‡ªå·±å†™ä¸€ä¸ªç®—æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨C++åº“æ¥å¸®æˆ‘ä»¬æ’åº</strong></p>
</blockquote>
<p>C++æä¾›çš„æ’åºå‡½æ•°ä¸º<code>std::sort</code>ï¼Œå®ƒå¯ä»¥ä¸ºä»»ä½•ç±»å‹çš„è¿­ä»£å™¨è¿›è¡Œæ’åº</p>
<p>æˆ‘ä»¬éœ€è¦ä¸ºå…¶æä¾›ä¸€ä¸ªè¿­ä»£å™¨çš„å¼€å§‹ä¸ç»“æŸï¼Œå¹¶é€‰æ‹©æ€§åœ°æä¾›æ¯”è¾ƒå‡½æ•°ï¼Œå¦‚æœä¸æä¾›ï¼Œå…¶å°†è‡ªåŠ¨å°è¯•æ ¹æ®ç±»å‹æ’åº</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">std::vector&lt;<span class="type">int</span>&gt; values = &#123; <span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span> &#125;;</span><br><span class="line"></span><br><span class="line">std::<span class="built_in">sort</span>(values.<span class="built_in">begin</span>(), values.<span class="built_in">end</span>(), [](<span class="type">int</span> a, <span class="type">int</span> b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> value : values)</span><br><span class="line">    std::cout &lt;&lt; value &lt;&lt; std::endl;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·<code>values</code>ä¾¿ä¼šé™åºæ’åº</p>
<p>è€Œä¸ä»…å¦‚æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‡½æ•°çš„ä½¿ç”¨å¤§å¹…å®šåˆ¶åŒ–æˆ‘ä»¬çš„æ’åºç®—æ³•</p>
<hr>
<h2 id="ç±»å‹åŒå…³ï¼ˆ66ï¼‰">ç±»å‹åŒå…³ï¼ˆ66ï¼‰</h2>
<blockquote>
<p><strong>ç±»å‹åŒå…³è¢«ç”¨æ¥åœ¨C++ä¸­ç»•è¿‡ç±»å‹ç³»ç»Ÿçš„æ£€æµ‹</strong></p>
</blockquote>
<p>C++è™½ç„¶æ˜¯ä¸€é—¨å¼ºç±»å‹è¯­è¨€ï¼Œä½†å› ä¸ºå…¶å¯ä»¥ç›´æ¥è®¿é—®å†…å­˜ï¼Œå…¶ç±»å‹ç³»ç»Ÿä¾¿æ˜¾å¾—ä¸é‚£ä¹ˆå…·æœ‰å¼ºåˆ¶æ€§ï¼Œå¦‚åœ¨Javaæˆ–C#ä¸­æƒ³è¦ç»•è¿‡ç±»å‹ç³»ç»Ÿä¾¿è¾ƒä¸ºéº»çƒ¦</p>
<p>è¿™æ˜¯ä¸€ç§åŸå§‹çš„ã€åº•å±‚çš„è®¿é—®ï¼Œå¯¹äºè¿™ç§æ“ä½œçš„å…è®¸ä¹Ÿæ˜¯è®©C++æ‹¥æœ‰å¦‚æ­¤ä¼˜ç§€çš„æ€§èƒ½çš„åŸå› </p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">50</span>;</span><br><span class="line"><span class="type">double</span> b = a;</span><br></pre></td></tr></table></figure>
<p>æ˜¾ç„¶çš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨C++ä¸­è¿›è¡Œä¸Šè¿°ä»£ç çš„ä½¿ç”¨ï¼Œä½†æ˜¯è¿™å¹¶ä¸æ„å‘³ç€ç±»å‹åŒå…³ï¼Œè¿™å…¶ä¸­å…¶å®è•´å«äº†ä¸€æ¬¡éšå¼çš„ç±»å‹è½¬æ¢</p>
<p>å¦‚æœæˆ‘ä»¬å»æŸ¥çœ‹<code>a</code>ä¸<code>b</code>åœ¨å†…å­˜ä¸­çš„è¡¨ç°å½¢å¼ï¼Œä¼šå‘ç°å…¶å®äºŒè€…æ˜¯æˆªç„¶ä¸åŒçš„</p>
<p>è€Œç±»å‹åŒå…³åˆ™å¯ä»¥è®©æˆ‘ä»¬åœ¨ä¿æŒå†…å­˜ä¸å˜çš„æƒ…å†µä¸‹è½¬æ¢ç±»å‹</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">50</span>;</span><br><span class="line"><span class="type">double</span> b = *(<span class="type">double</span>*)&amp;a;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å…ˆå–äº†<code>a</code>çš„åœ°å€å³<code>&amp;a</code>ï¼Œè€Œåå°†<code>a</code>çš„<code>int</code>ç±»å‹åœ°å€å¼ºåˆ¶è½¬æ¢ä¸ºäº†<code>double</code>ç±»å‹çš„åœ°å€ï¼Œå†å°†å…¶è§£å¼•ç”¨ï¼Œå°±å¾—åˆ°äº†<code>b</code>ï¼Œæ­¤æ—¶<code>a</code>ä¸<code>b</code>åœ¨å†…å­˜ä¸­çš„è¡¨ç°å®Œå…¨ä¸€ç›´ï¼Œä¸”ç±»å‹ä¸åŒ</p>
<p>ä½†ï¼Œè¿™å®é™…ä¸Šæ˜¯å¾ˆç³Ÿç³•çš„ç”¨æ³•ï¼Œ<code>int</code>ç±»å‹ä¸<code>double</code>ç±»å‹çš„å†…å­˜å¤§å°ä¸ä¸€æ ·ï¼Œè¿™ååˆ†ä¸å®‰å…¨ï¼Œåœ¨ä¸€äº›æƒ…å†µä¸‹ç”šè‡³å¯èƒ½å¼•å‘å´©æºƒ</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªæ›´åŠ å®é™…çš„åº”ç”¨</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> x, y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Entity e = &#123; <span class="number">5</span>,<span class="number">8</span> &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span>* position = (<span class="type">int</span>*)&amp;e;</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; position[<span class="number">0</span>] &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; position[<span class="number">1</span>] &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ç±»å‹åŒå…³å¤„ç†<code>Entity</code>ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥ä¸é€šè¿‡<code>e</code>ï¼Œç›´æ¥ä»¥ç±»ä¼¼æ•°ç»„çš„å½¢å¼è®¿é—®å…¶ä¸­çš„æ•°æ®</p>
<blockquote>
<p><strong>æ€»è€Œè¨€ä¹‹ï¼Œç±»å‹åŒå…³å…è®¸æˆ‘ä»¬ä»¥ä¸åŒçš„å½¢å¼è§£é‡ŠåŒä¸€å—å†…å­˜ï¼Œæ­£ç¡®åœ°ä½¿ç”¨å®ƒå¯ä»¥å¸®åŠ©ä»£ç æé«˜æ•ˆç‡</strong></p>
</blockquote>
]]></content>
      <categories>
        <category>Notes</category>
        <category>C/C++</category>
        <category>TheCherno</category>
      </categories>
      <tags>
        <tag>C/C++</tag>
        <tag>Note</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŒThe Cherno-C++ã€å­¦ä¹ ç¬”è®°ä¸€ï¼ˆ1-33ï¼‰</title>
    <url>/posts/1001/</url>
    <content><![CDATA[<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304182344099.jpg" alt="cherno"></p>
<blockquote>
<p><strong>Bç«™upç¥ç»å…ƒçŒ«ç¿»è¯‘ç‰ˆï¼š<a href="https://www.bilibili.com/video/BV1uy4y167h2">https://www.bilibili.com/video/BV1uy4y167h2</a></strong></p>
</blockquote>
<h2 id="å‰è¨€">å‰è¨€</h2>
<p>C++å› ä¸ºå…¶ä¼˜å¼‚çš„æ€§èƒ½ï¼Œæ˜¯æ¸¸æˆå¼€å‘ä¸­æœ€ä¸ºå¸¸ç”¨çš„è¯­è¨€ä¹‹ä¸€ï¼Œç›®å‰çš„Unityä¸Unrealä¸¤å¤§å•†ç”¨å¼•æ“çš„å†…æ ¸éƒ½æ˜¯é‡‡ç”¨C++è¿›è¡Œç¼–å†™ï¼Œä½œä¸ºä¸€ä¸ªæœ‰å¿—äºæˆä¸ºæ¸¸æˆå¼€å‘è€…çš„äººï¼Œè¿™ç§è¯­è¨€æ€ä¹ˆèƒ½ä¸å­¦ä¸€å­¦å‘¢ï¼Ÿ</p>
<p>æœ¬æ–‡åŸºäºæ²¹ç®¡è‘—ååšä¸»ï¼Œæ›¾ä»»èŒäºEAçš„The Chernoçš„C++ç³»åˆ—è§†é¢‘ï¼ŒThe Chernoä½œä¸ºå¯’éœœå¼•æ“çš„æ ¸å¿ƒå¼€å‘äººå‘˜ä¹‹ä¸€ï¼Œå¯¹C++æœ‰ç€éå¸¸ç‹¬åˆ°è€Œæ·±åˆ»çš„ç†è§£</p>
<p>è¿™äº›ç¬”è®°è®°å½•äº†æˆ‘é€šè¿‡The Chernoçš„ç³»åˆ—è§†é¢‘å­¦ä¹ C++çš„ä¸€äº›çŸ¥è¯†ç‚¹ä¸ç†è§£ï¼Œå¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©ğŸ˜‰</p>
<blockquote>
<p><strong>ç¬¬ä¸€ç« ï¼ˆ1-33ï¼‰ï¼š<a href="https://hmxs.games/posts/1001/">https://hmxs.games/posts/1001/</a></strong></p>
<p>ç¬¬äºŒç« ï¼ˆ34-66ï¼‰ï¼š<a href="https://hmxs.games/posts/1002/">https://hmxs.games/posts/1002/</a></p>
<p>ç¬¬ä¸‰ç« ï¼ˆ67-99ï¼‰ï¼š<a href="https://hmxs.games/posts/1003/">https://hmxs.games/posts/1003/</a></p>
</blockquote>
<hr>
<h2 id="C-æ˜¯å¦‚ä½•è¿è¡Œçš„ï¼ˆ5-7ï¼‰">C++æ˜¯å¦‚ä½•è¿è¡Œçš„ï¼ˆ5-7ï¼‰</h2>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304190000568.webp" alt="img"></p>
<blockquote>
<p>C++è¿è¡Œçš„è¿‡ç¨‹å®é™…ä¾¿æ˜¯å°†â€.cppæ–‡æœ¬æ–‡ä»¶â€œè½¬æ¢ä¸ºâ€å¯è¿è¡Œçš„.exeæ–‡ä»¶/åº“æ–‡ä»¶â€œ</p>
</blockquote>
<ul>
<li><strong>é¢„å¤„ç†</strong>ï¼šä¿®æ”¹æºæ–‡æœ¬ï¼ˆåˆ é™¤åˆå§‹ï¼Œå¤„ç†å®å®šä¹‰/å¤´æ–‡ä»¶ç­‰ï¼‰</li>
</ul>
<p>#ä¸ºé¢„å¤„ç†ç¬¦å·ï¼Œå…¶åå¯ä»¥è·Ÿç€<code>include</code>ã€<code>define</code>ã€<code>if</code>ç­‰</p>
<p>#includeçš„ä½œç”¨ä»…ä¸ºæŠŠå¯¹åº”ä»£ç <strong>å¤åˆ¶</strong>è¿‡æ¥ï¼ˆå…¸ä¸­å…¸ä¹‹å¤§æ‹¬å·ï¼‰ï¼Œ<code>cout</code>/<code>cin</code>å³æ¥æºäº<code>iostream</code></p>
<ul>
<li><strong>ç¼–è¯‘</strong>ï¼šå°†æ¯ä¸ªç¿»è¯‘å•å…ƒè½¬æ¢ä¸º<code>.obj</code>ç›®æ ‡ä»£ç ï¼ˆ<code>.obj</code>ä¸ºVSä¸­ï¼Œä¸åŒç¼–è¯‘å™¨ç”Ÿæˆçš„æ–‡ä»¶å¯èƒ½ä¸åŒï¼‰</li>
</ul>
<p><code>.cpp</code>-&gt;ç¿»è¯‘å•å…ƒ-&gt;<code>.obj</code></p>
<p>ä¸€ä¸ªcppæ–‡ä»¶å¯ä»¥ä»£è¡¨ä¸€ä¸ªç¿»è¯‘å•å…ƒï¼Œä¹Ÿå¯ä»¥ç”±å¤šä¸ªcppä»£è¡¨ä¸€ä¸ªç¿»è¯‘å•å…ƒï¼Œè¿™å¯ä»¥è¿›è¡Œè‡ªå®šä¹‰</p>
<p>ä¸€ä¸ªç¿»è¯‘å•å…ƒä¼šè¢«ç¼–è¯‘ä¸ºä¸€ä¸ªobjæ–‡ä»¶</p>
<ul>
<li><strong>é“¾æ¥</strong>ï¼šæ‰¾åˆ°å…¥å£å‡½æ•°ï¼ˆå½“éœ€è¦ç”Ÿæˆ.exeæ–‡ä»¶æ—¶ï¼‰ï¼Œé“¾æ¥ä¸åŒobjæ–‡ä»¶</li>
</ul>
<p>æ¯ä¸ªå¯æ‰§è¡Œæ–‡ä»¶éƒ½éœ€è¦ä¸€ä¸ªå…¥å£ï¼ˆ<em>ä¸€èˆ¬æ˜¯mainå‡½æ•°ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰</em>ï¼‰ï¼Œé“¾æ¥å™¨ä¾¿å¯ä»¥æ‰¾åˆ°ç¨‹åºå…¥å£</p>
<p>åŒæ—¶ï¼Œåœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæœ‰å¤šä¸ªç¿»è¯‘å•å…ƒç”Ÿæˆå¤šä¸ªobjæ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰è¿æ¥å™¨ï¼Œå®ƒä»¬ä¹‹é—´ä¾¿æ— æ³•è¿›è¡Œäº¤äº’</p>
<p>å½“å‡½æ•°aå£°æ˜åœ¨Aç¿»è¯‘å•å…ƒï¼Œä½†å®ç°åœ¨Bç¿»è¯‘å•å…ƒä¸­æ—¶ï¼Œé“¾æ¥å™¨ä¾¿å¯ä»¥é€šè¿‡å”¯ä¸€çš„å‡½æ•°ç­¾åé“¾æ¥å®ƒä»¬</p>
<p>ï¼ˆä¸ªäººç†è§£ï¼šä¸€ä¸ªå‡½æ•°çš„â€œåå­—â€å®é™…åŒ…å«äº†å…¶è¿”å›å€¼+å‡½æ•°å+å‚æ•°ï¼Œå…¶ä¸­ä»»ä½•ä¸€ä¸ªä¸ä¸€æ ·éƒ½æ˜¯ä¸ä¸€æ ·çš„å‡½æ•°ï¼‰</p>
<p><strong>ç¼–è¯‘ä¸é“¾æ¥</strong>æ˜¯ä¸¤ä¸ªæˆªç„¶ä¸åŒçš„é˜¶æ®µï¼Œå½“æˆ‘ä»¬çš„ç¨‹åºå‡ºç°é—®é¢˜æ˜¯ï¼Œå‘ç°é—®é¢˜å‡ºç°åœ¨ä»€ä¹ˆé˜¶æ®µæ˜¯é‡è¦çš„</p>
<hr>
<h2 id="å˜é‡ï¼ˆ8ï¼‰">å˜é‡ï¼ˆ8ï¼‰</h2>
<p><strong>å˜é‡</strong>ï¼šå˜é‡å…è®¸æˆ‘ä»¬å‘½åæˆ‘ä»¬å­˜å‚¨åœ¨å†…å­˜ä¸­çš„æ•°æ®</p>
<p>åœ¨C++ä¸­æˆ‘ä»¬æœ‰ä¸€äº›åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œå¦‚<code>int</code>ã€<code>float</code>ã€<code>char</code>ç­‰</p>
<p>æ¯ä¸ªå˜é‡éƒ½æœ‰å…¶å›ºå®šç”¨é€”ï¼Œä½†å®é™…ä¸Šï¼Œæˆ‘ä»¬å¹¶ä¸ä¸€å®šè¦æŒ‰å…¶è§„å®šçš„ç”¨é€”ä½¿ç”¨å®ƒä»¬ï¼š</p>
<blockquote>
<p><strong>ä¸åŒå˜é‡ç±»å‹ä¹‹é—´çš„å”¯ä¸€åŒºåˆ«ï¼Œå°±æ˜¯å…¶æ‰€å çš„å†…å­˜å¤§å°ï¼</strong></p>
</blockquote>
<p>åœ¨è®¡ç®—æœºçœ‹æ¥ï¼Œæ‰€è°“å˜é‡æ— éå°±æ˜¯ä¸€äº›å†…å­˜ç©ºé—´ï¼Œé‡Œé¢éƒ½æ˜¯ä¸€äº›æ•°å­—è€Œå·²</p>
<p>è€Œå˜é‡ç±»å‹å…¶å®æ˜¯ç¨‹åºå‘˜å¯¹äºå˜é‡ç”¨é€”çš„å‡è®¾ï¼Œå…¶å½±å“ç€è®¡ç®—æœºçš„è¾“å‡ºé€»è¾‘</p>
<p>å¦‚æ•°å­—65ï¼Œå…¶å¯¹<code>char</code>ç±»å‹çš„å˜é‡ä»£è¡¨å­—ç¬¦Aï¼Œè€Œå¯¹<code>int</code>ç±»å‹çš„å˜é‡ä»£è¡¨æ•´æ•°65ï¼Œä»–ä»¬åœ¨å†…å­˜ä¸­å¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒï¼Œä¸åŒçš„æ˜¯æˆ‘ä»¬å¯¹å…¶çš„å‡è®¾ï¼Œä¸åŒçš„æ˜¯å…¶æœ€åå‘ˆç°ç»™æˆ‘ä»¬çš„æ–¹å¼</p>
<p><em><code>sizeof</code>å…³é”®å­—å¯ä»¥ç”¨äºæŸ¥è¯¢ä¸åŒå˜é‡ç±»å‹å çš„å†…å­˜å¤§å°</em></p>
<hr>
<h2 id="å‡½æ•°ï¼ˆ9ï¼‰">å‡½æ•°ï¼ˆ9ï¼‰</h2>
<p>å‡½æ•°æ˜¯æˆ‘ä»¬ç¼–å†™çš„ä»£ç å—ï¼Œè¢«è®¾è®¡ç”¨æ¥æ‰§è¡Œç‰¹å®šä»»åŠ¡</p>
<p>C++ç±»ä¸­çš„ä»£ç å—è¢«ç§°ä¸ºæ–¹æ³•ï¼Œå‡½æ•°æŒ‡çš„æ˜¯ç±»ä¹‹å¤–çš„ä»£ç å—</p>
<p>å‡½æ•°çš„ç”¨å¤„ï¼šé¿å…ä»£ç çš„é‡å¤ç¼–å†™ï¼Œä¾¿äºç¨‹åºçš„ç®¡ç†</p>
<p><em>ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ— æ„ä¹‰åœ°æ·»åŠ è¿‡å¤šå‡½æ•°åªä¼šè®©ç¨‹åºå˜å¾—å‡Œä¹±ï¼Œè®©ä»£ç éš¾ä»¥ç®¡ç†</em></p>
<p>å‡½æ•°çš„å…¨éƒ¨ç‰¹å¾ï¼š</p>
<ul>
<li>æœ‰å‡½æ•°å¤´å’Œå‡½æ•°ä½“</li>
<li>å¯ä»¥æ¥å—å‚æ•°</li>
<li>å¯ä»¥æœ‰è¿”å›å€¼</li>
<li>éœ€è¦æœ‰å‡½æ•°å®šä¹‰</li>
</ul>
<hr>
<h2 id="å¤´æ–‡ä»¶ï¼ˆ10ï¼‰">å¤´æ–‡ä»¶ï¼ˆ10ï¼‰</h2>
<p>C++çš„å‡½æ•°é€šå¸¸ç”±ä¸¤éƒ¨åˆ†ç»„æˆ-<strong>å£°æ˜ä¸å®šä¹‰</strong></p>
<ul>
<li>å£°æ˜æ„å‘³ç€å‘Šè¯‰ç¼–è¯‘å™¨æœ‰è¿™æ ·ä¸€ä¸ªå‡½æ•°å­˜åœ¨ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥åœ¨æ­¤ç¿»è¯‘å•å…ƒä¸­è°ƒç”¨è¯¥å‡½æ•°ï¼Œæ¯ä¸ªç¿»è¯‘å•å…ƒåŒä¸€å‡½æ•°åªèƒ½å£°æ˜ä¸€æ¬¡</li>
<li>å®šä¹‰åˆ™ä¸ºå‡½æ•°çš„å…·ä½“ä»£ç ï¼Œç¨‹åºä¸­çš„æ¯ä¸ªå‡½æ•°åªèƒ½è¢«å®šä¹‰ä¸€æ¬¡</li>
</ul>
<p>è€Œå½“æˆ‘ä»¬éœ€è¦è·¨æ–‡ä»¶è°ƒç”¨å‡½æ•°æ—¶ï¼Œå› ä¸ºå‡½æ•°ä¸èƒ½æœ‰äºŒä¹‰æ€§ï¼Œæˆ‘ä»¬ä¾¿åªèƒ½åœ¨éœ€è¦è°ƒç”¨å‡½æ•°çš„åœ°æ–¹å£°æ˜å…¶å­˜åœ¨</p>
<p>è€Œ<strong>å¤´æ–‡ä»¶ä¾¿æ˜¯å‡½æ•°å£°æ˜çš„é›†åˆ</strong>ï¼Œå½“æˆ‘ä»¬éœ€è¦è°ƒç”¨æŸä¸€å‡½æ•°ï¼Œä½†å…¶å®ç°åœ¨åˆ«çš„åœ°æ–¹æ—¶ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥å¼•å…¥åŒ…å«äº†è¯¥å‡½æ•°å£°æ˜çš„å¤´æ–‡ä»¶æ¥å£°æ˜å…¶å­˜åœ¨</p>
<p>è¿™æ ·ä¸€æ¥æˆ‘ä»¬ä¾¿ä¸éœ€è¦åœ¨æ¯æ¬¡ä½¿ç”¨å‡½æ•°æ—¶éƒ½å£°æ˜ä¸€éäº†</p>
<p><em>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>.h</code>å¤´æ–‡ä»¶ä¸<code>.cpp</code>æºæ–‡ä»¶å®é™…ä¸Šå¹¶æ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼Œç†è®ºä¸Šæˆ‘ä»¬åŒæ ·å¯ä»¥åœ¨å¤´æ–‡ä»¶ä¸­å®šä¹‰å‡½æ•°ï¼Œä½†çº¦å®šä¿—æˆçš„ï¼Œæˆ‘ä»¬ä¸ä¼šè¿™ä¹ˆåš</em></p>
<p><strong>#pragma one</strong>ï¼šè¿™ä¸€é¢„å¤„ç†è¯­å¥ä»£è¡¨ç€åœ¨åŒä¸€ç¿»è¯‘å•å…ƒå†…ï¼Œè¿™ä¸€å¤´æ–‡ä»¶åªä¼šè¢«å¤åˆ¶ä¸€æ¬¡</p>
<p><strong>&lt; &gt;ä¸â€œ â€</strong>ï¼šé€šå¸¸å°–æ‹¬å·ä»£è¡¨å¼•å…¥å†…éƒ¨æ–‡ä»¶ï¼ˆ<code>iostream</code>ï¼‰ï¼Œè€Œå¼•å·ä»£è¡¨å¼•å…¥å¤–éƒ¨æ–‡ä»¶ï¼ˆå¦‚è‡ªå·±å®šä¹‰çš„å¤´æ–‡ä»¶ï¼‰</p>
<p><em>å®é™…ä¸Šï¼Œâ€œâ€å‡ ä¹å¯ä»¥å¼•å…¥ä»»ä½•æ–‡ä»¶ï¼Œä½†æˆ‘ä»¬é€šå¸¸ä½¿ç”¨&lt; &gt;æ¥å¼•å…¥ç³»ç»Ÿå†…éƒ¨æ–‡ä»¶</em></p>
<p><em><code>iostream</code>ä½œä¸ºC++æ ‡å‡†åº“æ²¡æœ‰åç¼€åï¼Œè¿™ä»¤äººç–‘æƒ‘ï¼Œå®é™…ä¸Šè¿™æ˜¯è®¾è®¡è€…ä¸ºäº†å’ŒCè¯­è¨€çš„æ ‡å‡†åº“<code>stdlib.h</code>è¿›è¡ŒåŒºåˆ†ï¼Œæ²¡æœ‰ç‰¹åˆ«çš„æ„ä¹‰</em></p>
<hr>
<h2 id="å¦‚ä½•è¿›è¡Œä»£ç è°ƒè¯•ï¼ˆ11ï¼‰">å¦‚ä½•è¿›è¡Œä»£ç è°ƒè¯•ï¼ˆ11ï¼‰</h2>
<p><strong>è°ƒè¯•çš„æ–¹æ³•</strong>ï¼šè®¾ç½®æ–­ç‚¹ä¸è¯»å–å†…å­˜</p>
<p><strong>è°ƒè¯•ï¼ˆDebugï¼‰çš„æ„ä¹‰</strong>ï¼šä»ä»£ç ä¸­æ¸…é™¤é”™è¯¯ï¼ˆçœ‹ä¸Šå»åƒæ˜¯ä¸€å¥åºŸè¯ğŸ¤£ï¼‰ï¼Œè°ƒè¯•å…è®¸æˆ‘ä»¬é€è¡Œé€å¥è¿è¡Œä»£ç ï¼Œå¹¶ä¸”å®æ—¶æ£€æŸ¥å†…å­˜ä¸­çš„æ•°æ®</p>
<p><strong>æ–­ç‚¹</strong>ï¼šç¨‹åºä¼šåœ¨è¿è¡Œåˆ°æ–­ç‚¹è¡Œæ—¶æš‚åœï¼ˆæ–­ç‚¹è¡Œä¸ä¼šè¢«è¿è¡Œï¼‰</p>
<p>åœ¨è°ƒè¯•ç•Œé¢ä¸­ï¼ŒIDEä¼šç»™æˆ‘ä»¬æä¾›è®¸å¤šçš„é€è¡Œé€å¥è¿è¡Œä»£ç çš„æ–¹æ³•ï¼Œå¦‚VSæä¾›çš„step into/over/outï¼Œå®é™…åº”ç”¨ä¸­çµæ´»ä½¿ç”¨å³å¯</p>
<p>ä¸€ä¸ªç¨‹åºæ˜¯ç”±å†…å­˜æ„æˆçš„ï¼Œæˆ‘ä»¬ç¨‹åºä¸­çš„ä¸€åˆ‡éƒ½å‚¨å­˜åœ¨å†…å­˜ä¸­ï¼Œé€šè¿‡è®¾å®šæ–­ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥æš‚åœç¨‹åºï¼Œåœ¨ç‰¹å®šçš„æ—¶é—´æ£€æŸ¥ç‰¹å®šçš„ä»£ç è¡Œä¸­çš„å†…å­˜æƒ…å†µ</p>
<hr>
<h2 id="æ¡ä»¶ä¸åˆ†æ”¯ï¼ˆ12ï¼‰">æ¡ä»¶ä¸åˆ†æ”¯ï¼ˆ12ï¼‰</h2>
<p><code>if</code>è¯­å¥åŒ…å«ä¸€ä¸ªconditionå’Œå…¶statementï¼Œå…¶ä»£è¡¨çš„ä¾¿æ˜¯å¦‚æœconditionä¸ºçœŸåˆ™æ‰§è¡Œstatement</p>
<p>åœ¨æ±‡ç¼–ä¸­ï¼Œ<code>if</code>è¯­å¥å®é™…ä¸Šæ˜¯ä¸€ä¸ª<code>goto</code>ï¼Œå³å¦‚æœconditionä¸ºçœŸï¼Œåˆ™è·³è½¬åˆ°æŸä¸€éƒ¨åˆ†çš„å†…å­˜å¼€å§‹è¿è¡Œ</p>
<p><strong>åç¼–è¯‘Debug</strong>ï¼šå½“æˆ‘ä»¬è¿›è¡Œæ–­ç‚¹è°ƒè¯•æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å³å‡»æ­£åœ¨è¿è¡Œçš„è¡Œï¼Œç‚¹å‡»â€œè½¬åˆ°åæ±‡ç¼–â€ï¼Œä¾¿å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„ä»£ç çš„æ±‡ç¼–å½¢å¼äº†ï¼ˆä½†æ˜¯é€šè¿‡è¿™ç§æ–¹å¼æŸ¥é”™ä¼šæ˜¯ä¸ªnightmareï¼Œè€Œä¸”æˆ‘ä¹Ÿä¸ä¼šæ±‡ç¼–ï¼Œæ‰€ä»¥ä»…ä½œäº†è§£å•¦ğŸ¤ï¼‰</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202305081957440.png" alt="image-20230508195728282" style="zoom: 33%;" />
<p>å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>else if</code>å…¶å®å¹¶ä¸æ˜¯C++çš„å…³é”®å­—ï¼Œå®é™…ä¸Šè¿™åªæ˜¯å°†ä¸€ä¸ª<code>if</code>åŒ…å«åœ¨äº†<code>else</code>ä¸­ï¼Œå¹¶ä¸”å†™åœ¨äº†ä¸€è¡Œï¼Œæœ‰ç‚¹åƒä¸€ä¸ªè¯­æ³•ç³–ğŸ¤£</p>
<hr>
<h2 id="å…³äºVSçš„è®¾ç½®ï¼ˆ13ï¼‰">å…³äºVSçš„è®¾ç½®ï¼ˆ13ï¼‰</h2>
<p><strong>å¦‚ä½•ç”¨VSåˆ›å»ºä¸€ä¸ªä¼˜é›…çš„C++é¡¹ç›®</strong></p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202305082014626.png" alt="image-20230508201433600" style="zoom:50%;" />
<p>æˆ‘ä»¬åœ¨è§£å†³æ–¹æ¡ˆç®¡ç†å™¨ä¸­çœ‹åˆ°çš„è¿™äº›æ–‡ä»¶å¤¹å…¶å®éƒ½æ˜¯è™šæ–‡ä»¶å¤¹ï¼Œæ˜¯è¢«ç§°ä¸ºâ€œfilterç­›é€‰å™¨â€çš„ä¸œè¥¿ï¼Œå…¶å¯¹æ–‡ä»¶åœ¨ç£ç›˜ä¸­çš„ç»„ç»‡æ²¡æœ‰ä»»ä½•å½±å“ï¼Œè¿™åªæ˜¯ä¸€ç§æ ‡ç¤ºï¼Œå®é™…ä¸Šä½ æŠŠæ–‡ä»¶æ”¾å“ªéƒ½è¡Œï¼Œå¯¹æ–‡ä»¶çš„å®é™…ä½ç½®æ²¡æœ‰ä»»ä½•å½±å“</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202305082017726.png" alt="image-20230508201724681" style="zoom:50%;" />
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ç‚¹å‡»â€œæ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶â€æ¥æŸ¥çœ‹æˆ‘ä»¬çœŸæ­£çš„é¡¹ç›®æ–‡ä»¶å¤¹</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202305082049460.png" alt="image-20230508204920418" style="zoom:50%;" />
<p>é€šè¿‡è®¾ç½®å±æ€§ç®¡ç†é¡¹ç›®æ–‡ä»¶å¤¹</p>
<hr>
<h2 id="å¾ªç¯ä¸æ§åˆ¶æµè¯­å¥ï¼ˆ14ï¼Œ15ï¼‰">å¾ªç¯ä¸æ§åˆ¶æµè¯­å¥ï¼ˆ14ï¼Œ15ï¼‰</h2>
<p>å¾ªç¯çš„è¯­æ³•ä¸å†èµ˜è¿°</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>for</code>ä¸<code>while</code>å¾ªç¯æœ¬è´¨ä¸Šå…¶å®å¹¶æ— åŒºåˆ«ï¼Œä»–ä»¬å®Œå…¨å¯ä»¥è¢«ç”¨æ¥åšä¸€æ ·çš„äº‹æƒ…</p>
<p>ä½•æ—¶ä½¿ç”¨<code>for</code>ï¼Œä½•æ—¶ä½¿ç”¨<code>while</code>æ›´åƒä¸€ç§ä¹ æƒ¯æˆ–é£æ ¼ï¼Œè€Œä¸æ˜¯è§„åˆ™</p>
<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªå·²ç»å­˜åœ¨çš„ç¡®å®šçš„æ¡ä»¶ï¼Œå¦‚æ¸¸æˆä¸­çš„loopï¼Œä½¿ç”¨<code>while</code>æ›´æ–¹ä¾¿ï¼Œè¿™æ›´æ¥è¿‘ä¸ä¸€ç§å¯¹çŠ¶æ€çš„ç›‘æ§ï¼Œå› ä¸ºæ¡ä»¶ä¸å˜ï¼Œæˆ‘ä»¬ä¸éœ€è¦åœ¨æ¯æ¬¡å¾ªç¯ä¹‹åæ”¹å˜è¿™ä¸ªæ¡ä»¶</p>
<p>è€Œå½“æˆ‘ä»¬éœ€è¦å¤„ç†ä¸€ä¸ªçŠ¶æ€ä¼šä¸æ–­è¿­ä»£çš„å¾ªç¯ï¼Œå¦‚éå†ä¸€ä¸ªç¡®å®šé•¿åº¦çš„æ•°ç»„æ—¶ï¼Œç”¨<code>for</code>æ›´æ–¹ä¾¿</p>
<p>æ§åˆ¶æµè¯­å¥ï¼š</p>
<ul>
<li><code>continue</code>-è¿›å…¥å¾ªç¯çš„ä¸‹ä¸€ä¸ªè¿­ä»£ï¼Œå¦‚æœæ²¡æœ‰ä¸‹ä¸€ä¸ªè¿­ä»£äº†ï¼Œåˆ™ç›´æ¥è·³å‡ºå¾ªç¯</li>
<li><code>break</code>-è·³å‡ºå¾ªç¯ï¼Œä¹Ÿä¼šåœ¨switchä¸­è¢«ç”¨äºè·³å‡ºswitch</li>
<li><code>return</code>-è·³å‡ºå½“å‰å‡½æ•°ï¼Œæ ¹æ®å‡½æ•°è¿”å›å€¼ç±»å‹è¿”å›å¯¹åº”å€¼</li>
</ul>
<hr>
<h2 id="æŒ‡é’ˆï¼ˆ16ï¼‰">æŒ‡é’ˆï¼ˆ16ï¼‰</h2>
<p>æŒ‡é’ˆæ˜¯C++ä¸­æœ€é‡è¦çš„æ¦‚å¿µä¹‹ä¸€ï¼Œä½†å®é™…ä¸Šï¼Œå®ƒå¹¶æ²¡æœ‰æˆ‘ä»¬æƒ³çš„é‚£ä¹ˆå¤æ‚</p>
<p>è¦è®¨è®ºæŒ‡é’ˆï¼Œä¾¿åº”è¯¥å…ˆæ˜ç™½ä½•ä¸ºå†…å­˜ã€‚å†…å­˜ï¼Œæ˜¯è®¡ç®—æœºç¼–ç¨‹ä¸­æœ€é‡è¦çš„ä¸œè¥¿ï¼Œä¸€åˆ‡ç¨‹åºåœ¨è¿è¡Œæ—¶éƒ½å‚¨å­˜åœ¨å†…å­˜ä¸­ï¼Œç”µè„‘é€šè¿‡è®¿é—®è¿™äº›å†…å­˜æ¥è¯»å–æ‰§è¡ŒæŒ‡ä»¤ï¼ŒåŒæ ·çš„ï¼Œå˜é‡ä¹Ÿå‚¨å­˜åœ¨å†…å­˜ä¸­ï¼Œå½“æˆ‘ä»¬å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œå…¶ä¾¿ä¼šåœ¨å†…å­˜ä¸­ä¸ºå…¶å¼€è¾Ÿä¸€ç‰‡å†…å­˜ç©ºé—´ã€‚å¦‚æœæˆ‘ä»¬å½¢è±¡çš„å»ç†è§£å†…å­˜ï¼Œå†…å­˜ä¾¿åƒä¸€ä¸ªæ— é™é•¿çš„çº¸å¸¦ï¼Œçº¸å¸¦ä¸Šæœ‰å¾ˆå¤šæ ¼å­ï¼Œæ¯ä¸ªæ ¼å­åŒ…å«ä¸€ä¸ªåœ°å€ä¸8ä¸ªäºŒè¿›åˆ¶ä½ä¹Ÿå°±æ˜¯1å­—èŠ‚çš„æ•°æ®ã€‚è€ŒæŒ‡é’ˆä¾¿æ˜¯ä¸€ä¸ªå‚¨å­˜äº†æŒ‡å®šæ ¼å­åœ°å€çš„å˜é‡ã€‚</p>
<blockquote>
<p><strong>æŒ‡é’ˆæ˜¯ä¸€ä¸ªæ•´æ•°ã€ä¸€ä¸ªå‚¨å­˜å†…å­˜åœ°å€çš„æ•°å­—ï¼ŒæŒ‡é’ˆå°±åƒå…¶ä»–å˜é‡ä¸€æ ·ï¼Œä½†å…¶ä¸æ˜¯ä¿å­˜ç€æŸä¸€å˜é‡çš„å€¼æœ¬èº«ï¼Œè€Œæ˜¯ä¸€ä¸ªå˜é‡çš„å†…å­˜åœ°å€ï¼Œè€Œå†…å­˜åœ°å€åŒæ ·æ˜¯ä¸€ä¸ªå€¼ï¼Œæ˜¯ä¸€ä¸ªæ•´æ•°</strong></p>
<p><strong>ç±»å‹æ˜¯æ— æ„ä¹‰çš„ï¼ç±»å‹åªæ˜¯ä¸ºäº†è®©æˆ‘ä»¬å¤„ç†æ•°æ®æ›´æ–¹ä¾¿çš„ä¸€ç§è™šæ„ï¼Œä¸€ç§æŠ½è±¡ï¼Œæ‰€æœ‰ç±»å‹çš„æŒ‡é’ˆéƒ½æ˜¯ä¿å­˜å†…å­˜åœ°å€çš„æ•´æ•°</strong></p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span>* ptr = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// ä½¿ç”¨NULL/nullptræ•ˆæœç›¸åŒï¼ŒNULLæ˜¯0çš„å®å®šä¹‰ï¼Œnullptræ˜¯C++11ä¸­çš„å…³é”®å­—ä»£è¡¨ç©ºæŒ‡é’ˆ</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç åˆ›é€ äº†ä¸€ä¸ªç©ºæŒ‡é’ˆï¼Œè¿™æ˜¯æˆ‘ä»¬å¯ä»¥åˆ›é€ çš„æœ€ç®€å•çš„æŒ‡é’ˆ</p>
<p>**æŒ‡é’ˆçš„å¤§å°ï¼š**ä¹Ÿå°±æ˜¯è¿™ä¸ªæ•´æ•°æœ‰å¤šå¤§ï¼Œå–å†³äºå¾ˆå¤šä¸œè¥¿ï¼Œå¯èƒ½æ˜¯16ä½/32ä½/64ä½çš„æ•´æ•°</p>
<p>**æŒ‡é’ˆçš„é€†å‘å¼•ç”¨ï¼š**åœ¨æŒ‡é’ˆå‰æ·»åŠ ä¸€ä¸ªâ€œ*â€ä»£è¡¨å¯¹æŒ‡é’ˆå†…å®¹çš„é€†å‘å¼•ç”¨ï¼ˆ<code>dereference</code>ï¼‰ï¼Œè¿™æ„å‘³è®¿é—®æŒ‡é’ˆæ‰€æŒ‡å‘çš„å†…å­˜ï¼Œå¦‚æ­¤æˆ‘ä»¬ä¾¿å¯ä»¥å¯¹æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜ä¸­çš„å€¼è¿›è¡Œè¯»å†™</p>
<p>ç±»å‹æ˜¯æˆ‘ä»¬å‘Šè¯‰ç¼–è¯‘å™¨çš„ï¼Œæˆ‘ä»¬å¯¹æ•°æ®ç±»å‹çš„è®¾æƒ³ï¼Œè¿™æ ·ç¼–è¯‘å™¨å°±çŸ¥é“åº”è¯¥åˆ†é…å¤šå¤§çš„å†…å­˜ç©ºé—´äº†ï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ˜¯â€œæˆ‘ä»¬å‘Šè¯‰ç¼–è¯‘å™¨çš„â€ï¼Œç¼–è¯‘å™¨è‡ªå·±å¹¶ä¸çŸ¥é“æŸä¸€æ•°æ®çš„å®é™…æ„ä¹‰ï¼Œä»¥åŠæˆ‘ä»¬è¯´çš„åˆ°åº•å¯¹ä¸å¯¹ï¼Œ**è€ŒæŒ‡é’ˆä¸­åªæœ‰ä»£è¡¨ç€å†…å­˜åœ°å€çš„æ•°å­—ï¼Œè€Œä¸åŒ…å«æ•°æ®ï¼Œ**è¿™æ„å‘³ç€ä¸€æ—¦æˆ‘ä»¬å‡ºé”™ï¼Œç¨‹åºä¾¿ä¼šå‡ºç°é—®é¢˜</p>
<p><strong>Donâ€™t over think it!</strong></p>
<hr>
<h2 id="å¼•ç”¨ï¼ˆ17ï¼‰">å¼•ç”¨ï¼ˆ17ï¼‰</h2>
<blockquote>
<p><strong>æ ¹æœ¬ä¸Šï¼Œå¼•ç”¨åªæ˜¯æŒ‡é’ˆçš„ä¼ªè£…ï¼Œåªæ˜¯åœ¨æŒ‡é’ˆä¸Šçš„è¯­æ³•ç³–ï¼Œä½¿å®ƒä»¬æ›´æ˜“é˜…è¯»å’Œç†è§£</strong></p>
</blockquote>
<p>å¼•ç”¨ï¼ˆ<code>references</code>ï¼‰å°±åƒå˜é‡çš„åˆ«åæˆ–å¿«æ·æ–¹å¼ï¼Œå®ƒä¸åƒæŒ‡é’ˆä¸€æ ·ä½œä¸ºä¸€ä¸ªæ–°çš„å˜é‡å­˜åœ¨ä¸å†…å­˜ä¹‹ä¸­ï¼Œå…¶å¹¶æ²¡æœ‰çœŸæ­£çš„å‚¨å­˜ç©ºé—´ï¼Œå…¶åªæ˜¯ä¸€ä¸ªå˜é‡çš„å¼•ç”¨ï¼ˆ<code>reference</code>ï¼‰</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span>&amp; ref = a;</span><br><span class="line"><span class="comment">// ä¸»è¦æ³¨æ„çš„æ˜¯&amp;ç¬¦å·å’Œå‰é¢çš„å˜é‡ç±»å‹æ˜¯ä¸€ä½“çš„ï¼Œè€Œä¸æ˜¯å–åœ°å€</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç åˆ›é€ äº†ä¸€ä¸ªå˜é‡<code>a</code>çš„å¼•ç”¨<code>ref</code></p>
<p><code>ref</code>å®é™…ä¸Šå¹¶ä¸å­˜åœ¨ï¼Œå…¶ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„å˜é‡ï¼Œå®ƒåªå­˜åœ¨äºæˆ‘ä»¬çš„æºä»£ç ä¸­ï¼Œç¼–è¯‘è¿è¡Œæ—¶ï¼Œç¼–è¯‘å™¨åªä¼šä¸º<code>a</code>å¼€è¾Ÿå†…å­˜ç©ºé—´</p>
<p>é‚£ä¹ˆå¼•ç”¨åˆ°åº•æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ</p>
<p><strong>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­:</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Add</span><span class="params">(<span class="type">int</span> value)</span></span>&#123;</span><br><span class="line">    value++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    a = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">Add</span>(a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ›é€ ä¸€ä¸ª<code>Add</code>å‡½æ•°å¸Œæœ›å®ç°å°†ä¼ å…¥å€¼é€’å¢çš„æ•ˆæœï¼Œä½†å®é™…ä¸Šï¼Œè¿™æ®µä»£ç æ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œæˆ‘ä»¬å®é™…ä¸Šæ˜¯å¤åˆ¶äº†å˜é‡<code>a</code>çš„å€¼ç»™äº†<code>value</code>ï¼Œç„¶åä½¿<code>value</code>é€’å¢ï¼Œè¿™å¹¶ä¸ä¼šå®é™…å½±å“<code>a</code>çš„å€¼</p>
<p>è€Œå¦‚æœæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼ å…¥æŒ‡é’ˆæ¥è§£å†³è¿™ä¸ªé—®é¢˜</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Add</span><span class="params">(<span class="type">int</span>* value)</span></span>&#123;</span><br><span class="line">    (*value)++</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    a = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">Add</span>(&amp;a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ”¹åŠ¨åï¼Œæˆ‘ä»¬å°†å˜é‡<code>a</code>çš„åœ°å€ä¼ å…¥äº†<code>Add</code>å‡½æ•°ï¼Œåé€šè¿‡æŒ‡é’ˆçš„é€†å‘å¼•ç”¨æ”¹å˜äº†å˜é‡<code>a</code>çš„å€¼ï¼Œè¿™å¯ä»¥å®ç°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœ</p>
<p>ä½†è¿™ä¼šè®©ä»£ç æ·»åŠ å¾ˆå¤šç¹æ‚çš„ä¿®é¥°ï¼Œé™ä½ä»£ç çš„å¯è¯»æ€§ï¼Œè€Œå¼•ç”¨å¯ä»¥æ›´æ–¹ä¾¿çš„è§£å†³è¿™ä¸€é—®é¢˜</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Add</span><span class="params">(<span class="type">int</span>&amp; value)</span></span>&#123;</span><br><span class="line">    value++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    a = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">Add</span>(a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬åªéœ€è¦å°†ä¼ å…¥<code>Add</code>å‡½æ•°çš„å‚æ•°æ”¹ä¸ºint&amp;å¼•ç”¨ç±»å‹ï¼Œä½¿<code>a</code>ä½œä¸ºå¼•ç”¨ä¼ å…¥å³å¯ï¼Œååˆ†æ–¹ä¾¿ä¼˜é›…</p>
<p>å¯¹äºå¼•ç”¨æ¥è¯´ï¼Œæ²¡ä»€ä¹ˆæ˜¯å¼•ç”¨èƒ½åšè€ŒæŒ‡é’ˆåšä¸äº†çš„ï¼Œå…¶æ˜¯æŒ‡é’ˆçš„å°è£…ã€è¯­æ³•ç³–ï¼Œå¯ä»¥è®©ä»£ç å˜å¾—æ›´åŠ ç®€æ´æ˜äº†</p>
<p>ä½†ä½¿ç”¨å¼•ç”¨ä¹Ÿæœ‰å‡ ä¸ªé™åˆ¶ï¼š</p>
<ul>
<li>å£°æ˜å¼•ç”¨å¿…é¡»ç«‹åˆ»èµ‹å€¼ï¼Œæ— æ³•å•ç‹¬å£°æ˜</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>&amp; ref; <span class="comment">// è¿™æ˜¯é”™è¯¯çš„è¯­æ³•</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å¼•ç”¨èµ‹å€¼åå¼•ç”¨å¯¹è±¡æ— æ³•æ”¹å˜ï¼›å½“æˆ‘ä»¬éœ€è¦æ”¹å˜å¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æŒ‡é’ˆ</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> b = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span>&amp; ref = a;</span><br><span class="line">ref = b;</span><br><span class="line"><span class="comment">// è¿™æ ·å†™çš„ç»“æœæ˜¯ a = 10 , b = 10</span></span><br><span class="line"><span class="comment">// refä»ç„¶æ˜¯açš„å¼•ç”¨</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="ç±»ï¼ˆ18ï¼‰">ç±»ï¼ˆ18ï¼‰</h2>
<p><strong>é¢å‘å¯¹è±¡ç¼–ç¨‹</strong>ï¼šä¸€ç§ç¼–å†™ä»£ç çš„æ¨¡å¼</p>
<p>Java/C#æ˜¯é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œè€ŒCç”±äºæ²¡æœ‰ç±»/å¯¹è±¡çš„æ¦‚å¿µæ‰€ä»¥æ— æ³•é‡‡ç”¨é¢å‘å¯¹è±¡çš„æ¨¡å¼ï¼Œè€ŒC++å¹¶æ²¡æœ‰é™å®šæˆ‘ä»¬å†™ä»£ç çš„æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥åƒCä¸€æ ·é¢å‘è¿‡ç¨‹çš„ç¼–ç¨‹ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥è¿ç”¨C++æ–°æ·»åŠ çš„ç±»ç­‰ç‰¹æ€§æ¥ä½¿ç”¨é¢å‘å¯¹è±¡çš„æ¨¡å¼ç»„ç»‡æˆ‘ä»¬çš„ä»£ç </p>
<p>è€Œâ€œç±»ï¼ˆ<code>class</code>ï¼‰â€æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­æœ€é‡è¦çš„ç‰¹æ€§ä¹‹ä¸€ï¼Œç®€å•çš„è¯´</p>
<blockquote>
<p><strong>ç±»æ˜¯ä¸€ç§å°†æ•°æ®ä¸åŠŸèƒ½ç»„åˆåœ¨ä¸€èµ·çš„ä¸€ç§ç±»å‹</strong></p>
</blockquote>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ª<code>class</code>çš„å®ä¾‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> speed_;</span><br><span class="line">    <span class="type">int</span> posX_, posY_;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Move</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        posX_ += x * speed;</span><br><span class="line">        posY_ += y * speed;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> health_;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Player player = <span class="keyword">new</span> <span class="built_in">Player</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª<code>Player</code>ç±»ï¼Œå¹¶åœ¨<code>main</code>å‡½æ•°ä¸­å°†å…¶è¿›è¡Œäº†å®ä¾‹åŒ–</p>
<p><code>Player</code>ç±»ä¸­åŒ…å«3ä¸ªå…¬å…±å˜é‡ï¼Œ1ä¸ªå…¬å…±æ–¹æ³•ï¼ˆåœ¨ç±»ä¸­çš„å‡½æ•°è¢«ç§°ä¸ºæ–¹æ³•ï¼‰ï¼Œ1ä¸ªç§æœ‰å˜é‡</p>
<p><code>player</code>æ˜¯ç±»å‹ä¸º<code>Player</code>çš„å˜é‡ï¼Œç§°ä¸ºâ€œ<strong>å¯¹è±¡</strong>â€ï¼Œåˆ›å»ºç±»å¯¹è±¡çš„è¿‡ç¨‹è¢«ç§°ä¸º<strong>å®ä¾‹åŒ–</strong></p>
<p><strong>ç±»çš„æœ¬è´¨æ˜¯ä¸€ç§æ•°æ®ä¸æ–¹æ³•çš„ç»„ç»‡æ–¹å¼ï¼Œä¸€ç§è¯­æ³•ç³–ï¼Œå¯ä»¥è®©æˆ‘ä»¬çš„ç¨‹åºæ›´åŠ çš„ç®€æ´æ˜äº†ï¼Œå…¶å¹¶ä¸æ˜¯ä¸‡èƒ½çš„</strong></p>
<hr>
<h2 id="ç±»ä¸ç»“æ„ä½“çš„åŒºåˆ«ï¼ˆ19ï¼‰">ç±»ä¸ç»“æ„ä½“çš„åŒºåˆ«ï¼ˆ19ï¼‰</h2>
<blockquote>
<p><strong>å‡ ä¹æ²¡åŒºåˆ«</strong></p>
</blockquote>
<p>åœ¨æŠ€æœ¯ä¸Šï¼Œç±»ä¸ç»“æ„ä½“çš„å”¯ä¸€åŒºåˆ«ä¾¿æ˜¯ç±»ä¸­çš„å˜é‡ä¸æ–¹æ³•é»˜è®¤å¯è§åº¦ä¸º<code>private</code>ï¼Œç»“æ„ä½“åˆ™ä¸º<code>public</code></p>
<p>C++ä¸­<code>struct</code>å¾—ä»¥å­˜ç»­çš„åŸå› å¾ˆå¤§ç¨‹åº¦ä¸Šæºäºå¯¹Cçš„å…¼å®¹æ€§è€ƒè™‘ï¼Œå› ä¸ºCä¸­æ²¡æœ‰ç±»</p>
<p>è€Œåœ¨å…·ä½“ä½¿ç”¨ä¸­ï¼Œå¦‚ä½•ä½¿ç”¨<code>struct</code>ä¸<code>class</code>å®Œå…¨å–å†³äºæ¯ä¸ªäººç¼–ç¨‹ä¹ æƒ¯ä¸é£æ ¼</p>
<hr>
<h2 id="å¦‚ä½•å†™ä¸€ä¸ªC-ç±»ï¼ˆ20ï¼‰">å¦‚ä½•å†™ä¸€ä¸ªC++ç±»ï¼ˆ20ï¼‰</h2>
<p>åœ¨æ¥ä¸‹æ¥çš„å‡ ç« ä¸­ï¼Œæˆ‘ä»¬å°†å¼€å§‹ç¼–å†™C++çš„ç±»ï¼Œå°†ä¸€ä¸ªåŸºç¡€ç‰ˆæœ¬çš„ç±»é€æ¸å‡çº§åˆ°æ›´é«˜ç‰ˆæœ¬çš„ç±»ï¼Œä½“ä¼šå…¶ä¸­çš„è¿‡ç¨‹ä¸åŒºåˆ«ï¼Œè¿™ä¼šè®©æˆ‘ä»¬æ˜ç™½ä»€ä¹ˆæ˜¯â€Good Codeâ€œ</p>
<p>è€Œæˆ‘ä»¬å°†è¦ç¼–å†™çš„ç±»æ˜¯<strong>Logç±»</strong></p>
<p>Logç±»çš„åŠŸèƒ½æ˜¯å°†ä¿¡æ¯è¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œè¿™å¬èµ·æ¥ååˆ†ç®€å•ï¼Œä½†å®é™…ä¸Šè¿™å¯¹æˆ‘ä»¬çš„è°ƒè¯•ä¸å¼€å‘éå¸¸é‡è¦ï¼ŒåŒæ—¶ï¼Œå…¶å¯å¤æ‚å¯ç®€å•ï¼Œæ˜¯ä¸€ä¸ªéå¸¸å¥½çš„ä¾‹å­</p>
<p>**éœ€æ±‚åˆ†æï¼š**æˆ‘ä»¬å°†è¦å®ç°çš„åˆçº§Logç±»åŒ…å«<code>error</code>ã€<code>warning</code>ã€<code>message</code>ä¸‰ä¸ªå±‚çº§ï¼ŒLogç±»å¯ä»¥é€šè¿‡è¿™äº›å±‚çº§å¯¹è¾“å‡ºçš„ä¸œè¥¿è¿›è¡Œæ§åˆ¶</p>
<p>è®©æˆ‘ä»¬å¼€å§‹å†™ä»£ç å§ï¼</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Log</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> LogLevelError = <span class="number">0</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> LogLevelWarning = <span class="number">1</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> LogLevelMessage = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> _logLevel = LogLevelMessage; <span class="comment">// å½“å‰logç­‰çº§</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">SetLevel</span><span class="params">(<span class="type">int</span> level)</span> <span class="comment">// è®¾ç½®logç­‰çº§</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        _logLevel = level;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Error</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* message)</span> <span class="comment">// è¾“å‡ºErrorç­‰çº§çš„ä¿¡æ¯</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (_logLevel &gt;= LogLevelError)</span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;[ERROR]:&quot;</span> &lt;&lt; message &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Warning</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* message)</span> <span class="comment">// è¾“å‡ºWarningç­‰çº§çš„ä¿¡æ¯</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (_logLevel &gt;= LogLevelWarning)</span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;[WARNING]:&quot;</span> &lt;&lt; message &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Message</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* message)</span> <span class="comment">// è¾“å‡ºMessageç­‰çº§çš„ä¿¡æ¯</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (_logLevel &gt;= LogLevelMessage)</span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;[MESSAGE]:&quot;</span> &lt;&lt; message &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Log log;</span><br><span class="line">    log.<span class="built_in">SetLevel</span>(log.LogLevelWarning);</span><br><span class="line">    log.<span class="built_in">Error</span>(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">    log.<span class="built_in">Warning</span>(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">    log.<span class="built_in">Message</span>(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šä»£ç å®ç°äº†æˆ‘ä»¬çš„åŸºæœ¬éœ€æ±‚ï¼Œä½†æ˜¯å®é™…ä¸Šè¿™å¹¶ä¸èƒ½è¢«ç§°ä¸ºä»€ä¹ˆâ€œGood Codeâ€ï¼Œit just simple code.</p>
<p>ä¹‹åæˆ‘ä»¬ä¼šå¯¹Logç±»è¿›è¡Œè¿­ä»£ï¼Œä½¿å…¶å˜å¾—ä¼˜é›…æ˜“ç”¨</p>
<hr>
<h2 id="staticé™æ€ï¼ˆ21ï¼Œ22ï¼Œ23ï¼‰">staticé™æ€ï¼ˆ21ï¼Œ22ï¼Œ23ï¼‰</h2>
<p>å–å†³äºä¸Šä¸‹æ–‡ï¼ŒC++ä¸­çš„<code>static</code>å…³é”®å­—æœ‰å¤šä¸ªæ„æ€ï¼š</p>
<ul>
<li><strong>å½“staticåœ¨ç±»/ç»“æ„ä½“å¤–æ—¶ï¼š</strong><code>static</code>ç”¨äºé™å®šä½œç”¨åŸŸï¼Œè¢«<code>static</code>ä¿®é¥°çš„å˜é‡/å‡½æ•°åªä¼šåœ¨å½“å‰ç¿»è¯‘å•å…ƒçš„å†…éƒ¨é“¾æ¥</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç¿»è¯‘å•å…ƒä¸€</span></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¿»è¯‘å•å…ƒäºŒ</span></span><br><span class="line"><span class="keyword">extern</span> <span class="type">int</span> a; <span class="comment">// externä»£è¡¨</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; a &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œç¿»è¯‘å•å…ƒäºŒä¸­çš„<code>extern</code>ä»£è¡¨å¤–éƒ¨é“¾æ¥ï¼Œå…¶ä¼šä¸ºaå˜é‡åœ¨å…¶ä»–ç¿»è¯‘å•å…ƒä¸­å¯»æ‰¾é“¾æ¥ï¼Œæˆ‘ä»¬å¸Œæœ›å®ƒèƒ½æ‰¾åˆ°ç¿»è¯‘å•å…ƒä¸€ä¸­çš„<code>a</code>ï¼Œå°†å…¶é“¾æ¥è¿‡æ¥</p>
<p>ä½†å¦‚æœæˆ‘ä»¬ç¼–è¯‘ä¸Šè¿°ä»£ç ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°æŠ¥é”™ï¼Œå› ä¸ºç¿»è¯‘å•å…ƒä¸€ä¸­çš„<code>a</code>è¢«<code>static</code>ä¿®é¥°äº†ï¼Œè¿™æ„å‘³ç€å…¶å¯¹é“¾æ¥å™¨æ¥è¯´æ˜¯ä¸å¯è§çš„ï¼Œç±»ä¼¼äºç±»ä¸­çš„<code>private</code></p>
<ul>
<li><strong>å½“staticåœ¨ç±»/ç»“æ„ä½“å†…æ—¶ï¼š</strong><code>static</code>æ„å‘³è¿™å…±äº«å®ä¾‹å†…å­˜ï¼Œé™æ€å˜é‡åœ¨ä½ åˆ›å»ºçš„æ‰€æœ‰ç±»çš„å®ä¾‹ä¸­éƒ½åªæœ‰ä¸€ä¸ªå®ä¾‹</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> x, y;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">Print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        std::cout &lt;&lt; x &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; y &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> Entity::x;</span><br><span class="line"><span class="type">int</span> Entity::y;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Entity::x = <span class="number">10</span>;</span><br><span class="line">    Entity::y = <span class="number">20</span>;</span><br><span class="line">    Entity::<span class="built_in">Print</span>();</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°æˆ‘ä»¬å¹¶æ²¡æœ‰å¯¹ç»“æ„ä½“<code>Entity</code>è¿›è¡Œå®ä¾‹åŒ–ï¼Œä½†æ˜¯æˆ‘ä»¬ä»ç„¶å¯ä»¥è®¿é—®å…¶ä¸­çš„é™æ€å˜é‡<code>x</code>ã€<code>y</code>ï¼Œé™æ€æ–¹æ³•<code>Print</code></p>
<p>åœ¨ç»“æ„ä½“ä¸ç±»ä¸­çš„é™æ€è¿‘ä¼¼äºé™æ€å…¨å±€å˜é‡ï¼Œä½†å°†å…¶æ”¾åœ¨ç±»ä¸­å¯ä»¥æ›´å¥½çš„å¸®æˆ‘ä»¬ç»„ç»‡ä»£ç ï¼Œæ»¡å¤©ä¹±é£çš„å…¨å±€å˜é‡å°†æ˜¯éå¸¸ç¾éš¾æ€§çš„</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé™æ€æˆå‘˜å‡½æ•°æ— æ³•è®¿é—®éé™æ€æˆå‘˜å˜é‡ï¼Œå› ä¸ºé™æ€æ–¹æ³•æ²¡æœ‰ç±»å®ä¾‹ï¼Œéé™æ€æ–¹æ³•éƒ½ä¾èµ–äºä¸€ä¸ªç±»å®ä¾‹è€Œå­˜åœ¨ï¼Œé™æ€æ–¹æ³•çš„ç»„ç»‡æ–¹æ³•ç±»ä¼¼äºåœ¨å¤–éƒ¨ç¼–å†™å‡½æ•°ï¼Œå½“é™æ€æ–¹æ³•è®¿é—®éé™æ€æˆå‘˜å˜é‡æ—¶ï¼Œå…¶æ— æ³•å¾—çŸ¥å®ƒä»¬åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œä¾èµ–äºå“ªä¸ªå®ä¾‹å­˜åœ¨ï¼Œäº¦æˆ–è€…å…¶æ ¹æœ¬æ²¡æœ‰å®ä¾‹</p>
<ul>
<li>**å½“staticåœ¨å±€éƒ¨ä½œç”¨åŸŸæ—¶ï¼š**è¢«<code>static</code>ä¿®é¥°çš„å˜é‡å£°æ˜å‘¨æœŸä¼šå’Œç¨‹åºä¸€æ ·é•¿ï¼Œä¸ä¼šè¢«åˆ é™¤ï¼Œä½†ä½œç”¨åŸŸä»ç„¶ä¸ºå½“å‰å±€éƒ¨</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Add</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    i++;</span><br><span class="line">    std::cout &lt;&lt; i &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“æˆ‘ä»¬å¤šæ¬¡è°ƒç”¨ä¸Šè¿°å‡½æ•°æ—¶ï¼Œè‹¥å˜é‡<code>i</code>æ²¡æœ‰è¢«<code>static</code>ä¿®é¥°ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¾“å‡ºçš„å°†ä¸€ç›´æ˜¯1ï¼Œä½†ç°åœ¨ï¼Œ<code>i</code>å˜é‡ä¼šä¸æ–­é€’å¢</p>
<p>è¿™ä¸å°†iå£°æ˜åœ¨å‡½æ•°å¤–çš„æ•ˆæœç›¸ä¼¼ï¼Œä½†åŒºåˆ«æ˜¯åªæœ‰åœ¨<code>Add</code>å‡½æ•°çš„å±€éƒ¨ä½œç”¨åŸŸä¸­iæ‰å¯ä»¥è¢«è®¿é—®</p>
<p>å±€éƒ¨ä½œç”¨åŸŸä¸­çš„<code>static</code>æœ‰æ—¶å¯ä»¥å¾ˆå¤§ç¨‹åº¦ä¸Šå¸®æˆ‘ä»¬ä¼˜åŒ–ä»£ç ï¼Œä»¥ä¸‹ä¸ºå…¶åœ¨å•ä¾‹å®ç°ä¸­çš„åº”ç”¨ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Singleton</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">static</span> Singleton* _instance;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">static</span> Singleton&amp; <span class="title">Instance</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> *_instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Hello</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Singleton* Singleton::_instance = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Singleton::<span class="built_in">Instance</span>().<span class="built_in">Hello</span>();</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šæ˜¯å•ä¾‹çš„ä¸€ç§å®ç°ï¼Œä½†å®é™…ä¸Šï¼Œè¿ç”¨å±€éƒ¨ä½œç”¨åŸŸçš„<code>static</code>å¯ä»¥å®ç°ä¸€æ ·çš„æ•ˆæœä½†å¤§å¹…ä¼˜åŒ–æˆ‘ä»¬çš„ä»£ç </p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Singleton</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">static</span> Singleton&amp; <span class="title">Instance</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="type">static</span> Singleton _instance</span><br><span class="line">        <span class="keyword">return</span> _instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Hello</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Singleton::<span class="built_in">Instance</span>().<span class="built_in">Hello</span>();</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="æšä¸¾ï¼ˆ24ï¼‰">æšä¸¾ï¼ˆ24ï¼‰</h2>
<p>æšä¸¾<code>enum</code>æ˜¯ä¸€ä¸ªæ•°å€¼é›†åˆï¼Œæ˜¯ä¸€ç§ç»™å€¼å‘½åçš„æ–¹å¼ï¼Œå½“æˆ‘ä»¬æƒ³ç”¨æ•´æ•°æ¥æ ‡ç¤ºæŸäº›çŠ¶æ€æˆ–æ•°å€¼æ—¶ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥é‡‡ç”¨æšä¸¾æ¥è®©å…¶æœ‰æ›´å¥½çš„å¯è¯»æ€§</p>
<p>åŒæ—¶æšä¸¾ä¹Ÿå¯ä»¥é™å®šç±»å‹ï¼Œè®©æšä¸¾ç±»å‹çš„å˜é‡åªèƒ½æ˜¯æšä¸¾ç±»å‹ï¼Œä½†å…¶èƒŒåä»£è¡¨çš„ä»ç„¶åªæ˜¯ä¸€ä¸ªæ•´æ•°</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Player</span></span><br><span class="line">&#123;</span><br><span class="line">    Idle,</span><br><span class="line">    Attack,</span><br><span class="line">    Chase</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šæ˜¯ä¸€ä¸ªç®€å•çš„æšä¸¾ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ºæšä¸¾æŒ‡å®šæ•°å€¼ï¼Œæ•°å€¼å¯ä»¥æ˜¯ä»»æ„æ•´æ•°ï¼Œå¦‚æœæˆ‘ä»¬ä¸æŒ‡å®šåˆ™é»˜è®¤ä»0å¼€å§‹é€’å¢</p>
<p>è€Œåœ¨æˆ‘ä»¬ä¹‹å‰çš„Logç±»ä¸­ï¼Œæšä¸¾ä¾¿å¯ä»¥ç”¨æ¥è¡¨ç¤ºLogçº§åˆ«ï¼Œä»¥ä¸‹æ˜¯è¿ç”¨äº†æšä¸¾çš„Logç±»ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Log</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">enum</span> <span class="title class_">Level</span></span><br><span class="line">    &#123;</span><br><span class="line">        LevelError,</span><br><span class="line">        LevelWarning,</span><br><span class="line">        LevelMessage</span><br><span class="line">    &#125;;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Level _logLevel = LevelMessage;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">SetLevel</span><span class="params">(Level level)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        _logLevel = level;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Error</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* info)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (_logLevel &gt;= LevelError)</span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;[ERROR]:&quot;</span> &lt;&lt; info &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Warning</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* info)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (_logLevel &gt;= LevelWarning)</span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;[WARNING]:&quot;</span> &lt;&lt; info &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Message</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* info)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (_logLevel &gt;= LevelMessage)</span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;[MESSAGE]:&quot;</span> &lt;&lt; info &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="æ„é€ å‡½æ•°ï¼ˆ25ï¼‰">æ„é€ å‡½æ•°ï¼ˆ25ï¼‰</h2>
<blockquote>
<p><strong>æ„é€ å‡½æ•°æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„æ–¹æ³•ï¼Œä»–åœ¨æ¯æ¬¡å®ä¾‹åŒ–å¯¹è±¡æ—¶è¿è¡Œ</strong></p>
</blockquote>
<p>åœ¨æ„é€ å¯¹è±¡æ—¶ï¼Œåˆå§‹åŒ–å¯¹è±¡ä¸­çš„å˜é‡æ˜¯éå¸¸å¸¸è§çš„éœ€æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç¼–å†™å‡½æ•°ï¼Œåœ¨æ¯æ¬¡éœ€è¦åˆå§‹åŒ–æ—¶æ‰‹åŠ¨è°ƒç”¨ä¸€éè¯¥å‡½æ•°æ¥å®ç°è¿™ä¸€éœ€æ±‚ï¼Œä½†è¿™æ„å‘³ç€æˆ‘ä»¬éœ€è¦åœ¨æ¯æ¬¡æ„é€ ä¸€ä¸ªæ–°å¯¹è±¡æ—¶éƒ½è°ƒç”¨ä¸€éåˆå§‹åŒ–å‡½æ•°ï¼Œè¿™éå¸¸çš„éº»çƒ¦ï¼Œæ‰€ä»¥**æ„é€ å‡½æ•°ï¼ˆconstructorï¼‰**è¯ç”Ÿäº†ï¼Œæ¯æ¬¡ä½ æ„å»ºå¯¹è±¡æ—¶æ„é€ å‡½æ•°éƒ½ä¼šè¢«è‡ªåŠ¨åœ°è°ƒç”¨</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Entity</span>()&#123; &#125; <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ„é€ å‡½æ•°å°±åƒå…¶ä»–æ–¹æ³•ä¸€æ ·è¢«å®šä¹‰ï¼Œç‰¹æ®Šçš„æ˜¯å…¶æ²¡æœ‰è¿”å›å€¼ï¼Œå¹¶ä¸”å‡½æ•°åéœ€è¦ä¸ç±»/ç»“æ„ä½“åç›¸åŒï¼›å¦‚æœæˆ‘ä»¬æ²¡æœ‰å®šä¹‰æ„é€ å‡½æ•°ï¼Œç³»ç»Ÿä¾¿ä¼šä¸ºæˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆé»˜è®¤çš„å‡½æ•°ä½“ä¸ºç©ºçš„æ„é€ å‡½æ•°ï¼Œå³ä»€ä¹ˆä¹Ÿä¸åš</p>
<p><em>åœ¨Javaä¸ä¸€äº›å…¶ä»–è¯­è¨€ä¸­ï¼Œä¸€äº›ç±»å‹çš„å˜é‡å¦‚<code>float</code>ã€<code>int</code>ä¼šè‡ªåŠ¨åœ°è¢«åˆå§‹åŒ–ä¸º0ï¼Œä½†æ˜¯C++ä¸­å¹¶ä¸æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨åœ°åˆå§‹åŒ–æ‰€æœ‰çš„å˜é‡</em></p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ„é€ å‡½æ•°åªæœ‰åœ¨å®ä¾‹åŒ–å¯¹è±¡æ—¶æ‰ä¼šè¢«è°ƒç”¨ï¼Œè°ƒç”¨ç±»ä¸­çš„é™æ€å˜é‡/å‡½æ•°ä¸ä¼šå®ä¾‹åŒ–å¯¹è±¡ï¼Œæ‰€ä»¥ä¹Ÿä¸ä¼šè§¦å‘æ„é€ å‡½æ•°</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Entity</span>()&#123; &#125; <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">Hello</span><span class="params">()</span> </span>&#123; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Entity::<span class="built_in">Hello</span>(); <span class="comment">// æ­¤æ—¶Entityç±»çš„æ„é€ å‡½æ•°å¹¶ä¸ä¼šè¢«è§¦å‘</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åŒç†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡è®©æ„é€ å‡½æ•°ç§æœ‰åŒ–æˆ–ä½¿ç”¨<code>delete</code>æ–¹æ³•åˆ é™¤æ„é€ å‡½æ•°çš„æ–¹å¼ï¼Œä½¿å¾—ç±»æ— æ³•è¢«å®ä¾‹åŒ–ï¼Œè¿™åœ¨æˆ‘ä»¬åªå¸Œæœ›ç”¨æˆ·ä»¥é™æ€æ–¹æ³•çš„å½¢å¼ä½¿ç”¨ç±»æ—¶éå¸¸æœ‰ç”¨</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity1</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">Entity1</span>()&#123; &#125; <span class="comment">// ç§æœ‰æ„é€ å‡½æ•°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Entity2</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Entity1</span>() = <span class="keyword">delete</span>; <span class="comment">// ç§æœ‰æ„é€ å‡½æ•°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Entity1 e1;</span><br><span class="line">    Entity2 e2;</span><br><span class="line">    <span class="comment">// ä¸Šè¿°ä¸¤è¡Œéƒ½æ— æ³•é€šè¿‡ç¼–è¯‘</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="ææ„å‡½æ•°ï¼ˆ26ï¼‰">ææ„å‡½æ•°ï¼ˆ26ï¼‰</h2>
<p><em>ææ„å‡½æ•°ï¼ˆDestructorï¼‰æ˜¯æ„é€ å‡½æ•°çš„é‚ªæ¶å­ªç”Ÿå…„å¼Ÿï¼ˆä¹ï¼‰</em></p>
<blockquote>
<p><strong>æ„é€ å‡½æ•°ï¼ˆConstructorï¼‰åœ¨å®ä¾‹åŒ–å¯¹è±¡æ—¶è¿è¡Œï¼Œè€Œææ„å‡½æ•°ï¼ˆDestructorï¼‰åˆ™åœ¨é”€æ¯å¯¹è±¡æ—¶è¿è¡Œ</strong></p>
</blockquote>
<p>è€ŒåŒæ ·çš„ï¼Œåœ¨åŠŸèƒ½ä¸Šï¼Œæ„é€ å‡½æ•°é€šå¸¸ç”¨æ¥åˆå§‹åŒ–å˜é‡ï¼Œå£°æ˜å†…å­˜ç©ºé—´ï¼Œè€Œææ„å‡½æ•°åˆ™å¸¸å¸¸ç”¨æ¥å¸è½½æˆ–é”€æ¯å˜é‡ï¼Œé‡Šæ”¾å†…å­˜ç©ºé—´</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    ~ <span class="built_in">Entity</span>()&#123; &#125; <span class="comment">// ææ„å‡½æ•°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ææ„å‡½æ•°ä¸æ„é€ å‡½æ•°åœ¨å£°æ˜ä¸å®šä¹‰æ—¶çš„å”¯ä¸€åŒºåˆ«ï¼Œå°±æ˜¯æ”¾åœ¨ææ„å‡½æ•°å‰éœ€è¦å¤šåŠ ä¸€ä¸ªæ³¢æµªå·<code>~</code></p>
<hr>
<h2 id="ç»§æ‰¿ï¼ˆ27ï¼‰">ç»§æ‰¿ï¼ˆ27ï¼‰</h2>
<p>é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰æ˜¯ä¸€ä¸ªåºå¤§çš„ç¼–ç¨‹èŒƒå¼ï¼Œè€Œç±»ä¹‹é—´çš„ç»§æ‰¿æ˜¯å…¶çš„ä¸€ä¸ªåŸºæœ¬æ–¹é¢ï¼Œå®ƒæ˜¯æˆ‘ä»¬å¯ä»¥å®é™…åˆ©ç”¨çš„æœ€å¼ºå¤§çš„ç‰¹æ€§ä¹‹ä¸€</p>
<blockquote>
<p><strong>ç»§æ‰¿å…è®¸æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå­˜åœ¨ç›¸äº’å…³è”çš„ç±»çš„å±‚çº§ç»“æ„ï¼Œå³æˆ‘ä»¬å¯ä»¥åŸºäºä¸€ä¸ªå…¬å…±åŸºç±»åˆ›å»ºå­ç±»</strong></p>
</blockquote>
<p>ç»§æ‰¿å¼ºå¤§çš„ä¸»è¦åŸå› æ˜¯å®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬é¿å…ä»£ç çš„é‡å¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç›¸åŒçš„éœ€è¦é‡å¤ç¼–å†™çš„ä»£ç æ”¾åœ¨ä¸€ä¸ªå…¬å…±åŸºç±»ä¸­ï¼Œè¿™æ ·å…¶å­ç±»å°±éƒ½æ‹¥æœ‰äº†åŸºç±»ä¸­çš„ä»£ç </p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">float</span> X, Y;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Move</span><span class="params">(<span class="type">float</span> x, <span class="type">float</span> y)</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span> : <span class="keyword">public</span> Entity</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span>* Name;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">PrintName</span><span class="params">()</span> </span>&#123;&#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Player player;</span><br><span class="line">    player.<span class="built_in">Move</span>(<span class="number">5</span>f,<span class="number">4</span>f);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œ<code>Player</code>ç±»ç»§æ‰¿äº†<code>Entity</code>ç±»ï¼Œè¿™æ„å‘³ç€<code>Player</code>ç±»æ‹¥æœ‰äº†<code>Entity</code>ç±»ä¸­çš„æ‰€æœ‰ä»£ç </p>
<p>åŒæ—¶ï¼Œç»§æ‰¿å¯ä»¥å¼•å‡ºOOPçš„å¦ä¸€ä¸ªé‡è¦æ¦‚å¿µ-<strong>â€œå¤šæ€â€</strong></p>
<p>å¤šæ€å³ä¸€ä¸ªç±»å‹å¯ä»¥æ‹¥æœ‰å¤šä¸ªç±»å‹ï¼Œåœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œ<code>player</code>æ—¢æ˜¯<code>Player</code>ç±»ä¹Ÿæ˜¯<code>Entity</code>ç±»ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»»æ„éœ€è¦<code>Entity</code>ç±»çš„åœ°æ–¹ç”¨<code>player</code>æ¥è¿›è¡Œï¼Œå› ä¸º<code>player</code>æ‹¥æœ‰<code>Entity</code>ç±»ä¸­çš„ä¸€åˆ‡ä»£ç </p>
<hr>
<h2 id="è™šå‡½æ•°ï¼ˆ28ï¼‰">è™šå‡½æ•°ï¼ˆ28ï¼‰</h2>
<blockquote>
<p><strong>è™šå‡½æ•°å…è®¸æˆ‘ä»¬åœ¨å­ç±»ä¸­é‡å†™æ–¹æ³•</strong></p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">std::string <span class="title">GetName</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="string">&quot;Entity&quot;</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span> : <span class="keyword">public</span> Entity</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">std::string <span class="title">GetName</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="string">&quot;Player&quot;</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Entity* e = <span class="keyword">new</span> <span class="built_in">Entity</span>();</span><br><span class="line">    std::cout &lt;&lt; e-&gt;<span class="built_in">GetName</span>() &lt;&lt; std::endl;</span><br><span class="line">    Player* p = <span class="keyword">new</span> <span class="built_in">Player</span>();</span><br><span class="line">    std::cout &lt;&lt; p-&gt;<span class="built_in">GetName</span>() &lt;&lt; std::endl;</span><br><span class="line">    </span><br><span class="line">    Entity* e2 = p;</span><br><span class="line">    std::cout &lt;&lt; e2-&gt;<span class="built_in">GetName</span>() &lt;&lt; std::endl;</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œ<code>Player</code>ç±»ç»§æ‰¿äº<code>Entity</code>ç±»ï¼Œå®ƒä»¬ä¸­éƒ½æœ‰ä¸€ä¸ª<code>GetName()</code>æ–¹æ³•ä¼šè¾“å‡ºä¸€äº›ä¸œè¥¿ï¼Œè¿™çœ‹èµ·æ¥éå¸¸å’Œè°ï¼Œæœ€åä¹Ÿç¡®å®è¾“å‡ºäº†â€œEntityâ€ä¸â€œPlayerâ€</p>
<p>ä½†è‹¥æˆ‘ä»¬å¼•å…¥OOPä¸­çš„å¤šæ€æ€æƒ³ï¼Œé‚£ä¹ˆé—®é¢˜ä¾¿ä¼šå‡ºç°ï¼Œå¦‚æœæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª<code>Entity*</code>ç±»å‹çš„æŒ‡é’ˆ<code>e2</code>æŒ‡å‘<code>p</code>ï¼Œå†è°ƒç”¨<code>e2</code>çš„<code>GetName()</code>æ–¹æ³•ï¼Œæˆ‘ä»¬ä¾¿ä¼šå‘ç°å…¶åªèƒ½è¾“å‡ºâ€œEntityâ€ï¼Œä½†å®é™…ä¸Šè¯¥æŒ‡é’ˆå®é™…æŒ‡å‘çš„æ˜¯<code>Player</code>ç±»å‹ï¼Œè¿™ä¸æˆ‘ä»¬çš„é¢„æœŸä¸ç¬¦</p>
<p>é—®é¢˜çš„æ ¸å¿ƒä¾¿æ˜¯å¤šæ€è™½ç„¶ä¸ºç±»å¸¦æ¥äº†å¤šç±»å‹ï¼Œä½†æ˜¯ç¼–è¯‘å™¨åªä¼šä¾æ®å£°æ˜çš„ç±»å‹è°ƒç”¨æ–¹æ³•ï¼Œä½†å®é™…ä¸Šæˆ‘ä»¬ä¼ å…¥çš„å‚æ•°çš„ç±»å‹ä¸ä¸€å®šä¼šæ˜¯æˆ‘ä»¬å£°æ˜çš„ç±»å‹ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯å…¶å­ç±»ï¼Œè¿™æ—¶<strong>è™šå‡½æ•°</strong>å°±åº”è¯¥å‡ºåœºäº†</p>
<p>è™šå‡½æ•°å¼•å…¥äº†ä¸€ç§å«åšåŠ¨æ€è”ç¼–ï¼ˆDynamic Dispatchï¼‰çš„ä¸œè¥¿ï¼Œå®ƒé€šè¿‡è™šå‡½æ•°è¡¨ï¼ˆvè¡¨ï¼‰æ¥å®ç°ç¼–è¯‘ï¼Œvè¡¨æ˜¯ä¸€ä¸ªåŒ…å«äº†åŸºç±»ä¸­çš„æ‰€æœ‰è™šå‡½æ•°çš„æ˜ å°„è¡¨ï¼Œè¿™æ ·æˆ‘ä»¬åœ¨å…¶è¿è¡Œæ—¶ï¼Œä¾¿å¯ä»¥å°†è™šå‡½æ•°æ˜ å°„åˆ°æ­£ç¡®çš„è¦†å†™å‡½æ•°ï¼ˆoverrideï¼‰ä¸Š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> std::string <span class="title">GetName</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="string">&quot;Entity&quot;</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span> : <span class="keyword">public</span> Entity</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">std::string <span class="title">GetName</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123; <span class="keyword">return</span> <span class="string">&quot;Player&quot;</span>; &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šè¿°ä»£ç æ‰€ç¤ºï¼Œåªéœ€åœ¨å¯¹åº”æ–¹æ³•å‰æ·»åŠ å…³é”®å­—<code>virtual</code>ä¸<code>override</code>ä¾¿å¯å®ç°æ–¹æ³•çš„è¦†å†™ï¼Œç°åœ¨<code>e2</code>å¯ä»¥æ­£å¸¸è¾“å‡ºâ€œPlayerâ€äº†</p>
<p><em>å…¶å®<code>override</code>å¹¶ä¸å¿…é¡»ï¼Œä½†æ˜¯ä¸ºäº†å¯è¯»æ€§ï¼Œå’±ä»¬æœ€å¥½è¿˜æ˜¯åŠ ä¸Š</em></p>
<p>è™šæ–¹æ³•ä¼šäº§ç”Ÿä¸€å®šç¨‹åº¦çš„é¢å¤–å†…å­˜ä¸æ€§èƒ½å¼€é”€ï¼Œä½†æ˜¯å®é™…ä¸Šå½±å“å¾ˆå°ï¼Œwho caresï¼Ÿç”¨å°±å®Œäº‹äº†ğŸ¤£</p>
<hr>
<h2 id="çº¯è™šå‡½æ•°-æ¥å£ï¼ˆ29ï¼‰">çº¯è™šå‡½æ•°/æ¥å£ï¼ˆ29ï¼‰</h2>
<p>çº¯è™šå‡½æ•°æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„è™šå‡½æ•°ï¼Œå…¶æœ¬è´¨ä¸Šä¸Java/C#ä¸­çš„æŠ½è±¡æ–¹æ³•æˆ–æ¥å£ç›¸åŒ</p>
<blockquote>
<p><strong>çº¯è™šå‡½æ•°å…è®¸æˆ‘ä»¬åœ¨åŸºç±»ä¸­å®šä¹‰ä¸€ä¸ªæ²¡æœ‰å®ç°çš„å‡½æ•°ï¼Œç„¶åå¼ºåˆ¶å­ç±»å®ç°è¯¥å‡½æ•°</strong></p>
</blockquote>
<p>åœ¨OOPä¸­ï¼Œåˆ›å»ºä¸€ä¸ªç±»ï¼Œåªç”±æœªå®ç°çš„æ–¹æ³•æ„æˆï¼Œç„¶åå¼ºåˆ¶å­ç±»å®ç°å®ƒä»¬ï¼Œæ˜¯éå¸¸å¸¸è§çš„éœ€æ±‚ï¼Œæˆ‘ä»¬å¸¸å¸¸ç§°å…¶ä¸º<strong>æ¥å£</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> std::string <span class="title">GetName</span><span class="params">()</span> </span>= <span class="number">0</span>ï¼›</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å°†ä¸€ä¸ªè™šæ–¹æ³•çš„å‡½æ•°ä½“åˆ é™¤ï¼Œå¹¶ä½¿å…¶ç­‰äº0ï¼Œä¾¿å½¢æˆäº†ä¸€ä¸ªçº¯è™šå‡½æ•°ï¼Œè‹¥å…¶æ²¡æœ‰è¢«æŸä¸€å­ç±»å®ç°ï¼Œåˆ™è¯¥å­ç±»ä¸å…¶éƒ½æ— æ³•è¿›è¡Œå®ä¾‹åŒ–</p>
<p>æ¥å£ï¼ˆ<code>interface</code>ï¼‰é€šå¸¸ä½œä¸ºå¯¹â€œç±»å­˜åœ¨æŸä¸€æ–¹æ³•â€çš„æ£€æŸ¥ä¸ä¿è¯è€Œå­˜åœ¨ï¼ŒC#ä¸­æœ‰ä¸“é—¨çš„<code>interface</code>å…³é”®å­—ï¼Œä½†C++ä¸­æ²¡æœ‰ï¼ŒC++çš„æ¥å£åªæ˜¯ä¸€ä¸ªéƒ½æ˜¯çº¯è™šå‡½æ•°çš„ç±»</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Printable</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> std::string <span class="title">PrintName</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">(Printable* obj)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; obj-&gt;<span class="built_in">PrintName</span>() &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ<code>Printable</code>ç±»ä½œä¸ºä¸€ä¸ªæ¥å£å­˜åœ¨ï¼Œå…¶ä¿è¯äº†å…¶æ‰€æœ‰å­ç±»éƒ½ä¸€å®šå®ç°äº†<code>PrintName()</code>æ–¹æ³•ï¼ŒåŒæ—¶å¤šæ€çš„ç‰¹æ€§ä½¿å¾—å…¶æ‰€æœ‰å­ç±»åŒæ—¶ä¹Ÿæ˜¯<code>Printable</code>ç±»ï¼Œè¿™æ ·<code>Print()</code>å‡½æ•°çš„å‚æ•°ä¸­ï¼Œå°†æŒ‡å‘<code>Printable</code>ç±»çš„æŒ‡é’ˆä¼ å…¥å³å¯ï¼Œæ— éœ€å…³å¿ƒä¼ å…¥çš„å…·ä½“ç±»å‹ï¼Œåªéœ€ä¼ å…¥çš„ç±»ç»§æ‰¿äº†<code>Printable</code></p>
<hr>
<h2 id="å¯è§æ€§ï¼ˆ30ï¼‰">å¯è§æ€§ï¼ˆ30ï¼‰</h2>
<blockquote>
<p><strong>å¯è§æ€§æ˜¯ä¸€ä¸ªå±äºOOPçš„æ¦‚å¿µï¼Œå®ƒæŒ‡çš„æ˜¯ç±»çš„æŸäº›æˆå‘˜æˆ–æ–¹æ³•å®é™…ä¸Šèƒ½è¢«è°è°ƒç”¨ï¼ˆç±»ä¼¼äºè®¿é—®æƒé™ï¼‰</strong></p>
</blockquote>
<p><em>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯è§æ€§æ˜¯å¯¹ç¨‹åºå®é™…è¿è¡Œå®Œå…¨æ²¡æœ‰å½±å“çš„ä¸œè¥¿ï¼Œä¸å½±å“æ€§èƒ½ä¸å†…å­˜ï¼Œå®ƒæ˜¯çº¯ç²¹å­˜åœ¨åœ¨è¯­è¨€ä¸­çš„ä¸œè¥¿ï¼Œåªæ˜¯ä¸ºäº†å¸®ä½ æ›´å¥½åœ°ç»„ç»‡ä»£ç </em></p>
<p><strong>C++ä¸­æœ‰ä¸”åªæœ‰ä¸‰ä¸ªå¯è§æ€§ä¿®é¥°ç¬¦ï¼š</strong></p>
<ul>
<li><code>public</code>ï¼šéƒ½å¯è§</li>
<li><code>protected</code>ï¼šç»§æ‰¿ä½“ç³»ä¸­éƒ½å¯è§</li>
<li><code>private</code>ï¼šåªæœ‰åœ¨ç±»å†…ä¸å…¶å‹å…ƒï¼ˆ<code>friend</code>ï¼‰å¯è§</li>
</ul>
<p><strong>ä¸ºå•¥ä¸è®©ä¸€åˆ‡<code>public</code>å‘¢ï¼Ÿ</strong></p>
<p>ä¸ºäº†è®©ä»£ç æ›´åŠ å®¹æ˜“ç»´æŠ¤ã€å®¹æ˜“ç†è§£ï¼Œä¸ç®¡é˜…è¯»ä»£ç è¿˜æ˜¯æ‹“å±•ä»£ç </p>
<p>ä»£ç æ˜¯ä¸ªé”™ç»¼å¤æ‚çš„ä¸œè¥¿ï¼Œè€Œå¯è§æ€§æ˜¯ä¸€ç§â€è­¦å‘Šæ ‡ç¤ºâ€œï¼Œå½“ä¸€ä¸ªæ–¹æ³•/å­—æ®µè¢«æ ‡è®°ä¸º<code>private</code>æ—¶ï¼Œè¿™æ„å‘³ç€è¿™æ®µä»£ç çš„ä½œè€…ä¸å¸Œæœ›å…¶è¢«å¤–ç•Œè°ƒç”¨ï¼Œè¿™å‘Šè¯‰äº†åˆ«äººâ€œè¿™ä¸æ˜¯ä½ è¯¥ç¢°çš„ä¸œè¥¿â€ï¼ŒåŒæ—¶ï¼Œä¹Ÿä»£è¡¨ç€ä¿®æ”¹è¿™ä¸ªå¯èƒ½å¸¦æ¥æ„æ–™ä¹‹å¤–çš„ç¾éš¾</p>
<p>å¦‚ä¸€ä¸ªUIç±»ï¼Œä½ æƒ³ä¿®æ”¹ä¸€ä¸ªUIçš„ä½ç½®ï¼Œç›´æ¥è®¿é—®è¿™ä¸ªç±»ä¸­çš„ç§æœ‰çš„<code>posX</code>ï¼Œ<code>posY</code>å¾ˆå¯èƒ½å¹¶ä¸ä¼šå¸¦æ¥é¢„æœŸçš„ç»“æœï¼Œè™½ç„¶å†…å­˜ä¸­xyçš„å€¼å˜äº†ï¼Œä½†æ˜¯æ˜¾ç¤ºå™¨éœ€è¦åˆ·æ–°ï¼Œæˆ–è®¸ä¸€äº›å…¶ä»–çš„ä¸œè¥¿éœ€è¦ä¿®æ”¹ï¼Œè¿™ä¸€åˆ‡ä½ éƒ½æ— ä»å¾—çŸ¥</p>
<hr>
<h2 id="æ•°ç»„ï¼ˆ31ï¼‰">æ•°ç»„ï¼ˆ31ï¼‰</h2>
<blockquote>
<p><strong>æ•°ç»„æ˜¯å…ƒç´ çš„é›†åˆï¼Œä¸€èˆ¬æ˜¯ä¸€å †ç›¸åŒç±»å‹çš„å˜é‡</strong></p>
</blockquote>
<p>æ•°ç»„çš„å®šä¹‰éå¸¸ç®€å•ï¼Œ<code>ç±»å‹ æ•°ç»„å[å¤§å°]</code>å³å¯ï¼Œå¦‚<code>int example[5]</code>å®šä¹‰äº†ä¸€ä¸ªå¯ä»¥å®¹çº³5ä¸ªæ•´å½¢å˜é‡çš„æ•°ç»„</p>
<p><em>å½“æˆ‘ä»¬è¯•å›¾è®¿é—®<code>example[-1]</code>/<code>example[5]</code>è¿™æ ·è¶…å‡ºæ•°ç»„èŒƒå›´çš„å†…å­˜æ—¶ï¼Œåœ¨Debugæ¨¡å¼ä¸­ï¼Œç¨‹åºä¼šå´©æºƒï¼Œä½†åœ¨Releaseæ¨¡å¼ä¸­ï¼Œä½ å¯èƒ½ä¸ä¼šå¾—åˆ°æŠ¥é”™ä¿¡æ¯ï¼Œè¿™æ„å‘³ç€ä½ å†™å…¥äº†ä¸å±äºæ•°ç»„çš„å†…å­˜ï¼Œè®©ä¸€äº›ä¸æ”¹è¢«æ”¹å˜çš„å†…å­˜æ”¹å˜äº†ï¼Œè¿™ä¼šå¯¼è‡´éå¸¸éš¾ä»¥Debugçš„åæœï¼Œæˆ‘ä»¬éœ€è¦åšå¥½è¾¹ç•Œå®‰å…¨æ£€æŸ¥ï¼Œå°½é‡é˜²æ­¢è¿™ç§æƒ…å†µå‡ºç°</em></p>
<p>å…³äºæ•°ç»„æœ€é‡è¦çš„ä¸€ç‚¹æ˜¯ï¼Œå…¶<strong>è¿ç»­åœ°å‚¨å­˜æ•°æ®</strong>ï¼Œè¿™æ„å‘³ç€å…¶å°†å…ƒç´ æ”¾åˆ°äº†ä¸€æ’è¿›è¡Œå‚¨å­˜ï¼Œåœ¨å†…å­˜ä¸Šå®ƒä»¬æ˜¯è¿ç»­åœ°ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªå¤§å°ä¸º5çš„æ•´å½¢æ•°ç»„ï¼Œå…¶ä¾¿ä¼šè¿ç»­åœ°å æ®20ä¸ªå­—èŠ‚çš„å†…å­˜ï¼Œæ¯ä¸ªæ•´å½¢å˜é‡ç›´æ¥æœ‰è¿™å›ºå®šçš„å†…å­˜åç§»</p>
<p>å…³äº<strong>æ•°ç»„çš„åˆ›å»º</strong>ï¼Œå­˜åœ¨ç€ä¸¤ç§æ–¹æ³•å¯¹æ•°ç»„è¿›è¡Œåˆ›å»ºï¼Œå®ƒä»¬åˆ†åˆ«ä¼šå°†æ•°ç»„åˆ›å»ºåœ¨<code>æ ˆ</code>æˆ–è€…<code>å †</code>ä¸­</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> example[<span class="number">5</span>]; <span class="comment">// æ ˆä¸­</span></span><br><span class="line">    <span class="type">int</span>* example2 = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">5</span>]; <span class="comment">// å †ä¸­</span></span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºåœ¨æ ˆä¸­çš„å˜é‡åœ¨ä½œç”¨åŸŸç»“æŸæ—¶ï¼Œå…¶å†…å­˜ä¼šè¢«è‡ªåŠ¨åœ°é‡Šæ”¾</p>
<p>åˆ›å»ºåœ¨å †ä¸­çš„åˆ™ä¸åŒï¼Œéœ€è¦æˆ‘ä»¬é€šè¿‡<code>delete</code>å…³é”®å­—æ‰‹åŠ¨åœ°å¯¹å…¶å†…å­˜è¿›è¡Œé‡Šæ”¾</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span>[] example2ï¼›<span class="comment">// é‡Šæ”¾æ ˆä¸­çš„å†…å­˜</span></span><br></pre></td></tr></table></figure>
<p>åœ¨C++11çš„åº“ä¸­ï¼Œå­˜åœ¨ç€å†…ç½®çš„æ•°ç»„æ•°æ®ç»“æ„<code>std::array</code>,å®ƒæœ‰ç€è®¸å¤šä¼˜ç‚¹ï¼Œå¦‚è¾¹ç•Œæ£€æŸ¥ã€è®°å½•æ•°ç»„å¤§å°</p>
<p>è€Œåœ¨åŸå§‹çš„æ•°ç»„ä¸­ï¼ŒåŠ¨æ€åœ°å–å¾—æ•°ç»„çš„å¤§å°æ˜¯ä¸€ä»¶éå¸¸å›°éš¾ã€å±é™©è€Œä¸å¯é çš„äº‹ï¼Œå¹¶ä¸å­˜åœ¨ç±»ä¼¼<code>size</code>çš„ç›´æ¥è¿”å›æ•°ç»„å¤§å°çš„å­—æ®µæˆ–æ–¹æ³•ï¼Œè¦åšåˆ°è¿™ä»¶äº‹ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°<code>sizeof(example) / sizeof(int)</code>çš„æ–¹æ³•ï¼Œä½†æ˜¯æˆ‘ä»¬ç»å¸¸é‡‡ç”¨æŒ‡é’ˆæ¥è¡¨ç¤ºæ•°ç»„ï¼Œå¦‚æœä¼ å…¥çš„æ˜¯æŒ‡é’ˆè€Œä¸æ˜¯å®é™…çš„æ•°ç»„é‚£ä¹ˆæˆ‘ä»¬å°†å¯èƒ½ä¸ä¼šå¾—åˆ°é¢„æœŸçš„ç»“æœï¼›å¯¹äºåŸå§‹æ•°ç»„æ¥è¯´ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦æ‰‹åŠ¨ç»´æŠ¤ä¸€ä¸ª<code>static</code>çš„å¸¸é‡æ¥æ ‡ç¤ºå…¶å¤§å°</p>
<p>è€Œå¯¹äº<code>std::array</code>æ¥è¯´äº‹æƒ…ä¾¿ä¼šå˜å¾—ç®€å•è®¸å¤šï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::array&lt;<span class="type">int</span>, 5&gt; example;</span><br><span class="line">    std::cout &lt;&lt; example.<span class="built_in">size</span>() &lt;&lt; std::endl;</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡<code>size()</code>æ–¹æ³•æˆ‘ä»¬å¯ä»¥è½»æ¾åœ°è·å¾—æ•°ç»„å¤§å°ï¼Œè¿™çš„ç¡®ä¼šå¸¦æ¥ä¸€äº›é¢å¤–çš„å¼€é”€ï¼Œä½†ä¹Ÿä¼šè®©ä½ çš„ä»£ç æ›´åŠ å®‰å…¨ï¼Œanywayï¼Œwho cares?ğŸ¤£</p>
<hr>
<h2 id="å­—ç¬¦ä¸²ï¼ˆ32ï¼‰">å­—ç¬¦ä¸²ï¼ˆ32ï¼‰</h2>
<blockquote>
<p><strong>å­—ç¬¦ä¸²æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè¿ç€ä¸€ä¸ªçš„ä¸€è¿ä¸²å­—ç¬¦ï¼Œå¯¹äºæˆ‘ä»¬æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ç§èƒ½å¤Ÿè¡¨ç¤ºå’Œå¤„ç†æ–‡æœ¬çš„æ–¹æ³•</strong></p>
</blockquote>
<p>å­—ç¬¦ï¼Œå³ä¸º<code>char</code>æ•°æ®ç±»å‹ï¼Œè€Œå­—ç¬¦ä¸²å®é™…ä¸Šæ˜¯å­—ç¬¦æ•°ç»„ï¼Œæ•°ç»„æ˜¯å…ƒç´ çš„é›†åˆï¼Œæ•…è€Œå­—ç¬¦ä¸²ä¾¿æ˜¯å­—ç¬¦çš„é›†åˆï¼Œä¸€ç»„å­—ç¬¦ç»„æˆäº†å­—ç¬¦ä¸²æ–‡æœ¬</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">char</span>* name = <span class="string">&quot;Hmxs&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯Cè¯­è¨€é£æ ¼å®šä¹‰å­—ç¬¦ä¸²çš„æ–¹å¼ï¼ŒC++ä¸­å­˜åœ¨<code>string</code>åº“è®©ä¸€åˆ‡å˜å¾—ç®€å•ï¼Œä½†æ˜¯ä»æºå¤´äº†è§£å®ƒä»¬å¦‚ä½•å·¥ä½œä»ç„¶å¾ˆé‡è¦</p>
<p>å®é™…ä¸Šåœ¨å£°æ˜ä¸­ï¼Œæˆ‘ä»¬å¹¶ä¸ä¸€å®šè¦åŠ ä¸Š<code>const</code>å…³é”®å­—ï¼Œä½†äººä»¬é€šå¸¸è¿™æ ·åšçš„åŸå› æ˜¯ï¼Œä¸æƒ³æ”¹å˜å­—ç¬¦ä¸²çš„å€¼ï¼Œå› ä¸ºå­—ç¬¦ä¸²ä»æ•´ä½“æ˜¯ä¸å¯å˜çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªå›ºå®šåˆ†é…çš„å†…å­˜å—*ï¼ˆåœ¨VSä¸­ï¼Œå•ç‹¬æ›´æ”¹å…¶ä¸­çš„æŸä¸ªå­—ç¬¦æ˜¯å¯è¡Œçš„ï¼Œå¦‚æœä½ å¸Œæœ›è¿™æ ·åšï¼Œå°±ä¸èƒ½åŠ ä¸Š<code>const</code>ï¼Œä½†é€šå¸¸æˆ‘ä»¬ä¸åº”è¯¥è¿™æ ·æ”¹å˜å­—ç¬¦ä¸²ï¼Œè¿™å¯èƒ½å¯¼è‡´æœªå®šä¹‰è¡Œä¸ºçš„é”™è¯¯ï¼Œåœ¨ä¸€äº›ç¼–è¯‘å™¨å¦‚Clangä¸­ï¼Œè¿™ç§åšæ³•æ˜¯è¢«ç¦æ­¢çš„ï¼‰*ï¼Œå¦‚æœä½ éœ€è¦ä¸€ä¸ªæ›´å¤§çš„å­—ç¬¦ä¸²ï¼Œä½ éœ€è¦æ‰§è¡Œä¸€ä¸ªå…¨æ–°çš„åˆ†é…å¹¶åˆ é™¤æ—§æœ‰çš„å­—ç¬¦ä¸²</p>
<p><strong>åœ¨å­—ç¬¦ä¸²æ•°ç»„çš„æœ«å°¾éƒ½å­˜åœ¨ä¸€ä¸ª<code>\0</code>çš„ç©ºç»ˆæ­¢å­—ç¬¦ï¼Œå…¶ç”¨æ¥æ ‡ç¤ºå­—ç¬¦ä¸²çš„ç»“æŸ</strong>ï¼Œå› ä¸ºå­—ç¬¦ä¸²å®é™…ä¸Šæ˜¯ä¸€ä¸ª<code>char*</code>ç±»å‹çš„æŒ‡é’ˆï¼Œç¼–è¯‘å™¨å¹¶ä¸èƒ½çŸ¥é“å®ƒæœ‰å¤šå¤§ï¼Œéœ€è¦ä¸€ä¸ªç‰¹å®šå­—ç¬¦ä½œä¸ºæ ‡ç¤ºï¼Œè€Œå½“æˆ‘ä»¬æ‰‹åŠ¨å£°æ˜å­—ç¬¦ä¸²æ•°ç»„æ—¶ï¼Œå¦‚<code>char name[5]</code>æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨çš„åœ¨å…¶æœ€åæ·»åŠ <code>â€˜\0â€™</code>æˆ–<code>0</code>ä½œä¸ºç©ºç»ˆæ­¢å­—ç¬¦ï¼Œå¦åˆ™å­—ç¬¦ä¸²æ•°ç»„æ— æ³•æˆç«‹ï¼Œå¹¶ä¸”åœ¨æˆ‘ä»¬è°ƒç”¨å®ƒæ—¶ï¼Œå…¶ä¼šä¸æ–­å‘åå¯»å€ï¼ŒçŸ¥åˆ°é‡åˆ°ç©ºç»ˆæ­¢å­—ç¬¦ï¼Œè¿™å°†å¯¼è‡´å¾ˆå¤šé—®é¢˜</p>
<p><strong>C++ä¸­çš„å­—ç¬¦ä¸²ï¼š</strong></p>
<p>åœ¨ä¸Šé¢çš„å™è¿°ä¸­ï¼Œæˆ‘ä»¬å·²ç»äº†è§£äº†å­—ç¬¦ä¸²åˆ°åº•æ˜¯å¦‚ä½•å·¥ä½œçš„äº†ï¼Œæ˜¯æ—¶å€™make things easieräº†</p>
<p>C++ä¸­çš„æ¨¡æ¿åº“<code>std::string</code>å®é™…ä¸Šåªæ˜¯ä¸€ä¸ª<code>char</code>æ•°ç»„ï¼Œå…¶æœ‰ç€è®¸å¤šæ–¹æ³•æ¥å¸®åŠ©æˆ‘ä»¬æ›´æ–¹ä¾¿åœ°æ“ä½œè¿™ä¸ªæ•°ç»„</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">std::string name = <span class="string">&quot;Hmxs&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>ç›´æ¥ä½¿ç”¨<code>std::string</code>ä¾¿å¯ä»¥å£°æ˜ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡ï¼Œstringæœ‰ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå®ƒæ¥å—<code>char*</code>æˆ–<code>const char*</code>å‚æ•°</p>
<p>åœ¨<code>std::string</code>ä¸­å­˜åœ¨ç€è®¸å¤šæ–¹ä¾¿çš„æ–¹æ³•ï¼Œå¦‚é‡è½½è¿‡çš„<code>+=</code>è¿ç®—ç¬¦å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿé“¾æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œ<code>size()</code>å¯ä»¥è¿”å›å­—ç¬¦ä¸²é•¿åº¦ï¼Œ<code>find()</code>åœ¨å­—ç¬¦ä¸²ä¸­è¿›è¡ŒæŸ¥è¯¢ï¼Œä¸‹é¢æ˜¯ä¸€äº›ç”¨ä¾‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::string name = std::<span class="built_in">string</span>(<span class="string">&quot;Hmxs&quot;</span>) + <span class="string">&quot;Hello&quot;</span>;<span class="comment">// é“¾æ¥å­—ç¬¦ä¸²æ³•1</span></span><br><span class="line">    name += <span class="string">&quot;Hi!&quot;</span>; <span class="comment">// é“¾æ¥å­—ç¬¦ä¸²æ³•2</span></span><br><span class="line">    <span class="type">bool</span> contains = name.<span class="built_in">find</span>(<span class="string">&quot;xs&quot;</span>) != std::string::npos; <span class="comment">// æŸ¥æ‰¾åŒ¹é…</span></span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“æˆ‘ä»¬ä¼ é€’std::stringç±»å‹çš„å˜é‡ä½œä¸ºå‚æ•°æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¸ä¼šç›´æ¥ä¼ é€’å®ƒä»¬ï¼Œå› ä¸ºç›´æ¥ä¼ é€’ç±»å¯¹è±¡å®é™…ä¸Šæ˜¯ä¸€ä¸ªå¤åˆ¶çš„è¿‡ç¨‹ï¼Œè€Œå¤åˆ¶å­—ç¬¦ä¸²æ„å‘³ç€ä½ éœ€è¦åœ¨å †ä¸Šé‡æ–°åˆ†é…ä¸€ç‰‡å†…å­˜ç©ºé—´å¹¶ä¸”è¿›è¡Œå­—ç¬¦ä¸²çš„å¤åˆ¶ï¼Œè¿™ä¸ªè¿‡ç¨‹æ•ˆç‡å¾ˆä½ï¼Œæ•…è€Œæˆ‘ä»¬é€šè¿‡é‡‡ç”¨è¢«<code>const</code>ä¿®é¥°çš„å¼•ç”¨æ¥è¿›è¡Œä¼ é€’ï¼Œ<code>const</code>æ„å‘³ç€ä¸å¯å˜ï¼Œæˆ‘ä»¬æ‰¿è¯ºä¸ä¼šåœ¨è¿™å…¶ä¸­å¯¹å­—ç¬¦ä¸²è¿›è¡Œä¿®æ”¹</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintString</span><span class="params">(<span class="type">const</span> std::string&amp; string)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; string &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::string name = <span class="string">&quot;Hmxs&quot;</span>;</span><br><span class="line">    <span class="built_in">PrintString</span>(name);</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="å­—ç¬¦ä¸²å­—é¢é‡ï¼ˆ33ï¼‰">å­—ç¬¦ä¸²å­—é¢é‡ï¼ˆ33ï¼‰</h2>
<blockquote>
<p><strong>å­—ç¬¦å­—é¢é‡æ˜¯åœ¨åŒå¼•å·ä¹‹é—´çš„ä¸€ä¸²å­—ç¬¦</strong></p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;Hmxs&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥åƒè¿™æ ·åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢é‡ï¼Œè€Œå®ƒæœ€åä¼šå˜æˆä»€ä¹ˆï¼Œå–å†³äºå¾ˆå¤šå› ç´ </p>
<p>åœ¨æœ€åŸºæœ¬çš„æƒ…å†µä¸‹ï¼Œ<code>&quot;Hmxs&quot;</code>ä¼šæ˜¯ä¸€ä¸ªconst charæ•°ç»„ï¼Œé•¿åº¦5ï¼Œå› ä¸ºåœ¨å­—ç¬¦ä¸²çš„æœ€åéœ€è¦å­˜åœ¨ç©ºç»ˆæ­¢å­—ç¬¦ï¼ˆè‹¥æˆ‘ä»¬åœ¨å­—ç¬¦ä¸²ä¸­é—´æ·»åŠ â€™\0â€™ï¼Œä¼šç ´åå­—ç¬¦ä¸²çš„æ„æˆï¼‰</p>
<p>åœ¨æˆ‘ä»¬ä½¿ç”¨å­—ç¬¦ä¸²å­—é¢é‡æ—¶ï¼Œæˆ‘ä»¬æœ€å¥½ä¸ºæˆ‘ä»¬çš„å£°æ˜åŠ ä¸Š<code>const</code>ï¼Œè™½ç„¶VSçš„ç¼–è¯‘å™¨å…è®¸æˆ‘ä»¬ä½¿ç”¨<code>name[2] = â€˜aâ€™</code>è¿™æ ·çš„ä»£ç ï¼Œä½†è¿™å¾€å¾€æ˜¯ä¸å¯é çš„ï¼Œåœ¨releaseæ¨¡å¼ä¸‹ï¼Œå­—ç¬¦ä¸²å­—é¢é‡çš„å†…å­˜ä¼šè¢«å‚¨å­˜åœ¨åªè¯»å†…å­˜ä¸­ï¼Œä¿®æ”¹å®ƒä»¬å¾€å¾€ä¸ä¼šæˆåŠŸ</p>
<p>C++è¿˜æä¾›äº†è®¸å¤šé¢å¤–çš„å­—ç¬¦ä¸²ç±»å‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">char</span>* name = <span class="string">u8&quot;Hmxs&quot;</span>; <span class="comment">// 1å­—èŠ‚</span></span><br><span class="line"><span class="type">const</span> <span class="type">wchar_t</span>* name2 = <span class="string">L&quot;Hmxs&quot;</span>; <span class="comment">// 2å­—èŠ‚ å®½å­—ç¬¦</span></span><br><span class="line"><span class="type">const</span> <span class="type">char16_t</span>* name3 = <span class="string">u&quot;Hmxs&quot;</span>; <span class="comment">// 2å­—èŠ‚</span></span><br><span class="line"><span class="type">const</span> <span class="type">char32_t</span>* name4 = <span class="string">U&quot;Hmxs&quot;</span>; <span class="comment">// 4å­—èŠ‚</span></span><br></pre></td></tr></table></figure>
<p>å…³äºå­—ç¬¦ä¸²å­—é¢é‡çš„å†…å­˜ï¼šå­—ç¬¦ä¸²å­—é¢é‡<strong>æ°¸è¿œ</strong>ä¿å­˜åœ¨å†…å­˜çš„åªè¯»åŒºåŸŸå†…</p>
]]></content>
      <categories>
        <category>Notes</category>
        <category>C/C++</category>
        <category>TheCherno</category>
      </categories>
      <tags>
        <tag>C/C++</tag>
        <tag>Note</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Œæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€è¯»ä¹¦ç¬”è®°ä¸‰ï¼šäº«å…ƒæ¨¡å¼ã€è§‚å¯Ÿè€…æ¨¡å¼</title>
    <url>/posts/2003/</url>
    <content><![CDATA[<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304032232057.jpeg" alt="img"></p>
<blockquote>
<p><strong>ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹-Bob Nystrom</strong></p>
<p><strong>ä¹¦ç±æ±‰åŒ–ç‰ˆç½‘å€ï¼š<a href="https://gpp.tkchu.me/">https://gpp.tkchu.me/</a></strong></p>
<p><strong>ç¬”è®°ç›®å½•ï¼š<a href="https://hmxs.games/posts/2000/">https://hmxs.games/posts/2000/</a></strong></p>
</blockquote>
<hr>
<h1>äº«å…ƒæ¨¡å¼</h1>
<h2 id="åŸºæœ¬å®šä¹‰ä¸æ¦‚å¿µ">åŸºæœ¬å®šä¹‰ä¸æ¦‚å¿µ</h2>
<p>äº«å…ƒæ¨¡å¼(FlyweightPattern)æ˜¯ä»¥æ•ˆç‡ä¸ºæ ¸å¿ƒçš„è®¾è®¡æ¨¡å¼ï¼Œå½“æˆ‘ä»¬æœ‰å¤§é‡ç±»ä¼¼å¯¹è±¡éœ€è¦è¿›è¡Œå®ä¾‹åŒ–æ—¶ï¼Œå¦‚æœç›´æ¥ä¸€ä¸ªä¸€ä¸ªç±»çš„è¿›è¡Œåˆ›å»ºï¼Œé‚£å…¶å°†å ç”¨å¤§é‡çš„å†…å­˜ç©ºé—´ã€‚è€Œäº«å…ƒæ¨¡å¼å°†å…¶å¯¹è±¡çš„æ•°æ®åˆ†ä¸ºä¸¤éƒ¨åˆ†â€”å…±äº«éƒ¨åˆ†(å¦‚æè´¨ã€æ¨¡å‹)ä¸å…¶ä»–éƒ¨åˆ†(å¦‚å¤§å°ã€åæ ‡)åˆ†åˆ«å‚¨å­˜ï¼Œå…±äº«éƒ¨åˆ†åªå£°æ˜ä¸€ç‰‡å›ºå®šç©ºé—´ï¼Œæ‰€æœ‰å¯¹è±¡æŒæœ‰å¯¹è¯¥ç©ºé—´çš„å¼•ç”¨ï¼Œè¿™æ ·ç”Ÿæˆå¯¹è±¡æ—¶ä¾¿åªéœ€è¦å…³å¿ƒå…¶ä»–éƒ¨åˆ†çš„æ•°æ®å³å¯ã€‚</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304032355080.png" alt="ä¸€è¡Œæ ‘ï¼Œæ¯æ£µéƒ½æœ‰è‡ªå·±çš„ç½‘æ ¼ã€çº¹ç†ã€æ ‘å¶ï¼Œè°ƒèŠ‚å‚æ•°å’Œä½ç½®æœå‘ã€‚" style="zoom: 67%;" />
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304032355211.png" alt="ä¸€è¡Œæ ‘ï¼Œæ¯ä¸ªéƒ½æœ‰è‡ªå·±çš„å‚æ•°å’Œä½ç½®æœå‘ï¼ŒæŒ‡å‘å¦ä¸€ä¸ªæœ‰ç½‘æ ¼ã€çº¹ç†ã€æ ‘å¶çš„æ ‘æ¨¡å‹ã€‚" style="zoom:67%;" />
<h3 id="åº”ç”¨åœºæ™¯">åº”ç”¨åœºæ™¯</h3>
<ul>
<li>æœ‰å¤§é‡ç›¸åŒç›¸ä¼¼å¯¹è±¡éœ€è¦å®ä¾‹åŒ–</li>
<li>è¿™äº›å¯¹è±¡å­˜åœ¨æ•°æ®å¯ä»¥å…±äº«</li>
</ul>
<h3 id="ä¼˜ç‚¹">ä¼˜ç‚¹</h3>
<ul>
<li>èŠ‚çœå†…å­˜å¼€é”€ï¼Œæé«˜æ•ˆç‡</li>
<li>åœ¨å¤§é‡åˆ›å»ºå®ä¾‹æ—¶æ›´æ–¹ä¾¿ç®¡ç†</li>
</ul>
<h3 id="ç¼ºç‚¹">ç¼ºç‚¹</h3>
<ul>
<li>å¦‚æœéœ€è¦å®ä¾‹åŒ–çš„å¯¹è±¡ä¸å¤Ÿå¤šï¼Œäº«å…ƒæ¨¡å¼çš„å¼•å…¥åè€Œä¼šå¢åŠ ä»£ç ç®¡ç†æˆæœ¬</li>
<li>åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹å¯èƒ½æ›´åŠ ç¹ç</li>
</ul>
<h2 id="Unityç®€å•å®ç°">Unityç®€å•å®ç°</h2>
<p>Unityä¸­çš„é¢„åˆ¶ä½“ã€æè´¨çƒç­‰æœ¬èº«ä¾¿æ˜¯åº”ç”¨äº«å…ƒæ¨¡å¼è¿›è¡Œå¼€å‘çš„ï¼Œå¦‚å¤šä¸ªç‰©ä½“å…±ç”¨ä¸€ä¸ªæè´¨çƒç­‰</p>
<p>äº«å…ƒçš„æ ¸å¿ƒå…¶å®ä¾¿æ˜¯å…±äº«ä¸€éƒ¨åˆ†ä¸å˜çš„æ•°æ®æ¥èŠ‚çœç©ºé—´ï¼Œåœ¨Unityä¸­é€šè¿‡ScriptableObject,é™æ€ç±»ç­‰éƒ½å¯ä»¥å®ç°å…±äº«æ•°æ®è¿™ä¸€åŠŸèƒ½ï¼ŒåŒæ—¶å…¶ä¸å»ºé€ è€…æ¨¡å¼ã€å·¥å‚æ¨¡å¼éƒ½æœ‰ç€ä¸é”™çš„ç›¸æ€§</p>
<p>ä»¥ä¸‹ä¸ºä¸€äº›ç®€å•çš„å®ç°ï¼š</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">FlyweightPattern</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> å…±äº«æ•°æ®ç±»(ä½¿ç”¨Structåº”è¯¥ä¹Ÿè¡Œ)</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> åœ¨å…·ä½“å¯¹è±¡ä¸­æŒæœ‰è¯¥ç±»çš„å¼•ç”¨å³å¯</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">FlyweightClass</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// å…±äº«æ•°æ®</span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Hp;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">float</span> Speed;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">FlyweightClass</span>(<span class="params"><span class="built_in">int</span> hp, <span class="built_in">float</span> speed</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Hp = hp;</span><br><span class="line">            Speed = speed;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> å…±äº«æ•°æ®SO</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> åœ¨èœå•ä¸­å³é”®åˆ›å»ºSOæ–‡ä»¶æˆ–ä½¿ç”¨ScriptableObject.CreateInstanceæ–¹æ³•åˆ›å»ºSOå®ä¾‹</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> åœ¨å…·ä½“å¯¹è±¡ä¸­æŒæœ‰SOæ–‡ä»¶çš„å¼•ç”¨å³å¯</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    [<span class="meta">CreateAssetMenu(fileName = <span class="string">&quot;Data&quot;</span>,menuName = <span class="string">&quot;SO/Flyweight&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">FlyweightSO</span> : <span class="title">ScriptableObject</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> hp;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">float</span> speed;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h1>è§‚å¯Ÿè€…æ¨¡å¼</h1>
<h2 id="åŸºæœ¬å®šä¹‰ä¸æ¦‚å¿µ-2">åŸºæœ¬å®šä¹‰ä¸æ¦‚å¿µ</h2>
<p>è§‚å¯Ÿè€…æ¨¡å¼(ObserverPattern)æ˜¯ä¸€ç§å¯ä»¥å°†ä»£ç çš„è°ƒç”¨ä¸å¯¹äºè°ƒç”¨çš„å“åº”åˆ†ç¦»çš„è®¾è®¡æ¨¡å¼ï¼Œè¿™æ˜¯ä¸€ç§æé‡è¦çš„è®¾è®¡æ¨¡å¼ï¼ŒC#ä¸­çš„eventç³»ç»Ÿä¾¿æ˜¯åŸºäºè§‚å¯Ÿè€…æ¨¡å¼å®ç°çš„ã€‚åœ¨è§‚å¯Ÿè€…æ¨¡å¼ä¸­ï¼Œè§‚å¯Ÿè€…æ‹¥æœ‰å…·ä½“çš„éœ€è¦æ‰§è¡Œçš„ä»£ç ï¼Œè¢«è§‚å¯Ÿè€…åˆ™ä»…éœ€è¦è´Ÿè´£å‘å‡ºé€šçŸ¥ï¼Œè§‚å¯Ÿè€…ç›‘å¬åˆ°äº†å¯¹åº”çš„é€šçŸ¥å°±ä¼šæ‰§è¡Œå¯¹åº”çš„ä»£ç ã€‚å½“æˆ‘ä»¬ç¼–å†™è¢«è§‚å¯Ÿè€…çš„å…¶ä»–ä»£ç æ—¶ï¼Œä¾¿æ— éœ€å…³å¿ƒå¥‡æ€ªçš„è€¦åˆé—®é¢˜ï¼Œåªéœ€è¦ä¸“æ³¨äºè¢«è§‚å¯Ÿè€…æœ¬èº«ï¼Œåœ¨éœ€è¦è§¦å‘å¯¹åº”äº‹ä»¶çš„æ—¶å€™å‘å‡ºé€šçŸ¥å³å¯ã€‚</p>
<h3 id="åº”ç”¨åœºæ™¯-2">åº”ç”¨åœºæ™¯</h3>
<ul>
<li>å½“ä¸€ä¸ªäº‹ä»¶ä¼šè§¦å‘ä¸€ä¸ªæˆ–å¤šä¸ªåˆ†å±äºä¸åŒç³»ç»Ÿçš„è¡Œä¸ºæ—¶</li>
<li>å½“ç¨‹åºè€¦åˆä¸¥é‡æ—¶ï¼Œè§‚å¯Ÿè€…æ¨¡å¼å¯ä»¥è§£é™¤è§‚å¯Ÿè€…ä¸è¢«è§‚å¯Ÿè€…ä¹‹é—´çš„ä¾èµ–</li>
</ul>
<h3 id="Unityç®€å•å®ç°-2">Unityç®€å•å®ç°</h3>
<p>*æ­¤å¤„æˆ‘ç›´æ¥å®ç°äº†äº‹ä»¶ä¸­å¿ƒï¼Œè¿™ä¹Ÿæ˜¯è§‚å¯Ÿè€…æ¨¡å¼çš„ä¸€ç§ä½“ç°ï¼Œå¼•å…¥äº†äº‹ä»¶ä¸­å¿ƒç±»ä½œä¸ºç¬¬ä¸‰æ–¹ç®¡ç†è€…ç»Ÿä¸€è®¢é˜…ä¸è§¦å‘äº‹ä»¶</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">ObserverPattern</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">EventCenter</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> Dictionary&lt;<span class="built_in">string</span>, Action&gt; Events = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">string</span>, Action&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">AddListener</span>(<span class="params"><span class="built_in">string</span> key, Action action</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!Events.ContainsKey(key))</span><br><span class="line">            &#123;</span><br><span class="line">                Events.Add(key,action);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            Events[key] += action;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">RemoveListener</span>(<span class="params"><span class="built_in">string</span> key, Action action</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!Events.ContainsKey(key))</span><br><span class="line">            &#123;</span><br><span class="line">                Debug.LogError(<span class="string">$&quot;EventCenter:can&#x27;t find <span class="subst">&#123;key&#125;</span> when remove&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            Events[key] -= action;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Trigger</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!Events.ContainsKey(key))</span><br><span class="line">            &#123;</span><br><span class="line">                Debug.LogError(<span class="string">$&quot;EventCenter:can&#x27;t find <span class="subst">&#123;key&#125;</span> when trigger&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            Events[key]();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Notes</category>
        <category>Design Pattern</category>
        <category>ã€ŠGame Programming Patternsã€‹</category>
      </categories>
      <tags>
        <tag>Note</tag>
        <tag>ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŒThe Cherno-C++ã€å­¦ä¹ ç¬”è®°ä¸‰ï¼ˆ67-90ï¼‰</title>
    <url>/posts/1003/</url>
    <content><![CDATA[<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202308050329536.jpeg" alt="cherno"></p>
<blockquote>
<p><strong>Bç«™upç¥ç»å…ƒçŒ«ç¿»è¯‘ç‰ˆï¼š<a href="https://www.bilibili.com/video/BV1uy4y167h2">https://www.bilibili.com/video/BV1uy4y167h2</a></strong></p>
</blockquote>
<h2 id="å‰è¨€">å‰è¨€</h2>
<p>C++å› ä¸ºå…¶ä¼˜å¼‚çš„æ€§èƒ½ï¼Œæ˜¯æ¸¸æˆå¼€å‘ä¸­æœ€ä¸ºå¸¸ç”¨çš„è¯­è¨€ä¹‹ä¸€ï¼Œç›®å‰çš„Unityä¸Unrealä¸¤å¤§å•†ç”¨å¼•æ“çš„å†…æ ¸éƒ½æ˜¯é‡‡ç”¨C++è¿›è¡Œç¼–å†™ï¼Œä½œä¸ºä¸€ä¸ªæœ‰å¿—äºæˆä¸ºæ¸¸æˆå¼€å‘è€…çš„äººï¼Œè¿™ç§è¯­è¨€æ€ä¹ˆèƒ½ä¸å­¦ä¸€å­¦å‘¢ï¼Ÿ</p>
<p>æœ¬æ–‡åŸºäºæ²¹ç®¡è‘—ååšä¸»ï¼Œæ›¾ä»»èŒäºEAçš„The Chernoçš„C++ç³»åˆ—è§†é¢‘ï¼ŒThe Chernoä½œä¸ºå¯’éœœå¼•æ“çš„æ ¸å¿ƒå¼€å‘äººå‘˜ä¹‹ä¸€ï¼Œå¯¹C++æœ‰ç€éå¸¸ç‹¬åˆ°è€Œæ·±åˆ»çš„ç†è§£</p>
<p>è¿™äº›ç¬”è®°è®°å½•äº†æˆ‘é€šè¿‡The Chernoçš„ç³»åˆ—è§†é¢‘å­¦ä¹ C++çš„ä¸€äº›çŸ¥è¯†ç‚¹ä¸ç†è§£ï¼Œå¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©ğŸ˜‰</p>
<blockquote>
<p>ç¬¬ä¸€ç« ï¼ˆ1-33ï¼‰ï¼š<a href="https://hmxs.games/posts/1001/">https://hmxs.games/posts/1001/</a></p>
<p>ç¬¬äºŒç« ï¼ˆ34-66ï¼‰ï¼š<a href="https://hmxs.games/posts/1002/">https://hmxs.games/posts/1002/</a></p>
<p><strong>ç¬¬ä¸‰ç« ï¼ˆ67-99ï¼‰ï¼š<a href="https://hmxs.games/posts/1003/">https://hmxs.games/posts/1003/</a></strong></p>
</blockquote>
<hr>
<h2 id="è”åˆä½“ï¼ˆ67ï¼‰">è”åˆä½“ï¼ˆ67ï¼‰</h2>
<blockquote>
<p><strong>è”åˆä½“åœ¨ä½¿ç”¨ä¸Šæœ‰ç‚¹ç±»ä¼¼ç±»æˆ–ç»“æ„ä½“ï¼Œä½†åŒºåˆ«æ˜¯ï¼ŒåŒä¸€æ—¶é—´ä¸€ä¸ªè”åˆä½“å†…åªèƒ½æœ‰ä¸€ä¸ªæˆå‘˜ï¼Œå³è”åˆä½“çš„ä¸­çš„æ‰€æœ‰æˆå‘˜éƒ½å…±ç”¨ä¸€ç‰‡å†…å­˜ç©ºé—´</strong></p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">union</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a, b;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢è¿™ä¸ªè”åˆä½“ä¸­ï¼Œå¦‚æœä½ æ”¹å˜<code>a</code>çš„å€¼ï¼Œbä¹ŸåŒæ ·ä¼šè¢«æ”¹å˜</p>
<p><strong>åœ¨ç±»å‹åŒå…³ä¸­çš„åº”ç”¨ï¼š</strong></p>
<p><code>union</code>å¯ä»¥è¢«ç”¨æ¥æ–¹ä¾¿åœ°å®ç°ä¸Šä¸€ç« è®²åˆ°çš„ç±»å‹åŒå…³</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">Union</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">union</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">float</span> a;</span><br><span class="line">            <span class="type">int</span> b;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    Union u;</span><br><span class="line">    u.b = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; u.a &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; u.b &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­å¯¹<code>a</code>å’Œ<code>b</code>çš„èµ‹å€¼å’Œè®¿é—®ä¼šå› ä¸ºè”åˆä½“çš„ç‰¹æ€§è‡ªåŠ¨åœ°å®ç°ç±»å‹åŒå…³</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Vector2</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> x, y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Vector4</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">union</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">struct</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> x, y, z, w;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">struct</span></span><br><span class="line">        &#123;</span><br><span class="line">            Vector2 a, b;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡4ä¸ª<code>int</code>æˆ–2ä¸ª<code>Vector2</code>å˜é‡æ¥è¡¨ç¤º<code>Vector4</code>ï¼Œå¹¶ä¸”æ•°æ®æ˜¯äº’é€šçš„ï¼Œè¿™ä¹Ÿæ˜¯è”åˆä½“çš„å¦™ç”¨</p>
<hr>
<h2 id="è™šææ„å‡½æ•°ï¼ˆ68ï¼‰">è™šææ„å‡½æ•°ï¼ˆ68ï¼‰</h2>
<blockquote>
<p><strong>é¡¾åæ€ä¹‰ï¼Œè™šææ„å‡½æ•°ä¾¿æ˜¯è™šå‡½æ•°å’Œææ„å‡½æ•°çš„ç»“åˆä½“ï¼Œä½†å…¶åœ¨ä¸€äº›æƒ…å†µä¸‹éå¸¸é‡è¦</strong></p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Base</span>() &#123; std::cout &lt;&lt; <span class="string">&quot;Base Constructor\n&quot;</span>; &#125;</span><br><span class="line">    ~<span class="built_in">Base</span>() &#123; std::cout &lt;&lt; <span class="string">&quot;Base Destructor\n&quot;</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Derived</span> : <span class="keyword">public</span> Base</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Derived</span>() &#123; std::cout &lt;&lt; <span class="string">&quot;Derived Constructor\n&quot;</span>; &#125;</span><br><span class="line">    ~<span class="built_in">Derived</span>() &#123; std::cout &lt;&lt; <span class="string">&quot;Derived Destructor\n&quot;</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Base* base = <span class="keyword">new</span> <span class="built_in">Base</span>();</span><br><span class="line">    <span class="keyword">delete</span> base;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;--------------------\n&quot;</span>;</span><br><span class="line">    Derived* derived = <span class="keyword">new</span> <span class="built_in">Derived</span>();</span><br><span class="line">    <span class="keyword">delete</span> derived;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;--------------------\n&quot;</span>;</span><br><span class="line">    Base* test = <span class="keyword">new</span> <span class="built_in">Derived</span>();</span><br><span class="line">    <span class="keyword">delete</span> test;</span><br><span class="line"></span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// result:</span></span><br><span class="line"><span class="comment">// Base Constructor</span></span><br><span class="line"><span class="comment">// Base Destructor</span></span><br><span class="line"><span class="comment">// --------------------</span></span><br><span class="line"><span class="comment">// Base Constructor</span></span><br><span class="line"><span class="comment">// Derived Constructor</span></span><br><span class="line"><span class="comment">// Derived Destructor</span></span><br><span class="line"><span class="comment">// Base Destructor</span></span><br><span class="line"><span class="comment">// --------------------</span></span><br><span class="line"><span class="comment">// Base Constructor</span></span><br><span class="line"><span class="comment">// Derived Constructor</span></span><br><span class="line"><span class="comment">// Base Destructor</span></span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œåœ¨åˆ›å»ºä¸é”€æ¯å­ç±»æ—¶ï¼Œçˆ¶ç±»çš„æ„é€ ä¸ææ„å‡½æ•°ä¼šåœ¨æœ€å¼€å§‹ä¸æœ€åè¢«è°ƒç”¨</p>
<p>ä½†å½“æˆ‘ä»¬é€šè¿‡çˆ¶ç±»çš„æŒ‡é’ˆè®¿é—®ä¸€ä¸ªå­ç±»å¯¹è±¡æ—¶ï¼Œæ‰€æœ‰æ„é€ å‡½æ•°éƒ½è¢«æ­£ç¡®è°ƒç”¨äº†ï¼Œä½†ç¼ºåªæœ‰çˆ¶ç±»çš„ææ„å‡½æ•°è¢«è°ƒç”¨äº†ï¼Œå­ç±»çš„ææ„å‡½æ•°æ²¡æœ‰è¢«è°ƒç”¨ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„éœ²</p>
<p>è€Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è™šææ„å‡½æ•°æ¥è§£å†³è¿™ä¸€é—®é¢˜ï¼Œä¸æ™®é€šè™šå‡½æ•°ä¸åŒçš„æ˜¯ï¼Œè™šææ„å‡½æ•°æ‰€åšçš„å¹¶ä¸æ˜¯â€œæ›¿æ¢â€ï¼Œè€Œæ˜¯â€œåŠ ä¸Šâ€</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Base</span>() &#123; std::cout &lt;&lt; <span class="string">&quot;Base Constructor\n&quot;</span>; &#125;</span><br><span class="line">    <span class="keyword">virtual</span>  ~<span class="built_in">Base</span>() &#123; std::cout &lt;&lt; <span class="string">&quot;Base Destructor\n&quot;</span>; &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬åªéœ€è¦ä¸ºåŸºç±»çš„ææ„å‡½æ•°åŠ ä¸Š<code>virtual</code>å³å¯</p>
<blockquote>
<p><strong>å¦‚æœç”¨åŸºç±»æŒ‡é’ˆæ¥å¼•ç”¨æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œé‚£ä¹ˆåŸºç±»çš„ææ„å‡½æ•°å¿…é¡»æ˜¯ virtual çš„ï¼Œå¦åˆ™ C++ åªä¼šè°ƒç”¨åŸºç±»çš„ææ„å‡½æ•°ï¼Œä¸ä¼šè°ƒç”¨æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ã€‚</strong></p>
</blockquote>
<hr>
<h2 id="ç±»å‹è½¬æ¢ï¼ˆ69ï¼‰">ç±»å‹è½¬æ¢ï¼ˆ69ï¼‰</h2>
<blockquote>
<p><strong>C++ä½œä¸ºä¸€ç§å¼ºç±»å‹è¯­è¨€ï¼Œå…¶ç±»å‹çš„å­˜åœ¨æ˜¯å¼ºåˆ¶æ€§çš„ï¼Œæˆ‘ä»¬ä¸èƒ½çªå…€åœ°ç›´æ¥è½¬å˜æŸä¸€å¯¹è±¡çš„ç±»å‹ï¼Œæˆ‘ä»¬å¿…é¡»è¿›è¡Œæ˜¾å¼æˆ–éšå¼çš„ç±»å‹è½¬æ¢ï¼Œè€Œåœ¨C++ä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Cé£æ ¼æˆ–C++é£æ ¼çš„è¯­æ³•è¿›è¡Œç±»å‹è½¬æ¢</strong></p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// éšå¼ç±»å‹è½¬æ¢</span></span><br><span class="line"><span class="type">int</span> a = <span class="number">5</span>;</span><br><span class="line"><span class="type">double</span> b = a;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Cé£æ ¼æ˜¾å¼è½¬æ¢</span></span><br><span class="line"><span class="type">double</span> c = (<span class="type">double</span>)a;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢æ˜¯éšå¼ä¸Cé£æ ¼çš„æ˜¾ç¤ºç±»å‹è½¬æ¢ï¼Œå…¶è¯­æ³•éå¸¸ç®€å•ç›´è§‚</p>
<p>è€Œåœ¨C++ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å†…ç½®çš„ä¸€ç³»åˆ—<code>cast</code>å‡½æ•°æ¥å®ç°ç±»å‹è½¬æ¢ï¼Œä¸€å…±æœ‰4ç§ä¸»è¦çš„<code>cast</code>å‡½æ•°ï¼š<code>static_cast</code>ã€<code>reinterpret_cast</code>ã€<code>dynamic_cast</code>ã€<code>const_cast</code></p>
<p><em>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>cast</code>å‡½æ•°å¯ä»¥å®ç°çš„åŠŸèƒ½ä½¿ç”¨Cè¯­è¨€é£æ ¼çš„ç±»å‹è½¬æ¢ä¹Ÿä¸€æ ·å¯ä»¥ï¼Œå®ƒä»¬å¹¶æ²¡æœ‰å®ç°ä»€ä¹ˆæ–°åŠŸèƒ½ï¼Œåªæ˜¯æ·»åŠ äº†ä¸€äº›è¯­æ³•ç³–åˆ°ä½ çš„ä»£ç ä¸­</em></p>
<p>C++è®¾ç½®è¿™ä¹ˆå¤š<code>cast</code>çš„ç›®çš„ï¼šé™¤äº†ä¸€äº›ç¼–è¯‘æ—¶çš„é¢å¤–ç‰¹æ€§ï¼Œè¿˜å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨ä»£ç åº“ä¸­å¿«é€Ÿåœ°æ‰¾åˆ°æˆ‘ä»¬åœ¨ä»€ä¹ˆåœ°æ–¹ä½¿ç”¨äº†ç±»å‹è½¬æ¢ï¼Œè€ŒCè¯­è¨€é£æ ¼çš„ç±»å‹è½¬æ¢åˆ™éå¸¸éš¾ä»¥å®šä½ï¼Œå¹¶ä¸”åœ¨æˆ‘ä»¬å°è¯•è¿›è¡Œç±»å‹è½¬æ¢æ—¶ï¼Œä¹Ÿå¯ä»¥å¸®åŠ©æˆ‘ä»¬é¿å…ä¸€äº›æ„å¤–é”™è¯¯ï¼Œæ¯”å¦‚ç±»å‹ä¸å…¼å®¹</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå…³äº<code>dynamic_cast</code>çš„å®ä¾‹ï¼š</p>
<p><code>dynamic_cast</code>åœ¨ç±»å‹è½¬æ¢æ—¶ä¼šè¿›è¡Œç¼–è¯‘æ—¶æ£€æŸ¥ï¼Œå¦‚æœè½¬æ¢ä¸æˆåŠŸï¼Œå…¶ä¼šå°†å¯¹è±¡èµ‹å€¼ä¸ºç©º</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Base</span>() &#123;&#125;</span><br><span class="line">    <span class="keyword">virtual</span> ~<span class="built_in">Base</span>() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Derived1</span> : <span class="keyword">public</span> Base</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Derived1</span>() &#123;&#125;</span><br><span class="line">    ~<span class="built_in">Derived1</span>() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Derived2</span> : <span class="keyword">public</span> Base</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Derived2</span>() &#123;&#125;</span><br><span class="line">    ~<span class="built_in">Derived2</span>() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// Derived1ä¸Derived2éƒ½æ´¾ç”Ÿè‡ªBase</span></span><br><span class="line">    Derived1* derived1 = <span class="keyword">new</span> <span class="built_in">Derived1</span>();</span><br><span class="line"></span><br><span class="line">    Base* base = (Base*)derived1;</span><br><span class="line"></span><br><span class="line">    Derived2* derived2 = <span class="built_in">dynamic_cast</span>&lt;Derived2*&gt;(base);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!derived2)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;derived2 is null&quot;</span> &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>dynamic_cast</code>è‡ªåŠ¨è¿›è¡Œç±»å‹è½¬æ¢æ—¶çš„å®‰å…¨æ£€æŸ¥</p>
<hr>
<h2 id="æ¡ä»¶ä¸æ“ä½œæ–­ç‚¹ï¼ˆ70ï¼‰">æ¡ä»¶ä¸æ“ä½œæ–­ç‚¹ï¼ˆ70ï¼‰</h2>
<blockquote>
<p><strong>æ¡ä»¶ä¸æ“ä½œæ–­ç‚¹å¯ä»¥è¢«åº”ç”¨ä¸æ›´åŠ å¤æ‚çš„è°ƒè¯•åœºæ™¯</strong></p>
<p><strong>æ¡ä»¶æ–­ç‚¹å¯ä»¥è®©æ–­ç‚¹åªåœ¨ç‰¹å®šæ¡ä»¶ä¸‹è§¦å‘</strong></p>
<p><strong>æ“ä½œæ–­ç‚¹åˆ™å…è®¸æˆ‘ä»¬åœ¨ç¢°åˆ°æ–­ç‚¹æ—¶é‡‡å–æŸç§åŠ¨ä½œï¼Œå¦‚æ‰“å°ä¸€äº›ä¸œè¥¿åˆ°æ§åˆ¶å°</strong></p>
</blockquote>
<p>æ¡ä»¶ä¸æ“ä½œæ–­ç‚¹çš„ä¼˜åŠ¿åœ¨äºå…¶å¯ä»¥åœ¨ä¸ç”¨æ›´æ”¹ä»»ä½•ä»£ç çš„æƒ…å†µä¸‹ï¼Œåœ¨è¿è¡Œæ—¶è¿›è¡Œdebugï¼Œè¿™å¯¹æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡æœ‰å¾ˆå¤§çš„æå‡</p>
<p>å³å‡»æ–­ç‚¹çš„å°çº¢ç‚¹ï¼Œç‚¹å‡»æ¡ä»¶/æ“ä½œï¼Œå³å¯è°ƒå‡ºæ¡ä»¶ä¸æ“ä½œæ–­ç‚¹ç•Œé¢ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202308290140516.png" alt="image-20230829014033456"></p>
<blockquote>
<p><strong>è¿™æ˜¯ä¸€ä¸ªç®€å•è€Œååˆ†å¼ºå¤§åœ°åŠŸèƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨æˆ‘ä»¬éœ€è¦è°ƒè¯•ä¸€äº›è¾ƒä¸ºå¤§å‹çš„ç¨‹åºæ—¶</strong></p>
<p><strong>ä½†åŒæ—¶ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé™„åŠ è°ƒè¯•ç¨‹åºæ˜¯ååˆ†è€—è´¹æ€§èƒ½çš„</strong></p>
</blockquote>
<hr>
<h2 id="å®‰å…¨é—®é¢˜ä¸å¦‚ä½•æˆæƒï¼ˆ71ï¼‰">å®‰å…¨é—®é¢˜ä¸å¦‚ä½•æˆæƒï¼ˆ71ï¼‰</h2>
<p>C++ä¸­çš„å®‰å…¨é—®é¢˜ä¸€ç›´äº‰è®®ä¸ä¼‘ï¼Œæœ‰äººè¯´æˆ‘ä»¬åº”è¯¥æ‹¥æŠ±æ™ºèƒ½æŒ‡é’ˆï¼ŒæŠ›å¼ƒåŸå§‹æŒ‡é’ˆï¼Œè€Œä¹Ÿæœ‰äººè¯´ï¼Œæ™ºèƒ½æŒ‡é’ˆæœ‰ç€ä¸¥é‡çš„å¼€é”€é—®é¢˜ï¼Œæ˜¯ç”·äººå°±ç”¨åŸå§‹æŒ‡é’ˆï¼</p>
<p>è€ŒChernoå¯¹æ­¤çš„æ€åº¦æ˜¯ï¼šæ²¡æœ‰ç»å¯¹çš„æ ‡å‡†ç­”æ¡ˆ</p>
<p>å¯¹äºç”Ÿäº§ç¯å¢ƒè€Œè¨€ï¼Œæˆ‘ä»¬ç»å¯¹åº”è¯¥ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆï¼Œè¿™ä¼šå¤§å¤§é™ä½æˆ‘ä»¬å‡ºé”™çš„æ¦‚ç‡ï¼Œä¹Ÿä¼šæé«˜åä½œçš„æ•ˆç‡</p>
<p>å¯¹äºå­¦ä¹ å’Œäº†è§£è€Œè¨€ï¼Œä½¿ç”¨åŸå§‹æŒ‡é’ˆå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç†è§£æŒ‡é’ˆçš„å·¥ä½œåŸç†ï¼Œå› ä¸ºæ™ºèƒ½æŒ‡é’ˆå®é™…ä¸Šä¹Ÿåªæ˜¯åŸå§‹æŒ‡é’ˆçš„ä¸€å±‚å°è£…</p>
<p>å½“ç„¶ï¼Œå¦‚æœä½ éœ€è¦å®šåˆ¶çš„è¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå·±å†™çš„æ™ºèƒ½æŒ‡é’ˆ</p>
<hr>
<h2 id="é¢„ç¼–è¯‘å¤´æ–‡ä»¶ï¼ˆ72ï¼‰">é¢„ç¼–è¯‘å¤´æ–‡ä»¶ï¼ˆ72ï¼‰</h2>
<blockquote>
<p><strong>é¢„ç¼–è¯‘å¤´æ–‡ä»¶å®é™…ä¸Šæ˜¯è®©ä½ æŠ“å–ä¸€å †å¤´æ–‡ä»¶ï¼Œå¹¶å°†å®ƒä»¬è½¬æ¢ä¸ºâ€œç¼–è¯‘å™¨æ ¼å¼â€ï¼Œä½¿å¾—æˆ‘ä»¬ä¸æ¯”ä¸€éåˆä¸€éåœ°è¯»å–è¿™äº›å¤´æ–‡ä»¶</strong></p>
</blockquote>
<p>åœ¨å®é™…åœ°ä»£ç ç¼–å†™ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€ä¼š<code>include</code>ä¸€äº›å¤´æ–‡ä»¶ï¼Œè€Œæ¯å½“æˆ‘ä»¬å¯¹ç¨‹åºè¿›è¡Œä¿®æ”¹æ—¶ï¼Œè¿™äº›å¤´æ–‡ä»¶éƒ½éœ€è¦è¢«ä»å¤´å¼€å§‹é‡æ–°ç¼–è¯‘ï¼Œè¿™ä¼šå¤§å¤§æ‹–æ…¢ç¼–è¯‘çš„é€Ÿåº¦</p>
<p>è€Œé¢„ç¼–è¯‘å¤´æ–‡ä»¶å¯ä»¥é¢„å…ˆå°†è¿™äº›å¤´æ–‡ä»¶ç¼–è¯‘ä¸ºäºŒè¿›åˆ¶å½¢å¼å‚¨å­˜ï¼ŒåŠ å¿«ä¹‹åç¼–è¯‘çš„é€Ÿåº¦</p>
<blockquote>
<p><strong>ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸è¦è®²ä¼šç»å¸¸å˜æ›´çš„ä¸œè¥¿æ”¾å…¥é¢„ç¼–è¯‘å¤´æ–‡ä»¶ä¸­ï¼Œè¿™ä¼šé€‚å¾—å…¶åï¼Œæ˜¯æœ¬æœ«å€’ç½®çš„è¡Œä¸º</strong></p>
</blockquote>
<p><strong>é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥å¦‚ä½•åˆ›å»ºä¸€ä¸ªé¢„ç¼–è¯‘å¤´æ–‡ä»¶å‘¢ï¼Ÿ</strong></p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202309010210722.png" alt="image-20230901021028633" style="zoom: 67%;" />
<p>å¦‚å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬è¦é¢„ç¼–è¯‘ä¸Šè¿°<code>pch.h</code>å¤´æ–‡ä»¶</p>
<p>åœ¨VSä¸­ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªç©º<code>.cpp</code>æ–‡ä»¶ï¼Œå…¶ä¸­åªåŒ…å«éœ€è¦é¢„ç¼–è¯‘çš„å¤´æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202309010212359.png" alt="image-20230901021226327" style="zoom: 67%;" />
<p>ä¹‹åæˆ‘ä»¬ä¾¿å¯ä»¥å³é”®åˆšåˆšåˆ›å»ºçš„<code>.cpp</code>æ–‡ä»¶ï¼Œç‚¹å‡»<code>å±æ€§-&gt;C/C++-&gt;é¢„ç¼–è¯‘å¤´</code>ï¼Œå°†é¢„ç¼–è¯‘å¤´é€‰é¡¹è®¾ç½®ä¸º<code>åˆ›å»º</code></p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202309010214392.png" alt="image-20230901021457327" style="zoom: 50%;" />
<p>æœ€åæˆ‘ä»¬å°†é¡¹ç›®è®¾ç½®ä¸­çš„åŒæ ·ä½ç½®çš„é¢„ç¼–è¯‘å¤´é€‰é¡¹æ”¹ä¸º<code>ä½¿ç”¨</code>ï¼Œå¹¶å°†<code>é¢„ç¼–è¯‘å¤´æ–‡ä»¶</code>æ”¹ä¸ºå¯¹åº”å¤´æ–‡ä»¶åå³å¯</p>
<blockquote>
<p><strong>é™¤éä½ çš„é¡¹ç›®æå…¶å°ï¼Œå¦åˆ™éƒ½åº”è¯¥ä½¿ç”¨é¢„ç¼–è¯‘å¤´æ–‡ä»¶ï¼Œè¿™ä¼šå¤§å¤§åŠ å¿«ä½ çš„ç¼–è¯‘é€Ÿåº¦</strong></p>
</blockquote>
<hr>
<h2 id="dynamic-castï¼ˆ73ï¼‰"><code>dynamic_cast</code>ï¼ˆ73ï¼‰</h2>
<blockquote>
<p><strong><code>dynamic_cast</code>æ˜¯åœ¨69ç« ç±»å‹è½¬æ¢ä¸­æåˆ°è¿‡çš„ä¸€ç§C++é£æ ¼çš„ç±»å‹è½¬æ¢å‡½æ•°</strong></p>
<p><strong>å…¶ä¸“é—¨ç”¨äºæ²¿ç»§æ‰¿å±‚çº§ç»“æ„è¿›è¡Œçš„å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æŠŠä¸€ä¸ªåŸºç±»å¼ºè½¬ä¸ºæ´¾ç”Ÿç±»ï¼Œæˆ–ä»æ´¾ç”Ÿç±»å¼ºè½¬ä¸ºåŸºç±»ï¼Œé‚£ä¹ˆä¾¿å¯ä»¥ä½¿ç”¨<code>dynamic_cast</code></strong></p>
</blockquote>
<p>å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª<code>Entity</code>åŸºç±»ï¼Œ<code>Player</code>ä¸<code>Enemy</code>ç±»éƒ½æ´¾ç”Ÿè‡ª<code>Entity</code>ï¼Œæˆ‘ä»¬æƒ³å°†ä¸€ä¸ª<code>Entity</code>å®ä¾‹å¼ºè½¬ä¸º<code>Player</code>ï¼Œä½†è¿™ä¸€å®ä¾‹ä¹Ÿæœ‰å¯èƒ½æ˜¯<code>Enemy</code>ï¼Œå¦‚æœè¿™æ—¶æˆ‘ä»¬å°è¯•å»å¯¹<code>Player</code>ç‹¬æœ‰çš„æ•°æ®è¿›è¡Œè®¿é—®å’Œæ›´æ”¹ï¼Œå°±å¾ˆå¯èƒ½ä¼šå¼•å‘é—®é¢˜ï¼Œè€Œä½¿ç”¨<code>dynamic_cast</code>è¿›è¡Œè¿™ç§ç±»å‹çš„å¼ºè½¬æ—¶ï¼Œå¦‚æœå‘ç”Ÿäº†ä¸Šè¿°æƒ…å†µï¼Œ<code>dynamic_cast</code>ä¼šä¸­æ–­è½¬æ¢å¹¶ç›´æ¥è¿”å›<code>Null</code></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Print</span><span class="params">()</span> </span>&#123; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span> : <span class="keyword">public</span> Entity</span><br><span class="line">&#123;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Enemy</span> : <span class="keyword">public</span> Entity</span><br><span class="line">&#123;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Player* player = <span class="keyword">new</span> <span class="built_in">Player</span>();</span><br><span class="line"></span><br><span class="line">    Entity* enemy = <span class="keyword">new</span> <span class="built_in">Enemy</span>();</span><br><span class="line">    Entity* player2 = player;</span><br><span class="line"></span><br><span class="line">    Player* player_x = <span class="built_in">dynamic_cast</span>&lt;Player*&gt;(enemy); <span class="comment">// NULL</span></span><br><span class="line">    Player* player_y = <span class="built_in">dynamic_cast</span>&lt;Player*&gt;(player2); <span class="comment">// Success</span></span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="dynamic-castçš„è¿è¡Œæœºåˆ¶"><code>dynamic_cast</code>çš„è¿è¡Œæœºåˆ¶</h3>
<p><code>dynamic_cast</code>å®ç°è¿è¡Œæ—¶ç±»å‹æ£€æŸ¥æ˜¯å› ä¸ºå…¶å‚¨å­˜äº†è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯ï¼ˆRTTI:Runtime Type Informationï¼‰,å…¶å‚¨å­˜äº†æˆ‘ä»¬çš„æ‰€æœ‰ç±»å‹çš„è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯ï¼Œè¿™æ˜¾è€Œæ˜“è§åœ°ä¼šå¢åŠ å¼€é”€ï¼Œä½†å®ƒå¯ä»¥è®©ä½ å®ç°ç±»ä¼¼åŠ¨æ€ç±»å‹è½¬æ¢çš„äº‹æƒ…ï¼Œåœ¨ä½¿ç”¨æ—¶éœ€è¦è¿›è¡Œå–èˆ</p>
<hr>
<h2 id="åŸºå‡†æµ‹è¯•ï¼ˆ74ï¼‰">åŸºå‡†æµ‹è¯•ï¼ˆ74ï¼‰</h2>
<blockquote>
<p><strong>åŸºå‡†æµ‹è¯•å¾€å¾€è¢«ç”¨äºæµ‹é‡ä¸€æ®µç‰¹å®šä»£ç çš„æ€§èƒ½ï¼Œæµ‹è¯•æ–¹æ³•å¤šç§å¤šæ ·ï¼Œå¦‚ä¹‹å‰å†™è¿‡çš„ä½œç”¨åŸŸè®¡æ—¶ä¾¿å¯ä»¥ç”¨äºåŸºå‡†æµ‹è¯•</strong></p>
</blockquote>
<p><strong>ä½œç”¨åŸŸè®¡æ—¶å™¨ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Timer</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Timer</span>(<span class="type">const</span> <span class="type">char</span>* name)</span><br><span class="line">        : <span class="built_in">name_</span>(name), <span class="built_in">stopped_</span>(<span class="literal">false</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        start_time_point_ = std::chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">Timer</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!stopped_)</span><br><span class="line">            <span class="built_in">Stop</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Stop</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        end_time_point_ = std::chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> start = std::chrono::<span class="built_in">time_point_cast</span>&lt;std::chrono::microseconds&gt;(start_time_point_).<span class="built_in">time_since_epoch</span>().<span class="built_in">count</span>();</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> end = std::chrono::<span class="built_in">time_point_cast</span>&lt;std::chrono::microseconds&gt;(end_time_point_).<span class="built_in">time_since_epoch</span>().<span class="built_in">count</span>();</span><br><span class="line"></span><br><span class="line">        std::cout &lt;&lt; name_ &lt;&lt; <span class="string">&quot;: &quot;</span> &lt;&lt; (end - start) &lt;&lt; <span class="string">&quot;us(&quot;</span> &lt;&lt; (end - start) * <span class="number">0.001</span> &lt;&lt; <span class="string">&quot;ms)\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">        stopped_ = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span>* name_;</span><br><span class="line">    <span class="type">bool</span> stopped_;</span><br><span class="line">    std::chrono::time_point&lt;std::chrono::high_resolution_clock&gt; start_time_point_, end_time_point_;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>åªéœ€è¦åœ¨å¯¹åº”ä½œç”¨åŸŸåˆ›å»ºä¸€ä¸ª<code>Timer</code>å®ä¾‹å³å¯å®ç°è‡ªåŠ¨è®¡æ—¶</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    &#123;</span><br><span class="line">        Timer timer;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100000</span>; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            sum += <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; sum &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿æˆ‘ä»¬è¿›è¡ŒåŸºå‡†æµ‹è¯•çš„ä»£ç åº”å’Œå®é™…è¿è¡Œæƒ…å†µç›¸åŒ</strong></p>
<p><strong>å¦‚ï¼Œåœ¨VSä¸­åœ¨Debugå’ŒReleaseæ¨¡å¼ä¸‹è¿è¡Œä»£ç ä¼šæœ‰å¾ˆå¤§ä¸åŒï¼Œåœ¨Releaseæ¨¡å¼ä¸‹ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åœ°å¯¹ä»£ç è¿›è¡Œä¼˜åŒ–</strong></p>
</blockquote>
<p><strong>ä¸‹é¢æ˜¯ä¸€ä¸ªåŸºå‡†æµ‹è¯•çš„å®é™…åº”ç”¨ï¼š</strong></p>
<p>ä½¿ç”¨åŸºå‡†æµ‹è¯•è¿›è¡Œä¸åŒæ™ºèƒ½æŒ‡é’ˆçš„æ€§èƒ½æµ‹è¯•</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">Vector2</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">float</span> x, y;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;make_shared:\n&quot;</span>;</span><br><span class="line">    &#123;</span><br><span class="line">        std::array&lt;std::shared_ptr&lt;Vector2&gt;, <span class="number">2000</span>&gt; shared_ptr_array;</span><br><span class="line">        Timer timer;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; i : shared_ptr_array)</span><br><span class="line">            i = std::<span class="built_in">make_shared</span>&lt;Vector2&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;new shared:\n&quot;</span>;</span><br><span class="line">    &#123;</span><br><span class="line">        std::array&lt;std::shared_ptr&lt;Vector2&gt;, <span class="number">2000</span>&gt; shared_ptr_array;</span><br><span class="line">        Timer timer;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; i : shared_ptr_array)</span><br><span class="line">            i = std::<span class="built_in">shared_ptr</span>&lt;Vector2&gt;(<span class="keyword">new</span> <span class="built_in">Vector2</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;make_unique:\n&quot;</span>;</span><br><span class="line">    &#123;</span><br><span class="line">        std::array&lt;std::unique_ptr&lt;Vector2&gt;, <span class="number">2000</span>&gt; unique_ptr_array;</span><br><span class="line">        Timer timer;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; i : unique_ptr_array)</span><br><span class="line">            i = std::<span class="built_in">make_unique</span>&lt;Vector2&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="ç»“æ„åŒ–ç»‘å®šï¼ˆ75ï¼‰">ç»“æ„åŒ–ç»‘å®šï¼ˆ75ï¼‰</h2>
<blockquote>
<p><strong>ç»“æ„åŒ–ç»‘å®šæ˜¯C++17å¼•å…¥çš„æ–°æœºåˆ¶ï¼Œå…¶å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°å¤„ç†å¤šè¿”å›å€¼</strong></p>
</blockquote>
<p>åœ¨ä¹‹å‰çš„52ç« å¦‚ä½•å¤„ç†å¤šè¿”å›å€¼æ—¶ï¼Œæœ‰è®²åˆ°å¯ä»¥ä½¿ç”¨<code>std::tuple</code>/<code>std::pair</code>æ¥è¿›è¡Œå¤„ç†ï¼Œä½†è¿™æ˜¯ä¸€ç§ä¸å¤Ÿæ¸…æ™°ï¼Œä¸”è¾ƒä¸ºç¹ççš„ä¼ å€¼æ–¹æ³•ï¼Œæˆ‘ä»¬å¾ˆå°‘ä½¿ç”¨å®ƒä»¬</p>
<p>ä½†è¿™ç§æƒ…å†µåœ¨ç»“æ„åŒ–ç»‘å®šçš„åŠ å…¥åå¾—ä»¥æ”¹å–„</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">std::tuple&lt;std::string, <span class="type">int</span>&gt; <span class="title">CreatePerson</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;å¾½å¢¨è¡Œæ·±&quot;</span>, <span class="number">20</span> &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªå…ƒç»„ï¼Œè€Œå½“æˆ‘ä»¬æƒ³è¦å¤„ç†ä¸Šè¿°å‡½æ•°çš„è¿”å›å€¼æ—¶ï¼Œæˆ‘ä»¬å¾€å¾€åªèƒ½ä½¿ç”¨<code>get</code>å‡½æ•°æˆ–<code>tie</code>å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤º</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">std::string name;</span><br><span class="line"><span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨getæå–å…ƒç»„ä¸­çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">auto</span> person = <span class="built_in">CreatePerson</span>();</span><br><span class="line">name = std::<span class="built_in">get</span>&lt;<span class="number">0</span>&gt;(person);</span><br><span class="line">age = std::<span class="built_in">get</span>&lt;<span class="number">1</span>&gt;(person);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨tieæå–å…ƒç»„ä¸­çš„æ•°æ®</span></span><br><span class="line">std::<span class="built_in">tie</span>(name, age) = <span class="built_in">CreatePerson</span>();</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ä½¿ç”¨<code>tie</code>æˆ–è®¸ä¼šæ›´åŠ ç®€æ´ï¼Œä½†æ€»çš„æ¥è¯´éƒ½å¹¶ä¸æ–¹ä¾¿ï¼Œä¸å¦‚ä½¿ç”¨ç»“æ„ä½“è¿›è¡Œå¤„ç†</p>
<p>è€Œç»“æ„åŒ–ç»‘å®šå¤§å¹…é™ä½äº†ä»£ç çš„å¤æ‚åº¦ï¼Œæˆ‘ä»¬ä¸å†éœ€è¦<code>tie</code>å’Œ<code>get</code>ï¼Œå¦‚ä¸‹æ‰€ç¤ºå³å¯å®Œæˆæ•°æ®çš„æå–</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">auto</span> [name, age] = <span class="built_in">CreatePerson</span>();</span><br></pre></td></tr></table></figure>
<p>ç®€æ´è€Œé«˜æ•ˆï¼Œå¦‚æœæˆ‘ä»¬åªéœ€è¦å¤„ç†å°‘æ•°å‡ æ¬¡æŸä¸€å¤šç±»å‹è¿”å›å€¼ï¼Œé‚£ä¹ˆä½¿ç”¨ç»“æ„åŒ–ç»‘å®šä¼šæˆä¸ºæˆ‘ä»¬çš„æœ€ä¼˜é€‰</p>
<blockquote>
<p><strong>ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ­¤ç‰¹æ€§åªåœ¨C++17æˆ–æ›´é«˜ç‰ˆæœ¬ä¸­æœ‰æ•ˆï¼Œåœ¨ä½¿ç”¨å‰éœ€è¦ç¡®è®¤å¥½æ­£åœ¨ä½¿ç”¨çš„ç‰ˆæœ¬</strong></p>
</blockquote>
<hr>
<h2 id="å¦‚ä½•å¤„ç†Optionalæ•°æ®ï¼ˆ76ï¼‰">å¦‚ä½•å¤„ç†Optionalæ•°æ®ï¼ˆ76ï¼‰</h2>
<blockquote>
<p><strong><code>std::optional</code>æ˜¯C++17å¼•å…¥çš„æ–°ç±»ï¼Œç”¨äºå¤„ç†é‚£äº›å¯èƒ½å­˜åœ¨ï¼Œä¹Ÿå¯èƒ½ä¸å­˜åœ¨çš„æ•°æ®ï¼Œæˆ–è€…æ˜¯ä¸€ç§æˆ‘ä»¬ä¸ç¡®å®šçš„ç±»å‹ï¼ˆæœ‰ç‚¹ç±»ä¼¼C#ä¸­çš„<code>ï¼Ÿ</code>ï¼‰</strong></p>
</blockquote>
<p><strong>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ä¾‹ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">std::string <span class="title">ReadFileAsString</span><span class="params">(<span class="type">const</span> std::string&amp; file_path)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">std::ifstream <span class="title">file_stream</span><span class="params">(file_path)</span></span>;</span><br><span class="line">    <span class="keyword">if</span> (file_stream)</span><br><span class="line">    &#123;</span><br><span class="line">        std::string result;</span><br><span class="line">        <span class="comment">// read file</span></span><br><span class="line">        file_stream.<span class="built_in">close</span>();</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹äºä¸Šé¢è¿™ä¸ªè¯»å–æ–‡ä»¶çš„å‡½æ•°è€Œè¨€ï¼Œåœ¨ä¹‹å‰çš„C++ä¸­ï¼Œè¦åˆ¤æ–­â€œæ–‡ä»¶æ˜¯å¦è¢«æˆåŠŸè¯»å–åˆ°äº†â€æ˜¯è¾ƒä¸ºéº»çƒ¦çš„</p>
<p>ä¸€ä¸ªå®ç°æ–¹æ³•æ˜¯ä»å¤–éƒ¨ä¼ å…¥ä¸€ä¸ª<code>bool</code>å€¼å¼•ç”¨ï¼Œå†åœ¨å‡½æ•°å†…éƒ¨è¿›è¡Œæ”¹å˜ï¼Œä½†æ˜¯è¿™æ ·æ˜¾ç„¶ä¸æ˜¯å¾ˆä¼˜é›…</p>
<p>è€Œ<code>std::optional</code>å¯ä»¥è¾ƒä¸ºæ–¹ä¾¿åœ°è§£å†³è¿™ä¸€é—®é¢˜</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">std::optional&lt;std::string&gt; <span class="title">ReadFileAsString</span><span class="params">(<span class="type">const</span> std::string&amp; file_path)</span></span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬åªéœ€å°†è¿”å›å€¼åŠ ä¸Š<code>optional</code>ï¼Œä¹‹åå³å¯åœ¨å¤–éƒ¨è¿›è¡Œåˆ¤æ–­</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">std::optional&lt;std::string&gt; data = <span class="built_in">ReadFileAsString</span>(<span class="string">&quot;data.txt&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (data.<span class="built_in">has_value</span>())</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// read successful</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// read failed</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æ–¹ä¾¿åœ°æèµ·å…¶ä¸­çš„å€¼</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">std::string string_data;</span><br><span class="line">string_data = data.<span class="built_in">value</span>();</span><br><span class="line">string_data = *data;</span><br></pre></td></tr></table></figure>
<p>è€Œ<code>value_or()</code>å‡½æ•°å¯ä»¥è‡ªåŠ¨ä¸ºè¢«åˆ¤å®šä¸ºç©ºçš„<code>optional</code>å€¼è®¾å®šé»˜è®¤å€¼ï¼Œå¦‚ä¸‹æ‰€ç¤º</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">string_data = data.<span class="built_in">value_or</span>(<span class="string">&quot;File Did Not Exist&quot;</span>);</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="å•ä¸€å˜é‡å­˜æ”¾å¤šç±»å‹æ•°æ®ï¼ˆ77ï¼‰">å•ä¸€å˜é‡å­˜æ”¾å¤šç±»å‹æ•°æ®ï¼ˆ77ï¼‰</h2>
<blockquote>
<p><strong><code>std::variant</code>æ˜¯C++17ä¸­å¼•å…¥çš„æ–°ç±»ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬åœ¨åˆ›å»ºå˜é‡æ—¶ä¸ç”¨å¤„ç†å˜é‡çš„ç¡®åˆ‡æ•°æ®ç±»å‹</strong></p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">std::variant&lt;std::string, <span class="type">int</span>&gt; data;</span><br><span class="line"><span class="comment">// èµ‹å€¼</span></span><br><span class="line">data = <span class="string">&quot;Hmxs&quot;</span>;</span><br><span class="line">data = <span class="number">2</span>;</span><br><span class="line"><span class="comment">// æå–</span></span><br><span class="line">std::<span class="built_in">get</span>&lt;<span class="type">int</span>&gt;(data);</span><br><span class="line"><span class="keyword">auto</span>* value = std::<span class="built_in">get_if</span>&lt;std::string&gt;(&amp;data);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”¨ä¾‹1</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">auto</span>* value = std::<span class="built_in">get_if</span>&lt;std::string&gt;(&amp;data);)</span><br><span class="line">&#123;</span><br><span class="line">    std::string* v = value;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”¨ä¾‹2</span></span><br><span class="line"><span class="keyword">enum</span> ErrorCode</span><br><span class="line">&#123;</span><br><span class="line">    kNone,</span><br><span class="line">    kNotFound</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">std::variant&lt;std::string, ErrorCode&gt; <span class="title">ReadFile</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>std::variant</code>ä¸<code>union</code>å¯ä»¥èµ·åˆ°çš„ä½œç”¨æœ‰äº›ç±»ä¼¼ï¼Œä»–ä»¬å„æœ‰ä¼˜åŠ£</p>
<p><code>union</code>çš„å†…å­˜å¤§å°ç”±å…¶ä¸­æœ€å¤§çš„ç±»å‹å†³å®šï¼Œè€Œ<code>std::variant</code>åˆ™æ¯”è¾ƒç±»ä¼¼<code>class</code>ï¼Œå…¶å†…å­˜å¤§å°ç­‰äºä½ å£°æ˜çš„æ‰€æœ‰ç±»å‹çš„å†…å­˜æ€»å’Œï¼Œä»è¿™ä¸€è§’åº¦ä¸Šçœ‹ï¼Œ<code>union</code>çš„ç©ºé—´æ€§èƒ½æ›´å¥½</p>
<p>ä½†ä¸ä¹‹ç›¸å¯¹çš„<code>std::variant</code>æ‹¥æœ‰æ›´å¥½çš„å®‰å…¨æ€§ï¼Œå…¶æ˜¯ç±»å‹å®‰å…¨çš„</p>
<hr>
<h2 id="å¦‚ä½•å‚¨å­˜ä»»æ„ç±»å‹çš„æ•°æ®ï¼ˆ78ï¼‰">å¦‚ä½•å‚¨å­˜ä»»æ„ç±»å‹çš„æ•°æ®ï¼ˆ78ï¼‰</h2>
<blockquote>
<p><strong><code>std::any</code>æ˜¯C++17ä¸­å¼•å…¥çš„æ–°ç±»ï¼Œå®ƒå¯ä»¥å‚¨å­˜ä»»æ„ç±»å‹çš„æ•°æ®</strong></p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">std::any data;</span><br><span class="line"><span class="comment">// èµ‹å€¼</span></span><br><span class="line">data = <span class="number">2</span>;</span><br><span class="line">data = <span class="string">&quot;Hmxs&quot;</span>;</span><br><span class="line"><span class="comment">// æå–</span></span><br><span class="line"><span class="comment">// å¦‚æœå½“å‰dataæ•°æ®ç±»å‹ä¸any_castæƒ³è¦è½¬æ¢çš„ä¸ä¸€è‡´ï¼Œåˆ™ä¼šæŠ›å‡ºå¼‚å¸¸</span></span><br><span class="line">std::<span class="built_in">any_cast</span>&lt;std::string&gt;(data);</span><br></pre></td></tr></table></figure>
<p>æ­£å¦‚<code>any</code>çš„åå­—ä¸€æ ·ï¼Œ<code>std::any</code>å¯ä»¥å­˜å‚¨æ‰€æœ‰ç±»å‹ï¼Œè¿™çœ‹èµ·æ¥ä¾¿äºç¼–å†™ï¼Œä¼šæ¯”ä¸Šä¸€ç« è®²åˆ°çš„<code>std::variant</code>æ–¹ä¾¿å¾ˆå¤šï¼Œä½†è¿™å¹¶ä¸ä¸€å®šæ˜¯ä¼˜ç‚¹,<code>any</code>çš„ä»»æ„å±æ€§ä¼šç»™æˆ‘ä»¬å¸¦æ¥å¾ˆå¤šæ„æ–™ä¹‹å¤–çš„éº»çƒ¦</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">std::any data;</span><br><span class="line">data = <span class="string">&quot;Hmxs&quot;</span>;</span><br><span class="line">std::string value = std::<span class="built_in">any_cast</span>&lt;std::string&gt;(data);</span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šé¢è¿™æ®µä»£ç ï¼Œçœ‹èµ·æ¥ååˆ†åˆç†ï¼Œä½†æ˜¯å®é™…ä¸Šè¿è¡Œåˆ™ä¼šæŠ¥é”™ï¼Œå› ä¸ºå­—é¢é‡<code>&quot;Hmxs&quot;</code>çš„ç±»å‹å®é™…ä¸Šæ˜¯<code>const char[5]</code>ï¼Œè€Œæˆ‘ä»¬å°†å…¶çœ‹åšäº†<code>std::string</code>ï¼Œ<code>any_cast</code>å¹¶ä¸ä¼šå¸®æˆ‘ä»¬è¿›è¡Œéšå¼ç±»å‹è½¬æ¢ï¼Œä½†å·®ä¸å¤šçš„ä»£ç ä½¿ç”¨<code>std::variant</code>åˆ™å®Œå…¨ä¸ä¼šæœ‰é—®é¢˜ï¼Œå› ä¸ºå…¶æ˜¯ç±»å‹å®‰å…¨çš„</p>
<p>è€Œé™¤æ­¤ä¹‹å¤–ï¼Œ<code>std::any</code>è¿˜å­˜åœ¨ä¸€å®šç¨‹åº¦çš„å†…å­˜é—®é¢˜ï¼Œå½“æˆ‘ä»¬å°†<code>any</code>ç±»å‹çš„å˜é‡èµ‹å€¼ä¸ºå†…å­˜è¾ƒå°çš„ç±»å‹å¦‚<code>int</code>ã€<code>float</code>æ—¶ï¼Œå…¶è¿è¡Œæœºåˆ¶ä¸<code>variant</code>å‡ ä¹ä¸€æ ·ï¼Œä½†å½“æˆ‘ä»¬å°†å…¶å®šä¹‰ä¸ºè¾ƒå¤§çš„ç±»å‹æ—¶ï¼Œå…¶ä¼šè‡ªåŠ¨åœ°è¿›è¡ŒåŠ¨æ€å†…å­˜åˆ†é…ï¼Œè€Œå¯¹æ€§èƒ½å¹¶ä¸æ˜¯ä»€ä¹ˆå¥½äº‹</p>
<blockquote>
<p><strong>æ€»è€Œè¨€ä¹‹ï¼Œå°±ç›®å‰è€Œè¨€<code>any</code>å‡ ä¹æ²¡æœ‰æ¯”è¾ƒå¥½çš„åº”ç”¨åœºæ™¯ï¼Œè€Œä¸ºäº†æˆ‘ä»¬çš„C++ç¨‹åºèƒ½æ›´å¥½åœ°è·‘èµ·æ¥ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡é¿å…ä½¿ç”¨å®ƒ</strong></p>
</blockquote>
<hr>
<h2 id="å¦‚ä½•è®©C-è¿è¡Œåœ°æ›´å¿«ï¼ˆ79ï¼‰">å¦‚ä½•è®©C++è¿è¡Œåœ°æ›´å¿«ï¼ˆ79ï¼‰</h2>
<p>ç°ä»£ç¡¬ä»¶å¾€å¾€æ˜¯å¯ä»¥è¿›è¡Œå¹¶è¡Œè¿ç®—çš„ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥åœ¨åŒä¸€æ—¶é—´å¹¶è¡Œæ‰§è¡ŒæŒ‡ä»¤ï¼Œä½¿ç”¨å¤šçº¿ç¨‹å¯ä»¥å¤§å¹…æé«˜ç¨‹åºè¿è¡Œçš„é€Ÿåº¦ï¼Œä½†å¤šçº¿ç¨‹å¸¦æ¥çš„ç¨‹åºè°ƒåº¦é—®é¢˜ä¹Ÿæ˜¯ååˆ†å¤æ‚çš„</p>
<blockquote>
<p><strong>åœ¨C++11ä¸­ï¼Œ<code>std::async</code>è¢«å¼•å…¥å¸®åŠ©æˆ‘ä»¬å®ç°ç¨‹åºçš„å¤šçº¿ç¨‹åŒ–</strong></p>
</blockquote>
<hr>
<h2 id="å¦‚ä½•è®©å­—ç¬¦ä¸²æ›´å¿«ï¼ˆ80ï¼‰">å¦‚ä½•è®©å­—ç¬¦ä¸²æ›´å¿«ï¼ˆ80ï¼‰</h2>
<blockquote>
<p><strong>C++çš„å­—ç¬¦ä¸²å®é™…ä¸Šéå¸¸æ…¢ï¼Œè€Œæˆ‘ä»¬å¯ä»¥åšä¸€äº›äº‹æƒ…è®©å®ƒä»¬èƒ½è¢«æ›´å¿«åœ°å¤„ç†</strong></p>
</blockquote>
<p><code>std::string</code>çš„ä¸»è¦é—®é¢˜ä¹‹ä¸€ï¼Œå¯èƒ½å°±æ˜¯å­—ç¬¦ä¸²æ ¼å¼åŒ–ä»¥åŠå­—ç¬¦ä¸²æ“ä½œï¼Œå› ä¸ºå®ƒä»¬éƒ½éœ€è¦è¿›è¡Œå†…å­˜åˆ†é…</p>
<p>ä¸‹é¢çš„ä»£ç é€šè¿‡é‡è½½<code>new</code>è¿ç®—ç¬¦çš„æ–¹å¼æ­ç¤ºäº†å…¶ä¼šè¿›è¡Œçš„å†…å­˜åˆ†é…</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">static</span> <span class="type">uint32_t</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span>* <span class="keyword">operator</span> <span class="title">new</span><span class="params">(<span class="type">size_t</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    count++;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;allocating:&quot;</span> &lt;&lt; size &lt;&lt; <span class="string">&quot;bytes\n&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">malloc</span>(size);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintName</span><span class="params">(<span class="type">const</span> std::string&amp; name)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; name &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::string name = <span class="string">&quot;hmxs&#x27;s Cpp&quot;</span>;</span><br><span class="line">    <span class="built_in">PrintName</span>(name);</span><br><span class="line">    std::cout &lt;&lt; count &lt;&lt; <span class="string">&quot;allocations\n&quot;</span>;</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// output:</span></span><br><span class="line"><span class="comment">// allocating:16bytes</span></span><br><span class="line"><span class="comment">// hmxs&#x27;s Cpp</span></span><br><span class="line"><span class="comment">// 1allocations</span></span><br></pre></td></tr></table></figure>
<p>è¿è¡Œåæˆ‘ä»¬å¯ä»¥çœ‹åˆ°<code>std::string</code>è°ƒç”¨äº†<code>new</code>è¿›è¡Œäº†1æ¬¡å†…å­˜åˆ†é…</p>
<p>åŒæ—¶ä½¿ç”¨<code>substr()</code>è¿™ç±»å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ“ä½œçš„å‡½æ•°ä¹Ÿä¼šè¿›è¡Œå†…å­˜åˆ†é…</p>
<p>è€Œè§£å†³å®ƒä»¬çš„æ–¹æ³•ä¾¿æ˜¯C++17ä¸­å¼•å…¥çš„<code>std::string_view</code>æˆ–è‡ªå·±å¯¹å­—ç¬¦ä¸²è¿›è¡ŒåŒ…è£…</p>
<blockquote>
<p><strong><code>std::string_view</code>æ˜¯ä¸€ä¸ªæŒ‡å‘ç°æœ‰å­—ç¬¦ä¸²å†…å­˜çš„æŒ‡é’ˆï¼Œå…¶å°±åƒä¸€ä¸ªè§‚å¯Ÿå­—ç¬¦ä¸²çš„çª—å£ï¼Œé€šè¿‡å®ƒæˆ‘ä»¬ä¾¿å¯ä»¥å‡å°‘è¿›è¡Œå­—ç¬¦ä¸²æ“ä½œæ—¶å‘ç”Ÿçš„å†…å­˜åˆ†é…</strong></p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">std::string name = <span class="string">&quot;hmxs&quot;</span>;</span><br><span class="line"><span class="function">std::string_view <span class="title">sub_name1</span><span class="params">(name.c_str(), <span class="number">2</span>)</span></span>;</span><br><span class="line"><span class="function">std::string_view <span class="title">sub_name2</span><span class="params">(name.c_str() + <span class="number">2</span>, <span class="number">2</span>)</span></span>;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·ä¸€æ¥å†…å­˜åˆ†é…ä¾¿è¢«å‡å°‘äº†</p>
<p>è€Œä¸ä½¿ç”¨<code>std::string</code>ä½¿ç”¨<code>const char*</code>åˆ™å¯ä»¥å®Œå…¨ä¸éœ€è¦å†…å­˜åˆ†é…</p>
<hr>
<h2 id="å¯è§†åŒ–åŸºå‡†æµ‹è¯•ï¼ˆ81ï¼‰">å¯è§†åŒ–åŸºå‡†æµ‹è¯•ï¼ˆ81ï¼‰</h2>
<p>åœ¨ä¹‹å‰çš„ç¬¬74ç« <code>åŸºå‡†æµ‹è¯•</code>ä¸­ï¼Œæˆ‘ä»¬äº†è§£äº†ä½¿ç”¨<code>Timer</code>ç±»ä¸æ§åˆ¶å°è¿›è¡Œè¾“å‡ºçš„åŸºå‡†æµ‹è¯•æ–¹æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤º</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Function1</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Timer <span class="title">timer</span><span class="params">(<span class="string">&quot;Function1&quot;</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; ++i)</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Hello #&quot;</span> &lt;&lt; i &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Function2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Timer <span class="title">timer</span><span class="params">(<span class="string">&quot;Function2&quot;</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; ++i)</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Hello #&quot;</span> &lt;&lt; <span class="built_in">sqrt</span>(i) &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åªéœ€è¦åœ¨å¯¹åº”ä½œç”¨åŸŸå†…å£°æ˜<code>Timer</code>å˜é‡å³å¯</p>
<p>ä½†è¿™ç§æ–¹æ³•æœ‰æ—¶æ¯”è¾ƒéº»çƒ¦ï¼Œåœ¨å¤§é‡æ§åˆ¶å°è¾“å‡ºä¸­å¯»æ‰¾é‚£ä¸ªåŸºå‡†æµ‹è¯•æ•°æ®å¹¶ä¸æ˜¯ä»€ä¹ˆå¾ˆå¥½çš„ä½“éªŒ</p>
<p>è¿™æ—¶å€™å¯è§†åŒ–å°±å¯ä»¥å‡ºåœºäº†ï¼Œè€Œæˆ‘ä»¬å°†ä½¿ç”¨<code>Edge</code>/<code>Chrome</code>è¿›è¡Œå¯è§†åŒ–åŸºå‡†æµ‹è¯•</p>
<p>æˆ‘ä»¬åªéœ€è¦åœ¨æµè§ˆå™¨çš„åœ°å€æ è¾“å…¥<code>edge://tracing</code>ï¼ˆ<code>Chrome</code>åˆ™ä¸º<code>chrome://tracing</code>ï¼‰å³å¯è¿›å…¥å¯è§†åŒ–é¡µé¢</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202309200023131.png" alt="image-20230920002356933" style="zoom: 33%;" />
<p>è¿™ä¸ªé¡µé¢æ¥å—ä¸€ä¸ª<code>.json</code>æ–‡ä»¶ï¼Œè€Œæˆ‘ä»¬éœ€è¦åšçš„ä¾¿æ˜¯è¾“å‡ºä¸€ä¸ªç¬¦åˆè¦æ±‚çš„<code>json</code>æ–‡ä»¶</p>
<p>ä½¿ç”¨æµè¾“å‡ºä»£ç æ ¹æ®è§„å®šæ ¼å¼è¾“å‡ºå³å¯è·å¾—jsonæ–‡ä»¶ï¼Œ<code>cherno</code>ä¸ºæˆ‘ä»¬ç¼–å†™äº†æµè¾“å‡ºç¨‹åº<a href="https://gist.github.com/TheCherno/31f135eea6ee729ab5f26a6908eb3a5e">https://gist.github.com/TheCherno/31f135eea6ee729ab5f26a6908eb3a5e</a></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Function1</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">InstrumentationTimer <span class="title">timer</span><span class="params">(<span class="string">&quot;Function1&quot;</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; ++i)</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Hello #&quot;</span> &lt;&lt; i &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Function2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">InstrumentationTimer <span class="title">timer</span><span class="params">(<span class="string">&quot;Function2&quot;</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; ++i)</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Hello #&quot;</span> &lt;&lt; <span class="built_in">sqrt</span>(i) &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Instrumentor::<span class="built_in">Get</span>().<span class="built_in">BeginSession</span>(<span class="string">&quot;Profile&quot;</span>);</span><br><span class="line">    <span class="built_in">Function1</span>();</span><br><span class="line">    <span class="built_in">Function2</span>();</span><br><span class="line">    Instrumentor::<span class="built_in">Get</span>().<span class="built_in">EndSession</span>();</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æ­¤æˆ‘ä»¬ä¾¿å¾—åˆ°äº†å¯ä»¥ä½¿ç”¨çš„<code>json</code>æ–‡ä»¶ï¼Œå°†å…¶æ‹–å…¥ä¸Šè¿°ç½‘ç«™å³å¯è·å¾—å¯è§†åŒ–ç»“æœ</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202309200114877.png" alt="image-20230920011456750" style="zoom:33%;" />
<hr>
<h2 id="å•ä¾‹æ¨¡å¼ï¼ˆ82ï¼‰">å•ä¾‹æ¨¡å¼ï¼ˆ82ï¼‰</h2>
<p>å•ä¾‹æ¨¡å¼åœ¨C#ä¸Javaä¸­ä¼šç»å¸¸è¢«æåˆ°ï¼Œè¿™æ˜¯ä¸€ç§éå¸¸åŸºç¡€çš„è®¾è®¡æ¨¡å¼ï¼Œå…¶ä¿è¯äº†æŸä¸€ç±»åªèƒ½è¢«å®ä¾‹åŒ–ä¸€æ¬¡ï¼Œä¸”å¯ä»¥è¢«å…¨å±€è°ƒç”¨</p>
<p>è€Œåœ¨C++ä¸­ï¼Œå› ä¸ºC++çš„çµæ´»æ€§ï¼Œå…¶å®æˆ‘ä»¬å¹¶ä¸éœ€è¦ä½¿ç”¨ç±»æ¥ç»„ç»‡ä¸€åˆ‡ï¼Œä¸€ä¸ªå…¨å±€å˜é‡/å‡½æ•°å°±èƒ½å®ç°å•ä¾‹çš„æ•ˆæœï¼Œé‚£ä¹ˆå•ä¾‹åœ¨C++ä¸­çš„æ„ä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ç”¨æ›´åŠ çµæ´»çš„çœ¼å…‰çœ‹å¾…C++ä¸­çš„å•ä¾‹</p>
<blockquote>
<p><strong>C++ä¸­çš„å•ä¾‹åªæ˜¯ä¸€ç§ç»„ç»‡ä¸€å †å…¨å±€å˜é‡å’Œé™æ€å‡½æ•°çš„æ–¹å¼ï¼Œå¯ä»¥èµ·åˆ°ç±»ä¼¼å‘½åç©ºé—´çš„æ•ˆæœ</strong></p>
</blockquote>
<h3 id="C-å•ä¾‹çš„åŸºç¡€å®ç°">C++å•ä¾‹çš„åŸºç¡€å®ç°</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Singleton</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// åˆ é™¤æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">Singleton</span>(<span class="type">const</span> Singleton&amp;) = <span class="keyword">delete</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">static</span> Singleton&amp; <span class="title">Instance</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> instance_;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">// ç§æœ‰æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">Singleton</span>() &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">static</span> Singleton instance_;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Singleton Singleton::instance_;</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°å®ç°éœ€è¦åœ¨å¤–éƒ¨å£°æ˜<code>instance</code>ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œè€Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ä¸‹é¢çš„å†™æ³•ç®€åŒ–ä»£ç </p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Singleton</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Singleton</span>(<span class="type">const</span> Singleton&amp;) = <span class="keyword">delete</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">static</span> Singleton&amp; <span class="title">Instance</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="type">static</span> Singleton instance;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">Singleton</span>() &#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>å®é™…ä¸Šæˆ‘ä»¬ä½¿ç”¨å‘½åç©ºé—´å¯ä»¥è¾¾åˆ°å·®ä¸å¤šçš„æ•ˆæœï¼ˆé™¤äº†ä¸èƒ½èµ‹å€¼ä»¥å¤–ï¼‰ï¼Œè€Œä½¿ç”¨ç±»æ¥å¯¹ä»£ç è¿›è¡Œç»„ç»‡æˆ–è®¸ä¼šæ›´åŠ æœ‰æ¡ç†</strong></p>
</blockquote>
<hr>
<h2 id="å°å­—ç¬¦ä¸²ä¼˜åŒ–ï¼ˆ83ï¼‰">å°å­—ç¬¦ä¸²ä¼˜åŒ–ï¼ˆ83ï¼‰</h2>
<blockquote>
<p><strong>C++å­—ç¬¦ä¸²çš„å­—ç¬¦ä¸²çš„æ…¢ä¼—æ‰€å‘¨çŸ¥ï¼Œå› ä¸ºå…¶æ€»æ˜¯å€¾å‘äºå»è¿›è¡Œå †å†…å­˜çš„åˆ†é…ï¼›ä½†è¿™å¹¶ä¸ç»å¯¹ï¼Œå½“æˆ‘ä»¬å®šä¹‰çš„å­—ç¬¦ä¸²å°äºä¸€å®šé•¿åº¦æ—¶ï¼Œå…¶ä¾¿ä¸ä¼šè¿›è¡Œå †å†…å­˜çš„åˆ†é…äº†</strong></p>
</blockquote>
<p>åœ¨VS19ä¸­ï¼Œè¿™ä¸ªå€¼æ˜¯15ï¼Œå³å½“æˆ‘ä»¬å®šä¹‰çš„å­—ç¬¦ä¸²å°äºç­‰äº15ä¸ªå­—ç¬¦æ—¶ï¼Œå…¶ä¾¿ä¸ä¼šè¿›è¡Œå†…å­˜åˆ†é…äº†</p>
<hr>
<h2 id="è·Ÿè¸ªå†…å­˜åˆ†é…çš„ç®€å•æ–¹æ³•ï¼ˆ84ï¼‰">è·Ÿè¸ªå†…å­˜åˆ†é…çš„ç®€å•æ–¹æ³•ï¼ˆ84ï¼‰</h2>
<blockquote>
<p><strong>å†…å­˜æ€»æ˜¯ç¨‹åºçš„é‡ä¸­ä¹‹é‡ï¼Œæˆ–è®¸åœ¨å½“ä»£è®¡ç®—æœºç¡¬ä»¶çš„é«˜é€Ÿå‘å±•ä¸‹ï¼Œå†…å­˜çš„ä½¿ç”¨å·²ä¸å†é‚£ä¹ˆæ‰è¥Ÿè§è‚˜ï¼Œä½†å¯¹äºå†…å­˜ä½¿ç”¨ä»æ˜¯æˆ‘ä»¬éœ€è¦å…³æ³¨çš„</strong></p>
</blockquote>
<p>æˆ‘ä»¬å¯ä»¥å¯¹å…¨å±€çš„<code>new</code>ä¸<code>delete</code>æ“ä½œç¬¦è¿›è¡Œé‡è½½+æ–­ç‚¹+æ£€æŸ¥å†…å­˜å †æ ˆçš„å½¢å¼ç®€å•åœ°æ£€æŸ¥æ¯ä¸€å¤„å†…å­˜åˆ†é…ä¸é‡Šæ”¾çš„åœ°æ–¹</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span>* <span class="keyword">operator</span> <span class="title">new</span><span class="params">(<span class="type">size_t</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;allocating&quot;</span> &lt;&lt; size &lt;&lt; <span class="string">&quot;bytes\n&quot;</span>;	</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">malloc</span>(size);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="keyword">operator</span> <span class="title">delete</span><span class="params">(<span class="type">void</span>* memory, <span class="type">size_t</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;freeing&quot;</span> &lt;&lt; size &lt;&lt; <span class="string">&quot;bytes\n&quot;</span>;	</span><br><span class="line"></span><br><span class="line">    <span class="built_in">free</span>(memory);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202309210133729.png" alt="image-20230921013310633" style="zoom: 80%;" />
<p>æ›´è¿›ä¸€æ­¥ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå…¨å±€çš„å†…å­˜è®°å½•å™¨æ¥è®°å½•æ‰€æœ‰åˆ†é…çš„å†…å­˜å¤§å°</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">AllocationMetrics</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">uint32_t</span> total_allocated = <span class="number">0</span>;</span><br><span class="line">    <span class="type">uint32_t</span> total_freed = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">uint32_t</span> <span class="title">CurrentUsage</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> total_allocated - total_freed; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> AllocationMetrics allocation_metrics;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span>* <span class="keyword">operator</span> <span class="title">new</span><span class="params">(<span class="type">size_t</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    allocation_metrics.total_allocated += size;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">malloc</span>(size);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="keyword">operator</span> <span class="title">delete</span><span class="params">(<span class="type">void</span>* memory, <span class="type">size_t</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    allocation_metrics.total_freed += size;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">free</span>(memory);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="å·¦å€¼ä¸å³å€¼ï¼ˆ85ï¼‰">å·¦å€¼ä¸å³å€¼ï¼ˆ85ï¼‰</h2>
<blockquote>
<p><strong>å·¦å€¼åŸºæœ¬ä¸Šæ˜¯å…·æœ‰å­˜å‚¨å±æ€§çš„å¯¹è±¡ï¼Œå…¶å…·æœ‰åœ°å€å’Œå€¼ï¼Œå¯ä»¥å‡ºç°åœ¨<code>=</code>çš„å·¦å³ä¸¤è¾¹</strong></p>
<p><strong>å³å€¼åŸºæœ¬ä¸Šæ˜¯ä¸´æ—¶å¯¹è±¡ï¼Œå¦‚å­—é¢é‡ä¸è¡¨è¾¾å¼ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹åªèƒ½å‡ºç°åœ¨<code>=</code>çš„å³è¾¹ï¼Œä¸èƒ½è¢«èµ‹å€¼</strong></p>
<p><strong>å·¦å€¼å¼•ç”¨ï¼Œå¦‚<code>std::string&amp;</code>ï¼Œåªèƒ½æ¥å—å·¦å€¼ï¼Œé™¤éåŠ ä¸Š<code>const</code></strong></p>
<p><strong>å³å€¼å¼•ç”¨ï¼Œå¦‚<code>std::sting&amp;&amp;</code>ï¼Œåªèƒ½æ¥å—å³å€¼</strong></p>
</blockquote>
<p>å·¦å€¼å³å€¼çš„å®šä¹‰å¤æ‚ï¼Œå¾ˆéš¾ä¸€è¨€ä»¥è”½ä¹‹ï¼Œçº ç»“äºå®šä¹‰åè€Œå®¹æ˜“é™·å…¥è¯¯åŒºï¼Œæ›´å¥½çš„åšæ³•æ˜¯åœ¨ä¾‹å­ä¸­è¿›è¡Œç†è§£</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿”å›å€¼ä¸ºint&amp;ç±»å‹ï¼Œæ˜¯å·¦å€¼å¼•ç”¨ï¼Œæ‰€ä»¥åªèƒ½è¿”å›å·¦å€¼ï¼Œå³å¿…é¡»æ˜¯å…·æœ‰å­˜å‚¨ç©ºé—´ï¼Œä¸èƒ½æ˜¯ä¸´æ—¶å˜é‡</span></span><br><span class="line"><span class="comment">// æ¥å—çš„å‚æ•°ä¸ºstring&amp;ç±»å‹ï¼Œæ˜¯å·¦å€¼å¼•ç”¨ï¼Œæ‰€ä»¥æ¥å—çš„å‚æ•°ä¹Ÿå¿…é¡»æ˜¯å·¦å€¼ï¼Œç›´æ¥Print(&quot;Hmxs&quot;)ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="function"><span class="type">int</span>&amp; <span class="title">Print</span><span class="params">(std::string&amp; name)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> value = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::string s = <span class="string">&quot;Hmxs&quot;</span>;</span><br><span class="line">    <span class="built_in">Print</span>(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">std::string name1 = <span class="string">&quot;wzh&quot;</span>;</span><br><span class="line">std::string name2 = <span class="string">&quot;hmxs&quot;</span>;</span><br><span class="line">std::string name3 = name1 + name2;</span><br><span class="line"><span class="comment">// name1ï¼Œname2ï¼Œname3æ˜¯å·¦å€¼</span></span><br><span class="line"><span class="comment">// &quot;wzh&quot;ï¼Œ&quot;hmxs&quot;ï¼Œname1+name2æ˜¯å³å€¼</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å‚æ•°ä¸ºå³å€¼å¼•ç”¨ï¼Œåªèƒ½ä¼ å…¥å³å€¼ï¼Œä¼ å…¥å·¦å€¼ä¼šæŠ¥é”™ï¼Œå³Print(name)ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">(std::string&amp;&amp; name)</span> </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">Print</span>(<span class="string">&quot;wzh&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>å·¦å€¼å³å€¼åœ¨è¿›è¡Œä¼˜åŒ–ä¸ç§»åŠ¨è¯­ä¹‰æ—¶å¾ˆæœ‰ç”¨ï¼Œå…¶ä¹Ÿä¸€å®šç¨‹åº¦ååº”äº†C++çš„è¿è¡Œæœºç†</strong></p>
</blockquote>
<hr>
<h2 id="æŒç»­é›†æˆï¼ˆ86ï¼‰">æŒç»­é›†æˆï¼ˆ86ï¼‰</h2>
<blockquote>
<p><strong>æŒç»­é›†æˆï¼ˆCIï¼‰é€šå¸¸æŒ‡çš„æ˜¯åœ¨å¼€å‘æœŸé—´æŒç»­é›†æˆä»£ç çš„è¿‡ç¨‹ï¼Œå…¶æœ¬è´¨æ˜¯æ„å»ºè‡ªåŠ¨åŒ–å’Œæµ‹è¯•</strong></p>
<p><strong>åœ¨å¤šäººåä½œå¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œå¤šåå¼€å‘è€…åœ¨ä¸€èµ·è´¡çŒ®ä»£ç çš„è¿‡ç¨‹ä¸­æœ‰å¯èƒ½ä¸ä¼šåœ¨æ‰€æœ‰å¹³å°è¿›è¡Œæµ‹è¯•ï¼Œæœ‰äº›åªåœ¨ç‰¹å®šå¹³å°ä¼šå‡ºç°çš„bugæœ‰å¯èƒ½å°±ä¸ä¼šè¢«å‘ç°ï¼Œè€Œè¦æ±‚æ‰€æœ‰å¼€å‘è€…ä¸ºæ‰€æœ‰å¹³å°è¿›è¡Œæµ‹è¯•æˆæœ¬è¿‡äºå·¨å¤§ï¼Œè€ŒæŒç»­é›†æˆå¯ä»¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨åŒ–æ•´ä¸ªè¿‡ç¨‹ï¼Œç¡®ä¿ä»£ç åœ¨æ‰€æœ‰å¹³å°å’Œæ‰€æœ‰é…ç½®ä¸‹éƒ½å¯ä»¥ç¼–è¯‘</strong></p>
</blockquote>
<p>åœ¨è¿™é›†ä¸­Chernoæ¨èäº†Jenkinsæ¥å®ç°æŒç»­é›†æˆ</p>
<p>ç›®å‰è¿™å—å†…å®¹å¯¹æˆ‘æ¥è¯´å¹¶æ²¡æœ‰å¾ˆå¤§ä½œç”¨ï¼Œæ‰€ä»¥è¿™ç« å…ˆè·³è¿‡</p>
<hr>
<h2 id="é™æ€åˆ†æï¼ˆ87ï¼‰">é™æ€åˆ†æï¼ˆ87ï¼‰</h2>
<blockquote>
<p><strong>é™æ€åˆ†æï¼ˆStatic Analysisï¼‰æ˜¯ä»£ç çš„æ£€æŸ¥åˆ†æå™¨ï¼Œå¤šä¸€åŒçœ¼ç›æ£€æŸ¥ä½ çš„ä»£ç æ€»æ²¡åå¤„</strong></p>
</blockquote>
<p>å…¶ä¸­Chernoæ¨èäº†pvs studioï¼Œä½†å…¶ä¸­æœ‰å•†ä¸šæ¨å¹¿çš„è¦ç´ </p>
<p>ç”±äºä¸æƒ³é¢å¤–èŠ±é’±æ‰€ä»¥è¿™ç« ä¹Ÿå…ˆè·³è¿‡</p>
<p>é™æ€åˆ†æå·¥å…·å¤šç§å¤šæ ·ï¼Œå…¶ä¸­ä¹Ÿä¸ä¹å¼€æºå…è´¹çš„å·¥å…·</p>
<hr>
<h2 id="å‚æ•°è®¡ç®—é¡ºåºï¼ˆ88ï¼‰">å‚æ•°è®¡ç®—é¡ºåºï¼ˆ88ï¼‰</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; a &lt;&lt; <span class="string">&quot; + &quot;</span> &lt;&lt; b &lt;&lt; <span class="string">&quot; = &quot;</span> &lt;&lt; (a + b) &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> value = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">Print</span>(value++, value++);</span><br><span class="line"></span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæœ€åä¼šè¾“å‡ºä»€ä¹ˆå®é™…ä¸Šæ˜¯ä¸ç¡®å®šçš„ï¼Œå³<code>æœªå®šä¹‰è¡Œä¸º</code></p>
<blockquote>
<p><strong>C++å¹¶æ²¡æœ‰æä¾›å‚æ•°è®¡ç®—é¡ºåºçš„è§„èŒƒï¼Œæ‰€ä»¥è®¡ç®—é¡ºåºå®Œå…¨æ ¹æ®ç¼–è¯‘å™¨çš„å®ç°ä¸C++çš„ç‰ˆæœ¬å†³å®šï¼Œç”šè‡³ä¸åŒçš„è¿è¡Œæ¨¡å¼ä¹Ÿä¼šå½±å“è¾“å‡ºçš„ç»“æœ</strong></p>
<p><strong>æˆ‘ä»¬åº”è¯¥å°½é‡é¿å…å†™å‡ºè¿™æ ·ä»¤äººç–‘æƒ‘çš„ä»£ç </strong></p>
</blockquote>
<hr>
<h2 id="ç§»åŠ¨è¯­ä¹‰ï¼ˆ89ï¼‰">ç§»åŠ¨è¯­ä¹‰ï¼ˆ89ï¼‰</h2>
<blockquote>
<p><strong>åœ¨C++11ä¹‹å‰ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æŠŠä¸€ä¸ªå¯¹è±¡ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”è·å¾—å¯¹è±¡çš„æ‰€æœ‰æƒï¼Œæˆ‘ä»¬é™¤äº†æ‹·è´åˆ«æ— é€‰æ‹©ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å½“å‰å †æ ˆå¸§ä¸­æ„é€ ä¸€ä¸ªä¸€æ¬¡æ€§å¯¹è±¡ï¼Œç„¶åå°†å®ƒå¤åˆ¶åˆ°æˆ‘æ­£åœ¨è°ƒç”¨çš„å‡½æ•°ä¸­</strong></p>
<p><strong>è¿™å¹¶ä¸ç†æƒ³ï¼Œå¦‚æœæˆ‘ä»¬çš„å¯¹è±¡æ¯”è¾ƒå¤§ï¼Œé‚£ä¹ˆè¿™ä¸€è¿‡ç¨‹å°†å˜å¾—å¾ˆæ…¢ï¼Œè€Œè¿™æ—¶ç§»åŠ¨è¯­ä¹‰ä¾¿å‡ºç°äº†ï¼Œå…¶å…è®¸æˆ‘ä»¬ç§»åŠ¨å¯¹è±¡è€Œä¸æ˜¯å¤åˆ¶å®ƒï¼Œä»¥æ­¤æ¥æé«˜æ€§èƒ½</strong></p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">String</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">String</span>() = <span class="keyword">default</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">String</span>(<span class="type">const</span> <span class="type">char</span>* string)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Created\n&quot;</span>);</span><br><span class="line">        size_ = <span class="built_in">strlen</span>(string);</span><br><span class="line">        data_ = <span class="keyword">new</span> <span class="type">char</span>[size_];</span><br><span class="line">        <span class="built_in">memcpy</span>(data_, string, size_);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¤åˆ¶æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">String</span>(<span class="type">const</span> String&amp; other)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Coped\n&quot;</span>);</span><br><span class="line">        size_ = other.size_;</span><br><span class="line">        data_ = <span class="keyword">new</span> <span class="type">char</span>[size_];</span><br><span class="line">        <span class="built_in">memcpy</span>(data_, other.data_, size_);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">String</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">delete</span> data_;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">uint32_t</span> i = <span class="number">0</span>; i &lt; size_; i++)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, data_[i]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">char</span>* data_;</span><br><span class="line">    <span class="type">uint32_t</span> size_;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Entity</span>(<span class="type">const</span> String&amp; name)</span><br><span class="line">        : <span class="built_in">name_</span>(name)</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">PrintName</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        name_.<span class="built_in">Print</span>();</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    String name_;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Entity <span class="title">entity</span><span class="params">(String(<span class="string">&quot;Hmxs&quot;</span>))</span></span>;</span><br><span class="line">    entity.<span class="built_in">PrintName</span>();</span><br><span class="line"></span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// result:</span></span><br><span class="line"><span class="comment">// Created</span></span><br><span class="line"><span class="comment">// Coped</span></span><br><span class="line"><span class="comment">// Hmxs</span></span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨ç§»åŠ¨è¯­ä¹‰ï¼Œé‚£ä¹ˆå¤åˆ¶å¯¹è±¡å‡ ä¹æ— æ³•é¿å…</p>
<p>ä½†æˆ‘ä»¬å¿…é¡»å¤åˆ¶å¯¹è±¡åœ¨è¿™ä¸€æƒ…æ™¯ä¸‹å…¶å®ç†åº”æ˜¯è’è°¬çš„ï¼Œæˆ‘ä»¬çš„éœ€æ±‚ä¸º<code>å°†ä¸€ä¸ªStringå¯¹è±¡æ”¾å…¥Entityä¸­</code>ï¼Œä½†æˆ‘ä»¬éœ€è¦åšçš„å´æ˜¯<code>å…ˆåœ¨å¤–éƒ¨åˆ›å»ºä¸€ä¸ªStringå¯¹è±¡ï¼Œå†å°†å…¶æ·±æ‹·è´åˆ°Entityçš„Stringä¸­</code>ï¼Œä¸ºå•¥æˆ‘ä»¬ä¸èƒ½ç›´æ¥å°†å¤–éƒ¨åˆ›å»ºçš„<code>String</code>ç›´æ¥ç§»åŠ¨åˆ°<code>Entity</code>ä¸­å‘¢ï¼Ÿè€Œä½¿ç”¨ç§»åŠ¨è¯­ä¹‰ï¼Œæˆ‘ä»¬ä¾¿å¾—ä»¥åšåˆ°è¿™ç‚¹</p>
<p>ç§»åŠ¨è¯­ä¹‰å®è´¨ä¸Šä¾¿æ˜¯å°†æ·±æ‹·è´å˜ä¸ºæµ…æ‹·è´ï¼Œæˆ‘ä»¬éœ€è¦ç¼–å†™ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œé€šè¿‡å³å€¼å¼•ç”¨å°†å¯¹è±¡å¼ºè¡Œæ ‡è®°ä¸ºå³å€¼ï¼Œå³ä¸´æ—¶å¯¹è±¡ï¼Œåé€šè¿‡<code>std::move</code>ä½¿æˆ‘ä»¬åœ¨æ‹·è´æ—¶è°ƒç”¨ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œè€Œéå¤åˆ¶æ„é€ å‡½æ•°</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">String</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">String</span>() = <span class="keyword">default</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">String</span>(<span class="type">const</span> <span class="type">char</span>* string)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Created\n&quot;</span>);</span><br><span class="line">        size_ = <span class="built_in">strlen</span>(string);</span><br><span class="line">        data_ = <span class="keyword">new</span> <span class="type">char</span>[size_];</span><br><span class="line">        <span class="built_in">memcpy</span>(data_, string, size_);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¤åˆ¶æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">String</span>(<span class="type">const</span> String&amp; other)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Coped\n&quot;</span>);</span><br><span class="line">        size_ = other.size_;</span><br><span class="line">        data_ = <span class="keyword">new</span> <span class="type">char</span>[size_];</span><br><span class="line">        <span class="built_in">memcpy</span>(data_, other.data_, size_);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç§»åŠ¨æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">String</span>(String&amp;&amp; other)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Moved\n&quot;</span>);</span><br><span class="line">        size_ = other.size_;</span><br><span class="line">        data_ = other.data_;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¤„ç†åŸå…ˆçš„å¯¹è±¡</span></span><br><span class="line">        other.size_ = <span class="number">0</span>;</span><br><span class="line">        other.data_ = <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">String</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Destroyed\n&quot;</span>);</span><br><span class="line">        <span class="keyword">delete</span> data_;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">uint32_t</span> i = <span class="number">0</span>; i &lt; size_; i++)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, data_[i]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">char</span>* data_;</span><br><span class="line">    <span class="type">uint32_t</span> size_;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Entity</span>(<span class="type">const</span> String&amp; name)</span><br><span class="line">        : <span class="built_in">name_</span>(name)</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Entity</span>(String&amp;&amp; name)</span><br><span class="line">        : <span class="built_in">name_</span>(std::<span class="built_in">move</span>(name)) <span class="comment">// å¿…é¡»ä½¿ç”¨std::moveï¼Œå¦åˆ™ä»ç„¶ä¼šå¤åˆ¶ï¼Œå› ä¸ºå³å€¼å¼•ç”¨åœ¨è¿›å…¥å‡½æ•°ä½“åä¼šå˜æˆå·¦å€¼ï¼Œæ‰€ä»¥è¦è§¦å‘ç§»åŠ¨è¯­ä¹‰å¿…é¡»è®©ä»–å˜ä¸ºå³å€¼å¼•ç”¨</span></span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">PrintName</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        name_.<span class="built_in">Print</span>();</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    String name_;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Entity <span class="title">entity</span><span class="params">(String(<span class="string">&quot;Hmxs&quot;</span>))</span></span>;</span><br><span class="line">    entity.<span class="built_in">PrintName</span>();</span><br><span class="line"></span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// result:</span></span><br><span class="line"><span class="comment">// Created</span></span><br><span class="line"><span class="comment">// Moved</span></span><br><span class="line"><span class="comment">// Destroyed</span></span><br><span class="line"><span class="comment">// Hmxs</span></span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬ä¾¿æˆåŠŸé¿å…äº†å¤šä½™çš„å¤åˆ¶ï¼Œå…¶ä¸­<code>Entity entity(String(&quot;Hmxs&quot;));</code>å…·ä½“çš„é€»è¾‘æ˜¯ï¼š</p>
<ol>
<li>é¦–å…ˆ<code>String(&quot;Hmxs&quot;)</code>ä¼šåˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„<code>String</code>å¯¹è±¡ï¼Œè¿™ä¸€å¯¹è±¡ä¼ å…¥<code>entity</code>çš„æ„é€ å‡½æ•°ä¸­</li>
<li>å› ä¸ºä¼ å…¥çš„<code>String</code>å¯¹è±¡æ˜¯å³å€¼ï¼Œæ‰€ä»¥ä¼šä¼˜å…ˆè¿›å…¥<code>Entity(String&amp;&amp; name)</code>è¿™ä¸€å‚æ•°ä¸ºå³å€¼å¼•ç”¨ï¼Œå¹¶æ‰§è¡Œ<code>name_(std::move(name))</code>çš„åˆå§‹åŒ–è¿‡ç¨‹</li>
</ol>
<p><em>ä½œä¸ºå³å€¼å¼•ç”¨è¢«ä¼ å…¥çš„<code>String</code>å¯¹è±¡åœ¨è¿›å…¥å‡½æ•°åå˜ä¸ºäº†å·¦å€¼ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨<code>std::move</code>å°†å…¶å¼ºè½¬ä¸ºå³å€¼å¼•ç”¨ï¼Œæ‰èƒ½è¿›å…¥<code>String</code>çš„ç§»åŠ¨æ„é€ å‡½æ•°</em></p>
<ol start="3">
<li>ä¹‹åä¾¿è¿›å…¥äº†<code>String</code>çš„ç§»åŠ¨æ„é€ å‡½æ•°ä¸­ï¼Œå°†<code>entity</code>ä¸­çš„<code>name_</code>æŒ‡å‘ä¸´æ—¶çš„<code>String</code>å¯¹è±¡ï¼Œä¹‹åå°†ä¸´æ—¶çš„<code>String</code>å¯¹è±¡ç½®ç©ºï¼Œå³å®Œæˆäº†ç§»åŠ¨è¿‡ç¨‹</li>
</ol>
<p><em>å› ä¸ºä¸´æ—¶çš„<code>String</code>å¯¹è±¡æ˜¯å³å€¼ï¼Œä¸”è¢«ç½®ç©ºï¼Œåœ¨è¯­å¥ç»“æŸåä¼šè‡ªåŠ¨åœ°è¿›è¡Œé‡Šæ”¾</em></p>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬ä¾¿å®Œæˆäº†ä¸€æ¬¡æˆåŠŸçš„ç§»åŠ¨è¯­ä¹‰ï¼Œcool</p>
<hr>
<h2 id="std-moveä¸ç§»åŠ¨èµ‹å€¼æ“ä½œç¬¦ï¼ˆ90ï¼‰"><code>std::move</code>ä¸ç§»åŠ¨èµ‹å€¼æ“ä½œç¬¦ï¼ˆ90ï¼‰</h2>
<blockquote>
<p><strong><code>std::move</code>å†…éƒ¨çš„å®ç°æ˜¯ä¸€ä¸ª<code>static_cast</code>ï¼Œå…¶ä¼šå°†ä¼ å…¥å¯¹è±¡çš„ç±»å‹å¼ºè½¬ä¸ºå¯¹åº”ç±»å‹çš„å³å€¼å¼•ç”¨å½¢å¼</strong></p>
<p><strong><code>std::move</code>æ˜¯ä¸€ä¸ªä¼˜é›…çš„å®ç°ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦ä¼ å…¥å³å€¼å¼•ç”¨å‚æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥å°½é‡ä½¿ç”¨å®ƒ</strong></p>
</blockquote>
<p>åœ¨ä¸Šä¸€ç« ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ç¼–å†™<code>ç§»åŠ¨æ„é€ å‡½æ•°</code>å®ç°äº†ç§»åŠ¨è¯­ä¹‰ï¼Œè€Œæ­£å¦‚å…¶åå­—ä¸­çš„<code>æ„é€ </code>æ‰€è¨€ï¼Œå…¶æ˜¯ä¸€ç§ç±»å‹çš„æ„é€ å‡½æ•°ï¼Œåªæœ‰åœ¨å¯¹è±¡æ„é€ æ—¶æ‰ä¼šè¢«è°ƒç”¨</p>
<p>é‚£ä¹ˆå¦‚æœæˆ‘ä»¬æƒ³è¦å¯¹ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å¯¹è±¡ä½¿ç”¨ç§»åŠ¨è¯­ä¹‰å‘¢ï¼Ÿæˆ‘ä»¬åº”è¯¥ä½¿ç”¨<code>ç§»åŠ¨èµ‹å€¼æ“ä½œç¬¦</code></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">String</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">String</span>() = <span class="keyword">default</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç§»åŠ¨æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">String</span>(String&amp;&amp; other)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Moved\n&quot;</span>);</span><br><span class="line">        size_ = other.size_;</span><br><span class="line">        data_ = other.data_;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¤„ç†åŸå…ˆçš„å¯¹è±¡</span></span><br><span class="line">        other.size_ = <span class="number">0</span>;</span><br><span class="line">        other.data_ = <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç§»åŠ¨èµ‹å€¼æ“ä½œ</span></span><br><span class="line">    String&amp; <span class="keyword">operator</span>=(String&amp;&amp; other)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Assigned\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœå°è¯•ç»™è‡ªå·±ç§»åŠ¨å‘è‡ªå·±ï¼Œåº”è¯¥ç›´æ¥è¿”å›</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == &amp;other)</span><br><span class="line">            <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç§»åŠ¨èµ‹å€¼æ“ä½œä¼šä½œç”¨äºä¸€ä¸ªå·²ç»å­˜åœ¨çš„å¯¹è±¡ï¼Œæˆ‘ä»¬åº”è¯¥å…ˆé‡Šæ”¾åŸå…ˆçš„å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">delete</span>[] data_;</span><br><span class="line"></span><br><span class="line">        size_ = other.size_;</span><br><span class="line">        data_ = other.data_;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¤„ç†åŸå…ˆçš„å¯¹è±¡</span></span><br><span class="line">        other.size_ = <span class="number">0</span>;</span><br><span class="line">        other.data_ = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">String</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Destroyed\n&quot;</span>);</span><br><span class="line">        <span class="keyword">delete</span> data_;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">char</span>* data_;</span><br><span class="line">    <span class="type">uint32_t</span> size_;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬åº”è¯¥æ³¨æ„åˆ†è¾¨<code>ç§»åŠ¨æ„é€ </code>ä¸<code>ç§»åŠ¨èµ‹å€¼</code>ï¼Œå› ä¸ºéšå¼è½¬æ¢çš„ç¼˜æ•…ï¼Œæœ‰æ—¶æ„é€ å‡½æ•°å¾ˆå®¹æ˜“å’Œèµ‹å€¼ç›¸æ··æ·†</p>
<hr>
<h2 id="åè®°">åè®°</h2>
<p><code>ã€The Cherno C++ã€‘</code>ç³»åˆ—æš‚æ—¶å®Œç»“å•¦ï¼Œåç»­çš„91-99å› ä¸ºéƒ½æ¯”è¾ƒé•¿ä¸”ä¸æ˜¯æˆ‘ç°åœ¨éœ€è¦çš„çŸ¥è¯†å°±å…ˆæš‚æ—¶æç½®å•¦ï¼Œåç»­å†æ›´æ–°å§</p>
<p>ä¸€ç‚¹ç‚¹è·Ÿå®Œäº†90ç« çš„å†…å®¹ï¼Œåªèƒ½è¯´å—ç›ŠåŒªæµ…</p>
<p>æ„Ÿè°¢<a href="https://www.youtube.com/@TheCherno">The Cherno</a>çš„ç²¾å“æ•™ç¨‹ï¼Œä¹Ÿæ„Ÿè°¢upä¸»<a href="https://space.bilibili.com/364152971">ç¥ç»å…ƒçŒ«</a><u>çš„æ— å¿ç¿»è¯‘</u></p>
]]></content>
      <categories>
        <category>Notes</category>
        <category>C/C++</category>
        <category>TheCherno</category>
      </categories>
      <tags>
        <tag>C/C++</tag>
        <tag>Note</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Œæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€è¯»ä¹¦ç¬”è®°é›¶ï¼šç›®å½•</title>
    <url>/posts/2000/</url>
    <content><![CDATA[<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202305311339429.jpeg" alt="img"></p>
<blockquote>
<p><strong>ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹-Bob Nystrom</strong></p>
<p><strong>ä¹¦ç±æ±‰åŒ–ç‰ˆç½‘å€ï¼š<a href="https://gpp.tkchu.me/">https://gpp.tkchu.me/</a></strong></p>
</blockquote>
<hr>
<p>ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹æ˜¯ä¸€æœ¬ä»‹ç»æ¸¸æˆå¼€å‘ä¸­å¸¸ç”¨è®¾è®¡æ¨¡å¼çš„ä¹¦ç±ï¼Œå®ƒæ¶µç›–äº†è®¸å¤šå¸¸è§çš„æ¸¸æˆç¼–ç¨‹é—®é¢˜ï¼Œå¹¶æä¾›äº†è§£å†³æ–¹æ¡ˆã€‚è¿™æœ¬ä¹¦å¯ä»¥å¸®åŠ©æ¸¸æˆå¼€å‘è€…æ›´åŠ é«˜æ•ˆåœ°å¼€å‘æ¸¸æˆï¼Œå¹¶æé«˜ä»£ç çš„å¯é‡ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§</p>
<p><strong>ä»¥ä¸‹æ˜¯æˆ‘å­¦ä¹ ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹ä¸€ä¹¦çš„è¯»ä¹¦ç¬”è®°</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">Notes</th>
<th style="text-align:center">Introduction</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/2001/">ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹è¯»ä¹¦ç¬”è®° ä¸€</a></td>
<td style="text-align:center">åºç« ï¼šæ¶æ„ã€æ€§èƒ½ä¸æ¸¸æˆ</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/2002/">ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹è¯»ä¹¦ç¬”è®° äºŒ</a></td>
<td style="text-align:center">é‡è®¿è®¾è®¡æ¨¡å¼ï¼šå‘½ä»¤æ¨¡å¼</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/2003/">ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹è¯»ä¹¦ç¬”è®° ä¸‰</a></td>
<td style="text-align:center">é‡è®¿è®¾è®¡æ¨¡å¼ï¼šäº«å…ƒæ¨¡å¼ã€è§‚å¯Ÿè€…æ¨¡å¼</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/2004/">ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹è¯»ä¹¦ç¬”è®° å››</a></td>
<td style="text-align:center">é‡è®¿è®¾è®¡æ¨¡å¼ï¼šåŸå‹æ¨¡å¼ã€å•ä¾‹æ¨¡å¼</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/2005/">ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹è¯»ä¹¦ç¬”è®° äº”</a></td>
<td style="text-align:center">é‡è®¿è®¾è®¡æ¨¡å¼ï¼šçŠ¶æ€æ¨¡å¼</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/2006/">ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹è¯»ä¹¦ç¬”è®° å…­ï¼ˆæ›´æ–°ä¸­ï¼‰</a></td>
<td style="text-align:center">åºåˆ—æ¨¡å¼</td>
</tr>
</tbody>
</table>
]]></content>
      <categories>
        <category>Notes</category>
        <category>Design Pattern</category>
        <category>ã€ŠGame Programming Patternsã€‹</category>
      </categories>
      <tags>
        <tag>Note</tag>
        <tag>ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Œæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€è¯»ä¹¦ç¬”è®°äºŒï¼šå‘½ä»¤æ¨¡å¼</title>
    <url>/posts/2002/</url>
    <content><![CDATA[<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303301905867.jpeg" alt="img"></p>
<blockquote>
<p><strong>ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹-Bob Nystrom</strong></p>
<p><strong>ä¹¦ç±æ±‰åŒ–ç‰ˆç½‘å€ï¼š<a href="https://gpp.tkchu.me/">https://gpp.tkchu.me/</a></strong></p>
<p><strong>ç¬”è®°ç›®å½•ï¼š<a href="https://hmxs.games/posts/2000/">https://hmxs.games/posts/2000/</a></strong></p>
</blockquote>
<hr>
<h1>å‘½ä»¤æ¨¡å¼</h1>
<h2 id="åŸºæœ¬å®šä¹‰ä¸æ¦‚å¿µ">åŸºæœ¬å®šä¹‰ä¸æ¦‚å¿µ</h2>
<p>å‘½ä»¤æ¨¡å¼(Command Pattern)æ˜¯ä¸€ç§å°†å‡½æ•°è°ƒç”¨å¯¹è±¡åŒ–çš„è®¾è®¡æ¨¡å¼ï¼Œâ€œWhen Iâ€™ve used it in the right place, itâ€™s neatly untangled some really gnarly code.â€ï¼Œå…¶å¯ä»¥å¢åŠ ä»£ç çš„æ¡ç†æ€§ï¼ŒåŒæ—¶ä½¿å¾—ä»£ç æœ‰æ›´å¥½çš„æ‹“å±•æ€§ã€‚å‘½ä»¤æ¨¡å¼çš„æ ¸å¿ƒæ˜¯å°†å›è°ƒç”¨é¢å‘å¯¹è±¡çš„æ–¹æ³•è¿›è¡Œå®ç°ï¼Œè®©æ–¹æ³•çš„è°ƒç”¨å¯¹è±¡åŒ–ï¼Œå½“æ–¹æ³•æˆä¸ºå¯¹è±¡ï¼Œè®°å½•ä¸æ›¿æ¢å®ƒä»¬å°±å˜å¾—å¾ˆå®¹æ˜“ã€‚</p>
<h3 id="åº”ç”¨åœºæ™¯">åº”ç”¨åœºæ™¯</h3>
<ul>
<li>æœ‰å›æº¯/æ’¤é”€å‘½ä»¤çš„éœ€æ±‚æ—¶</li>
<li>æœ‰æŒ‰é”®æ›´æ”¹/æ–¹æ³•æ›¿æ¢çš„éœ€æ±‚æ—¶</li>
<li>æœ‰è®°å½•æŒ‡ä»¤æ—¥å¿—çš„éœ€æ±‚æ—¶</li>
</ul>
<h3 id="ä¼˜ç‚¹">ä¼˜ç‚¹</h3>
<ul>
<li>å½“åœ¨æ­£ç¡®çš„åœ°æ–¹ä½¿ç”¨æ—¶ï¼Œå¯ä»¥å°†å¤æ‚çš„ä»£ç æ¸…ç†å¹²å‡€</li>
<li>è®©å‘½ä»¤æœ¬èº«å˜ä¸ºå®ä¾‹ï¼Œæé«˜ä»£ç çš„æ‹“å±•æ€§</li>
<li>å¯ä»¥ä¸ºå®ç°â€œæŒ‡ä»¤çš„æ’¤é”€â€å¸¦æ¥æå¤§çš„ä¾¿åˆ©</li>
</ul>
<h3 id="ç¼ºç‚¹">ç¼ºç‚¹</h3>
<ul>
<li>é€ æˆé¢å¤–çš„å†…å­˜å¼€é”€</li>
</ul>
<hr>
<h2 id="Unityç®€å•å®ç°">Unityç®€å•å®ç°</h2>
<h3 id="å‘½ä»¤åŸºç±»-æ¥å£">å‘½ä»¤åŸºç±»/æ¥å£</h3>
<p>æ­¤å¤„ä¸ºC#çš„æ¥å£å®ç°ï¼Œä¹Ÿå¯é€šè¿‡æŠ½è±¡ç±»+è™šå‡½æ•°çš„æ–¹æ³•å®ç°</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ICommand</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// ä¼ å…¥äº†ä¸€ä¸ªGameObjectä½œä¸ºå‚æ•°ï¼Œè¡¨ç¤ºå‘½ä»¤ä½œç”¨çš„å¯¹è±¡ï¼Œä¹Ÿå¯ä¸ä¼ /ä¼ åˆ«çš„</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Execute</span>(<span class="params">GameObject obj</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å…·ä½“å‘½ä»¤">å…·ä½“å‘½ä»¤</h3>
<p>æ­¤å¤„åˆ›å»ºäº†ä¸¤ä¸ªå…·ä½“å‘½ä»¤:JumpCommand,WalkCommandï¼Œå…·ä½“å‘½ä»¤éœ€ç»§æ‰¿è‡ªICommandæ¥å£ï¼Œå¹¶å®ç°Executeæ–¹æ³•</p>
<p>å®ç°çš„Executeå‡½æ•°ä¸ºå‘½ä»¤çš„å…·ä½“é€»è¾‘ï¼Œå¦‚æœéœ€è¦å¯ä»¥é€šè¿‡æ„é€ å‡½æ•°ä¼ å…¥å‚æ•°</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">JumpCommand</span> : <span class="title">ICommand</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Execute</span>(<span class="params">GameObject obj</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(obj.name + <span class="string">&quot;Jump&quot;</span>);</span><br><span class="line">        <span class="comment">// å…·ä½“æ–¹æ³•é€»è¾‘</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">WalkCommand</span> : <span class="title">ICommand</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> Vector2 _targetPos;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è®¾ç½®æ„é€ å‡½æ•°ä¼ å…¥å‚æ•°ï¼Œè®¾å®šå‘½ä»¤</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WalkCommand</span>(<span class="params">Vector2 pos</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        _targetPos = pos;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Execute</span>(<span class="params">GameObject obj</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(obj.name + <span class="string">&quot;Walk to&quot;</span> + _targetPos);</span><br><span class="line">        <span class="comment">// å…·ä½“æ–¹æ³•é€»è¾‘</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å‘½ä»¤è°ƒç”¨">å‘½ä»¤è°ƒç”¨</h3>
<p>åˆ›å»ºç»§æ‰¿MonoBehaviourç±»çš„è„šæœ¬ç”¨äºè°ƒç”¨å‘½ä»¤</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">InputHandler</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> Vector2 _pos; <span class="comment">// æ¨¡æ‹Ÿç‰©ä½“ç§»åŠ¨</span></span><br><span class="line">    <span class="keyword">private</span> ICommand _currentCommand;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        _currentCommand = InputCommand();</span><br><span class="line">        <span class="keyword">if</span> (_currentCommand != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            _currentCommand.Execute(gameObject); <span class="comment">// æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ¥æ”¶è¾“å…¥ï¼Œè¿”å›å¯¹åº”å‘½ä»¤</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> ICommand <span class="title">InputCommand</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (Input.GetKeyDown(KeyCode.A)) <span class="keyword">return</span> <span class="keyword">new</span> JumpCommand();</span><br><span class="line">        <span class="keyword">if</span> (Input.GetKeyDown(KeyCode.D))</span><br><span class="line">        &#123;</span><br><span class="line">            _pos += Vector2.one;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> WalkCommand(_pos);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‘½ä»¤æ¨¡å¼åœ¨â€œè¾“å…¥â€ä¸â€œè°ƒç”¨å‡½æ•°â€ä¹‹é—´æ·»åŠ äº†ä¸€å±‚é—´æ¥å¯»å€ï¼Œä½¿å¾—â€œè¾“å…¥â€ä¸â€œè°ƒç”¨å‡½æ•°â€ä¹‹é—´ä¸å­˜åœ¨ç¡¬ç¼–ç :</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304022311986.png" alt="img"></p>
<hr>
<h2 id="å‘½ä»¤çš„æ’¤é”€">å‘½ä»¤çš„æ’¤é”€</h2>
<p>åœ¨å‘½ä»¤æ¨¡å¼ä¸­ï¼Œæ¯ä¸€æ¡å‘½ä»¤éƒ½æ˜¯ä¸€ä¸ªå®é™…å­˜åœ¨çš„ç±»ï¼Œç”±æ­¤æˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„å®ç°å›æ»šæ“ä½œ/æ’¤é”€æŒ‡ä»¤ç­‰åŠŸèƒ½ï¼Œè¿™åœ¨å›åˆåˆ¶æ¸¸æˆä¸­æœ‰ç€é‡è¦çš„ä½œç”¨</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304030023331.png" alt="ä»æ—§åˆ°æ–°æ’åˆ—çš„å‘½ä»¤æ ˆã€‚ ä¸€ä¸ªå½“å‰ç®­å¤´æŒ‡å‘ä¸€æ¡å‘½ä»¤ï¼Œä¸€ä¸ªâ€œæ’¤é”€â€ç®­å¤´æŒ‡å‘ä¹‹å‰çš„å‘½ä»¤ï¼Œä¸€ä¸ªâ€œé‡åšâ€æŒ‡å‘ä¹‹åçš„å‘½ä»¤"></p>
<p>ä»¥ä¸‹ä»£ç å®ç°äº†æŒ‡ä»¤çš„æ’¤é”€ï¼š</p>
<p>ä¸ºæ¥å£ä¸å‘½ä»¤ç±»å®ç°Undoæ–¹æ³•ï¼Œåœ¨å…¶ä¸­ç¼–å†™æ’¤é”€ä»£ç ï¼Œå½“æˆ‘ä»¬éœ€è¦æ’¤é”€æŸä¸€æ¡å‘½ä»¤æ—¶ï¼Œæˆ‘ä»¬ä¾¿åªéœ€è¦è°ƒç”¨è¯¥å‘½ä»¤çš„Undoæ–¹æ³•å³å¯</p>
<p>å› ä¸ºæ’¤é”€æ–¹æ³•å¾€å¾€æœ‰ç€å¯¹å‚¨å­˜ä¹‹å‰çŠ¶æ€çš„éœ€æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‘½ä»¤ç±»çš„æ„é€ å‡½æ•°ä¸­ä¼ å…¥è¿™äº›çŠ¶æ€ï¼Œå¹¶ä¸”å£°æ˜ç§æœ‰å˜é‡æ¥å­˜å‚¨å®ƒä»¬</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å‘½ä»¤æ¥å£</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ICommand</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Execute</span>()</span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Undo</span>()</span>;<span class="comment">// æ’¤é”€æ–¹æ³•</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘½ä»¤ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">JumpCommand</span> : <span class="title">ICommand</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Execute</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log( <span class="string">&quot;Jump&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Undo</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(<span class="string">&quot;Jump Undo&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">WalkCommand</span> : <span class="title">ICommand</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> GameObject _obj;</span><br><span class="line">    <span class="keyword">private</span> Vector2 _beforePos;<span class="comment">// å­˜å‚¨ä¹‹å‰çš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">private</span> Vector2 _targetPos;<span class="comment">// ç›®æ ‡ä½ç½®</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¯ä»¥è®¾ç½®æ„é€ å‡½æ•°ä¼ å…¥å‚æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WalkCommand</span>(<span class="params">GameObject obj,Vector2 pos</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        _obj = obj;</span><br><span class="line">        _beforePos = obj.GetComponent&lt;InputHandler&gt;().pos;</span><br><span class="line">        _targetPos = _beforePos + pos;</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Execute</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        _obj.GetComponent&lt;InputHandler&gt;().pos = _targetPos;</span><br><span class="line">        Debug.Log(_obj.name + <span class="string">&quot;Walk To&quot;</span> + _targetPos);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Undo</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        _obj.GetComponent&lt;InputHandler&gt;().pos = _beforePos;</span><br><span class="line">        Debug.Log(_obj.name + <span class="string">&quot;Back To&quot;</span> + _beforePos);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨è°ƒç”¨å‘½ä»¤çš„è„šæœ¬ä¸­ï¼Œé€šè¿‡Unityæä¾›çš„List<T>æ¥å­˜å‚¨æŒ‡ä»¤ï¼Œé€šè¿‡ä¸€ä¸ªintå˜é‡_commandHeadè¡¨ç¤ºListçš„æŒ‡é’ˆï¼ŒæŒ‡å‘å½“å‰å‘½ä»¤ï¼Œé€šè¿‡å¯¹commandHeadçš„æ”¹å˜ä¾¿å¯ä»¥çµæ´»è°ƒç”¨æŒ‡ä»¤</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">InputHandler</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;ICommand&gt; _commands = <span class="keyword">new</span>();<span class="comment">// å‚¨å­˜å‘½ä»¤çš„List</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> _commandHead = <span class="number">-1</span>;<span class="comment">// å‘½ä»¤æŒ‡é’ˆ</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Vector2 pos;<span class="comment">// æ¨¡æ‹Ÿç‰©ä½“ç§»åŠ¨</span></span><br><span class="line">    <span class="keyword">private</span> ICommand _currentCommand;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        _currentCommand = InputCommand();</span><br><span class="line">        <span class="keyword">if</span> (_currentCommand != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">            _commandHead += <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (_commands.Count &lt;= _commandHead)</span><br><span class="line">                _commands.Add(_currentCommand);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                _commands[_commandHead] = _currentCommand;</span><br><span class="line">            _commands[_commandHead].Execute();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (Input.GetKeyDown(KeyCode.Z))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// æ’¤é”€å‘½ä»¤</span></span><br><span class="line">            <span class="keyword">if</span> (_commandHead &gt;= <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                _commands[_commandHead].Undo();</span><br><span class="line">                _commandHead -= <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¥æ”¶è¾“å…¥ï¼Œè¿”å›å¯¹åº”å‘½ä»¤</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> ICommand <span class="title">InputCommand</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (Input.GetKeyDown(KeyCode.A)) <span class="keyword">return</span> <span class="keyword">new</span> JumpCommand();</span><br><span class="line">        <span class="keyword">if</span> (Input.GetKeyDown(KeyCode.D))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> WalkCommand(gameObject, Vector2.one);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Notes</category>
        <category>Design Pattern</category>
        <category>ã€ŠGame Programming Patternsã€‹</category>
      </categories>
      <tags>
        <tag>Note</tag>
        <tag>ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Œæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€è¯»ä¹¦ç¬”è®°ä¸€ï¼šæ¶æ„ã€æ€§èƒ½ä¸æ¸¸æˆ</title>
    <url>/posts/2001/</url>
    <content><![CDATA[<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303301905867.jpeg" alt="img"></p>
<blockquote>
<p><strong>ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹-Bob Nystrom</strong></p>
<p><strong>ä¹¦ç±æ±‰åŒ–ç‰ˆç½‘å€ï¼š<a href="https://gpp.tkchu.me/">https://gpp.tkchu.me/</a></strong></p>
<p><strong>ç¬”è®°ç›®å½•ï¼š<a href="https://hmxs.games/posts/2000/">https://hmxs.games/posts/2000/</a></strong></p>
</blockquote>
<hr>
<h1>æ¶æ„ã€æ€§èƒ½ä¸æ¸¸æˆ</h1>
<p><strong>è½¯ä»¶æ¶æ„</strong>ï¼šæ¶æ„æ˜¯ä»£ç çš„æ„å»ºæ¨¡å¼ã€æ¯ä¸ªç¨‹åºä¸è®ºå¥½åéƒ½æœ‰å…¶æ¶æ„</p>
<p><strong>å¥½çš„è½¯ä»¶æ¶æ„</strong>ï¼šæ¶æ„æ˜¯å…³äºæ”¹åŠ¨çš„â€”è¯„ä»·æ¶æ„è®¾è®¡çš„å¥½åå°±æ˜¯è¯„ä»·å®ƒåº”å¯¹æ”¹åŠ¨æœ‰å¤šä¹ˆè½»æ¾</p>
<p><strong>å¤„ç†ä»£ç æ”¹åŠ¨</strong>ï¼š</p>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303301750097.png" alt="image-20230330175013047"></p>
<p><strong>è§£è€¦</strong>ï¼šæœ€å°åŒ–åœ¨ç¼–å†™ä»£ç å‰éœ€è¦äº†è§£çš„ä¿¡æ¯ï¼Œæœ€å°åŒ–æ›´æ”¹ä¸€å—ä»£ç æ—¶å¯¹å…¶ä»–éƒ¨åˆ†çš„å½±å“</p>
<p><strong>ä»£ä»·</strong>ï¼šæŠ½è±¡ã€æ¨¡å—åŒ–ã€è®¾è®¡æ¨¡å¼å’Œè½¯ä»¶æ¶æ„è®©ç¨‹åºçš„ç¼–å†™ã€æ‹“å±•æ›´æœ‰æ•ˆç‡ï¼Œè®©äººå¯ä»¥è¡Œäº‘æµæ°´çš„ç¼–å†™ä»£ç ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¹Ÿä¼šå¸¦æ¥æ›´å¤§çš„ç»´æŠ¤ä¸ç®¡ç†æˆæœ¬ï¼ŒåŒæ—¶å¤§å¹…æé«˜ä»£ç çš„å¤æ‚åº¦ã€‚**ä¸è¦æ²‰è¿·åœ¨ä»£ç ä¸­ï¼Œè€Œå¿˜è®°äº†æˆ‘ä»¬åˆ°åº•åœ¨å†™ä»€ä¹ˆï¼**å¾ˆå¤šæ—¶å€™ï¼ŒYou arenâ€™t gonna need itï¼</p>
<ul>
<li>
<p>æŠ½è±¡å’Œè§£è€¦è®©æ‰©å±•ä»£ç æ›´å¿«æ›´å®¹æ˜“ï¼Œä½†é™¤éç¡®ä¿¡éœ€è¦çµæ´»æ€§ï¼Œå¦åˆ™ä¸è¦åœ¨è¿™ä¸Šé¢æµªè´¹æ—¶é—´ã€‚</p>
</li>
<li>
<p>åœ¨æ•´ä¸ªå¼€å‘å‘¨æœŸä¸­ä¸ºæ€§èƒ½è€ƒè™‘å¹¶åšå¥½è®¾è®¡ï¼Œä½†æ˜¯å°½å¯èƒ½æ¨è¿Ÿé‚£äº›åº•å±‚çš„ï¼ŒåŸºäºå‡è®¾çš„ä¼˜åŒ–ï¼Œé‚£ä¼šé”æ­»ä»£ç ã€‚</p>
</li>
<li>
<p>å¿«é€Ÿåœ°æ¢ç´¢æ¸¸æˆçš„è®¾è®¡ç©ºé—´ï¼Œä½†ä¸è¦è·‘å¾—å¤ªå¿«ï¼Œåœ¨èº«åç•™ä¸‹çƒ‚æ‘Šå­ã€‚æ¯•ç«Ÿä½ æ€»å¾—å›æ¥æ‰“æ‰«ã€‚</p>
</li>
<li>
<p>å¦‚æœæ‰“ç®—æŠ›å¼ƒè¿™æ®µä»£ç ï¼Œå°±ä¸è¦å°è¯•å°†å…¶å†™å®Œç¾ã€‚æ‘‡æ»šæ˜æ˜Ÿå°†æ—…åº—æˆ¿é—´å¼„å¾—ä¸€å›¢ç³Ÿï¼Œå› ä¸ºä»–ä»¬çŸ¥é“æ˜å¤©å°±èµ°äººäº†ã€‚</p>
</li>
<li>
<p>ä½†æœ€é‡è¦çš„æ˜¯ï¼Œ<strong>å¦‚æœä½ æƒ³è¦åšå‡ºè®©äººäº«å—çš„ä¸œè¥¿ï¼Œé‚£å°±äº«å—åšå®ƒçš„è¿‡ç¨‹ã€‚</strong></p>
</li>
</ul>
]]></content>
      <categories>
        <category>Notes</category>
        <category>Design Pattern</category>
        <category>ã€ŠGame Programming Patternsã€‹</category>
      </categories>
      <tags>
        <tag>Note</tag>
        <tag>ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Œæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€è¯»ä¹¦ç¬”è®°å››ï¼šåŸå‹æ¨¡å¼ã€å•ä¾‹æ¨¡å¼</title>
    <url>/posts/2004/</url>
    <content><![CDATA[<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304060426139.jpeg" alt="img"></p>
<blockquote>
<p><strong>ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹-Bob Nystrom</strong></p>
<p><strong>ä¹¦ç±æ±‰åŒ–ç‰ˆç½‘å€ï¼š<a href="https://gpp.tkchu.me/">https://gpp.tkchu.me/</a></strong></p>
<p><strong>ç¬”è®°ç›®å½•ï¼š<a href="https://hmxs.games/posts/2000/">https://hmxs.games/posts/2000/</a></strong></p>
</blockquote>
<hr>
<h1>åŸå‹æ¨¡å¼</h1>
<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304061710457.png" alt="ä¸€ä¸ªç”Ÿäº§è€…åŒ…å«ä¸€ä¸ªå¯¹æ€ªç‰©åº”ç”¨çš„åŸå‹å­—æ®µã€‚ ä»–è°ƒç”¨åŸå‹çš„clone()æ–¹æ³•æ¥äº§ç”Ÿæ–°çš„æ€ªç‰©ã€‚"></p>
<p>åŸå‹æ¨¡å¼ï¼ˆPrototypePatternï¼‰æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œè®¾è®¡ä¹‹åˆæ˜¯ä¸ºäº†è§£å†³&quot;é‡å¤åˆ›å»ºç±»ä¼¼å¯¹è±¡&quot;è¿™ä¸€é—®é¢˜ï¼›åŸå‹æ¨¡å¼æœ€é‡è¦çš„ç‰¹æ€§ä¾¿æ˜¯â€œ<strong>clone</strong>â€ï¼Œå…¶æå€¡é€šè¿‡é¢„å…ˆåˆ›å»ºä¸€ä¸ª&quot;åŸå‹å¯¹è±¡&quot;ï¼Œå†é€šè¿‡å¯¹åŸå‹è¿›è¡Œå…‹éš†çš„æ–¹å¼åˆ›å»ºå¯¹è±¡ã€‚</p>
<p>åœ¨OOPä¸­ï¼Œç±»æ‹¥æœ‰æ–¹æ³•ï¼Œè€Œå®ä¾‹æ‹¥æœ‰å±æ€§ï¼Œä½†å®é™…ä¸Šè¿™ä¸æ˜¯OOPçš„å”¯ä¸€å®ç°ï¼Œä¸€ç§åä¸ºSelfçš„è¯­è¨€ä½¿ç”¨äº†åŸå‹ä½œä¸ºæ„å»ºOOPä½“ç³»çš„æ ¸å¿ƒï¼Œåœ¨Selfä¸­ä¸å†åŒºåˆ†æ–¹æ³•ä¸å±æ€§ï¼Œå¯¹è±¡æ‹¥æœ‰ä¸€åˆ‡ï¼Œè€Œè¦å»ºç«‹æ–°çš„å¯¹è±¡ä¾¿éœ€è¦å…‹éš†ä¸€ä¸ªåŸæœ‰å¯¹è±¡å¹¶å‘å…¶ä¸­æ·»åŠ ä¸œè¥¿ï¼Œè¿™ç§æ„æƒ³å¬ä¸Šå»éå¸¸ç†æƒ³ï¼Œä½†æ˜¯åœ¨å®é™…ç¼–ç æ—¶å´å¹¶ä¸æ–¹ä¾¿ã€‚è€Œç°ä»£çš„JavaScriptåˆ™å¸æ”¶äº†éƒ¨åˆ†Selfè¯­è¨€çš„æ€æƒ³ï¼Œä½†JSä¸ºå…¶æ·»åŠ ä¸Šäº†ç±»çš„å¤–è¡£ï¼Œä½¿å…¶æ›´åŠ æ˜“ç”¨ã€‚</p>
<p>è™½ç„¶åœ¨ä»Šæ—¶ä»Šæ—¥åŸå§‹çš„åŸå‹æ¨¡å¼å®ç°æ–¹å¼å·²ç»æœ‰äº›è¿‡æ—¶ï¼Œå¾ˆå¤šè¯­è¨€å·²ç»å°†åŸå‹æ¨¡å¼çº³å…¥äº†å…¶è¯­è¨€ç‰¹æ€§ä¸­(å¦‚Unityä¸­çš„Instantiateæ–¹æ³•)ï¼Œä½†å…¶æ€æƒ³ä»ç„¶æœ‰å€¼å¾—å­¦ä¹ å€Ÿé‰´çš„åœ°æ–¹ï¼Œå¦‚åœ¨æˆ‘ä»¬é€šè¿‡JSONé…ç½®å¯¹è±¡æ•°æ®æ—¶ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥å°†ä¸€éƒ¨åˆ†ç›¸åŒçš„æ•°æ®ä½œä¸ºåŸå‹éƒ¨åˆ†æ¥æé«˜æ•ˆç‡ã€‚</p>
<hr>
<h1>å•ä¾‹æ¨¡å¼</h1>
<h2 id="åŸºæœ¬å®šä¹‰ä¸æ¦‚å¿µ">åŸºæœ¬å®šä¹‰ä¸æ¦‚å¿µ</h2>
<p>å•ä¾‹æ¨¡å¼(Singleton)æ˜¯æœ€æ˜“äºä½¿ç”¨ï¼ŒåŒæ—¶ä¹Ÿå­˜åœ¨ç€è®¸å¤šäº‰è®®çš„ä¸€ç§è®¾è®¡æ¨¡å¼ã€‚å…¶ç†å¿µæ˜¯:**ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶ä¸”æä¾›è®¿é—®è¯¥å®ä¾‹çš„å…¨å±€è®¿é—®ç‚¹ã€‚**ä»å¦ä¸€ä¸ªè§’åº¦æ¥è¯´ï¼Œå•ä¾‹æ¨¡å¼æ˜¯ä¸€ç§å°†å…¨å±€çŠ¶æ€å°è£…ä¸ºç±»çš„æ¨¡å¼ã€‚å…¶æœ‰ç€é²œæ˜çš„ä¼˜ç¼ºç‚¹ï¼Œå®ƒæ˜¯ä¸€ç§æ–¹ä¾¿å¥½ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œä½†æ˜¯å®ƒä¹Ÿæœ‰ç€å¾ˆå¤šç¼ºé™·ï¼Œä¾æ®æœ¬ä¹¦ä½œè€…çš„è¯æ¥è¯´ï¼Œä½¿ç”¨å®ƒæ›´æ¥è¿‘ä¸€ç§â€œé¥®é¸©æ­¢æ¸´â€çš„çŠ¶æ€ã€‚</p>
<h3 id="ä¼˜ç‚¹">ä¼˜ç‚¹</h3>
<ul>
<li>ä½¿ç”¨æ‡’æ±‰å¼å•ä¾‹æ—¶ï¼Œæƒ°æ€§åŠ è½½å¯ä»¥ä¸€å®šç¨‹åº¦ä¸ŠèŠ‚çœå†…å­˜ï¼Œæ²¡äººè°ƒç”¨å®ƒæ—¶ï¼Œå…¶ä¾¿ä¸ä¼šè¢«åˆ›å»º</li>
<li>ä¸é™æ€/å…¨å±€çŠ¶æ€ç›¸æ¯”ï¼Œå…¶åœ¨è¿è¡Œæ—¶è¿›è¡Œå®ä¾‹åŒ–ï¼Œè¿™è®©å…¶åˆå§‹åŒ–å˜å¾—æ–¹ä¾¿ï¼Œä¸å¿…æ‹…å¿ƒå¼•ç”¨é—®é¢˜</li>
<li>å› å…¶å¯ä»¥è¢«å…¨å±€è®¿é—®ï¼Œè°ƒç”¨å®ƒéå¸¸è½»æ¾æƒ¬æ„</li>
</ul>
<h3 id="ç¼ºç‚¹">ç¼ºç‚¹</h3>
<ul>
<li>å…¨å±€è®¿é—®çš„ç‰¹æ€§ï¼Œè®©ç†è§£ä»£ç å˜å¾—å›°éš¾ï¼ŒåŒæ—¶å¹¶ä¸å®‰å…¨ï¼Œå› ä¸ºæ‰€æœ‰äººéƒ½èƒ½è®¿é—®åˆ°ï¼Œä¹Ÿè®©å¹¶è¡Œå¼€å‘å˜å¾—å›°éš¾</li>
<li>ä½¿ç”¨æ‡’æ±‰å¼å•ä¾‹æ—¶ï¼Œæƒ°æ€§åŠ è½½è®©å‡†ç¡®æ§åˆ¶å…¶åŠ è½½æ—¶æœºå˜å¾—å›°éš¾ï¼Œæ— æ³•æ‰‹åŠ¨æ§åˆ¶å…¶å†…å­˜</li>
<li>é¥¿æ±‰å¼å•ä¾‹éšæ²¡æœ‰æƒ°æ€§åŠ è½½çš„é—®é¢˜ï¼Œä½†å…¶ç›¸æ¯”é™æ€ç±»å¾ˆéš¾çªå‡ºå…¶ä¼˜åŠ¿</li>
</ul>
<h2 id="Unityç®€å•å®ç°">Unityç®€å•å®ç°</h2>
<p>Singletonæ³›å‹åŸºç±»çš„åŸºæœ¬å®ç°ï¼šåˆ†ä¸ºä¸ç»§æ‰¿Monoä¸ç»§æ‰¿Monoä¸¤ä¸ªç‰ˆæœ¬</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">SingletonPattern</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">Singleton</span>&lt;<span class="title">T</span>&gt; <span class="keyword">where</span> <span class="title">T</span> : <span class="title">Singleton</span>&lt;<span class="title">T</span>&gt;, <span class="title">new</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> Lazy&lt;T&gt; InstanceHolder = <span class="keyword">new</span>(() =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">var</span> instance = <span class="keyword">new</span> T();</span><br><span class="line">            instance.OnInstanceInit(instance);</span><br><span class="line">            <span class="keyword">return</span> instance;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> T Instance =&gt; InstanceHolder.Value;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> called when instance is initialized</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnInstanceInit</span>(<span class="params">T instance</span>)</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="title">Singleton</span>()</span> &#123; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">SingletonMono</span>&lt;<span class="title">T</span>&gt; : <span class="title">MonoBehaviour</span> <span class="keyword">where</span> <span class="title">T</span> : <span class="title">SingletonMono</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> T _instance;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> <span class="built_in">object</span> LockObj = <span class="keyword">new</span>();</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">bool</span> _isApplicationQuitting;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> T Instance</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (_isApplicationQuitting)</span><br><span class="line">                &#123;</span><br><span class="line">                    Debug.LogWarning(<span class="string">$&quot;[<span class="subst">&#123;<span class="keyword">typeof</span>(T)&#125;</span>] Instance is destroyed. Returning null.&quot;</span>);</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">lock</span> (LockObj)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (_instance) <span class="keyword">return</span> _instance;</span><br><span class="line">                    _instance = FindObjectOfType&lt;T&gt;();</span><br><span class="line">                    <span class="keyword">if</span> (_instance) <span class="keyword">return</span> _instance;</span><br><span class="line">                    <span class="keyword">var</span> singletonObject = <span class="keyword">new</span> GameObject(<span class="string">$&quot;<span class="subst">&#123;<span class="keyword">typeof</span>(T).Name&#125;</span>_SingletonMono&quot;</span>);</span><br><span class="line">                    _instance = singletonObject.AddComponent&lt;T&gt;();</span><br><span class="line">                    <span class="keyword">return</span> _instance;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="built_in">bool</span> KeepAliveAcrossScenes =&gt; <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Awake</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">lock</span> (LockObj)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (!_instance)</span><br><span class="line">                &#123;</span><br><span class="line">                    _instance = <span class="keyword">this</span> <span class="keyword">as</span> T;</span><br><span class="line">                    <span class="keyword">if</span> (KeepAliveAcrossScenes) DontDestroyOnLoad(gameObject);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (_instance != <span class="keyword">this</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    Debug.LogWarning(<span class="string">$&quot;[<span class="subst">&#123;<span class="keyword">typeof</span>(T)&#125;</span>] Duplicate instance detected. Destroying <span class="subst">&#123;name&#125;</span>.&quot;</span>);</span><br><span class="line">                    DestroyImmediate(gameObject);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnDestroy</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">lock</span> (LockObj) <span class="keyword">if</span> (_instance == <span class="keyword">this</span>) _instance = <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnApplicationQuit</span>()</span> =&gt; _isApplicationQuitting = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åˆ°åº•ç”¨ä¸ç”¨å•ä¾‹ï¼Ÿ">åˆ°åº•ç”¨ä¸ç”¨å•ä¾‹ï¼Ÿ</h2>
<ul>
<li>å¾ˆå¤šå•ä¾‹å¯ä»¥è¢«æ›¿æ¢ä¸ºé™æ€ç±»</li>
<li>å…¨å±€è®¿é—®ä¸æ˜¯ä¸€ä¸ªå¥½æ€§è´¨ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡ç¼©å°å¯è®¿é—®å•ä¾‹çš„èŒƒå›´</li>
<li>æœ‰æ—¶æˆ‘ä»¬å®é™…ä¸Šåªéœ€è¦â€œå…¨å±€å”¯ä¸€å®ä¾‹â€çš„æ€§è´¨ï¼Œé‚£ä¹ˆç”¨ä¸€ä¸ªé™æ€å¸ƒå°”å€¼æ ‡è¯†ä¸€ä¸‹å°±è¡Œäº†</li>
</ul>
]]></content>
      <categories>
        <category>Notes</category>
        <category>Design Pattern</category>
        <category>ã€ŠGame Programming Patternsã€‹</category>
      </categories>
      <tags>
        <tag>Note</tag>
        <tag>ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Œæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€è¯»ä¹¦ç¬”è®°äº”ï¼šçŠ¶æ€æ¨¡å¼</title>
    <url>/posts/2005/</url>
    <content><![CDATA[<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304070014396.jpeg" alt="img"></p>
<blockquote>
<p><strong>ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹-Bob Nystrom</strong></p>
<p><strong>ä¹¦ç±æ±‰åŒ–ç‰ˆç½‘å€ï¼š<a href="https://gpp.tkchu.me/">https://gpp.tkchu.me/</a></strong></p>
<p><strong>ç¬”è®°ç›®å½•ï¼š<a href="https://hmxs.games/posts/2000/">https://hmxs.games/posts/2000/</a></strong></p>
</blockquote>
<hr>
<h1>çŠ¶æ€æ¨¡å¼</h1>
<h2 id="æœ‰é™çŠ¶æ€æœºFSM">æœ‰é™çŠ¶æ€æœºFSM</h2>
<p>æœ‰é™çŠ¶æ€æœºå¸®åŠ©æˆ‘ä»¬æ¢³ç†è§’è‰²çš„çŠ¶æ€ï¼Œé˜²æ­¢å‡ºç°ä¸€äº›å¯èƒ½ç”±â€œè¿ç‚¹â€ç­‰æ“ä½œå¯¼è‡´çš„è®©ä¸€ä¸ªåŠ¨ä½œä¸æ–­é‡å¤çš„bugã€‚unityä¸­çš„åŠ¨ç”»ç³»ç»Ÿå¾ˆå¤§ç¨‹åº¦ä¸Šä¾¿æ˜¯åŸºäºFSMè¿›è¡Œè®¾è®¡çš„ã€‚æœ¬ç« é€šè¿‡FSMå¼•å…¥çŠ¶æ€æ¨¡å¼</p>
<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304070016740.png" alt="ä¸€å¼ ç”»æœ‰ç›’å­çš„å›¾è¡¨ï¼Œç›’å­ä»£è¡¨äº†ç«™ç«‹ï¼Œè·³è·ƒï¼Œä¿¯å§å’Œè·³æ–©ã€‚æ ‡è®°äº†æŒ‰é”®çš„æŒ‰ä¸‹å’Œé‡Šæ”¾çš„ç®­å¤´è¿æ¥äº†è¿™äº›ç›’å­ã€‚" style="zoom:50%;" />
<h3 id="å®šä¹‰">å®šä¹‰</h3>
<ul>
<li>çŠ¶æ€æœºæ‹¥æœ‰æ‰€æœ‰å¯èƒ½çŠ¶æ€</li>
<li>çŠ¶æ€æœºåŒæ—¶åªèƒ½å­˜åœ¨ä¸€ä¸ªçŠ¶æ€</li>
<li>çŠ¶æ€æœºå¯ä»¥æ¥æ”¶è¿ç»­çš„è¾“å…¥ä¸äº‹ä»¶</li>
<li>æ¯ä¸ªçŠ¶æ€éƒ½æœ‰ä¸€ç³»åˆ—çŠ¶æ€è½¬ç§»æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•ä¸è¾“å…¥å’Œå¦ä¸€çŠ¶æ€ç›¸å…³</li>
</ul>
<h3 id="FSMçš„ç®€å•å®ç°">FSMçš„ç®€å•å®ç°</h3>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">StatePattern</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SimpleFSM</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// çŠ¶æ€æšä¸¾</span></span><br><span class="line">        <span class="keyword">private</span> <span class="built_in">enum</span> State</span><br><span class="line">        &#123;</span><br><span class="line">            Idle,</span><br><span class="line">            Attack,</span><br><span class="line">            Walk</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> State _current;<span class="comment">// å½“å‰çŠ¶æ€</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            _current = State.Idle;<span class="comment">// åˆå§‹çŠ¶æ€</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// æ¯å¸§åˆ¤æ–­çŠ¶æ€</span></span><br><span class="line">            <span class="keyword">switch</span> (_current)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">case</span> State.Idle:</span><br><span class="line">                    Idle();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> State.Attack:</span><br><span class="line">                    Attack();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> State.Walk:</span><br><span class="line">                    Walk();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="literal">default</span>:</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentOutOfRangeException();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å…·ä½“çŠ¶æ€é€»è¾‘</span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Idle</span>()</span> &#123; &#125;</span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Attack</span>()</span> &#123; &#125;</span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Walk</span>()</span> &#123; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="é¢å‘å¯¹è±¡çš„çŠ¶æ€æ¨¡å¼">é¢å‘å¯¹è±¡çš„çŠ¶æ€æ¨¡å¼</h2>
<blockquote>
<p>GoF: å…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶æ”¹å˜è‡ªå·±çš„è¡Œä¸ºï¼Œè¯¥å¯¹è±¡çœ‹èµ·æ¥å¥½åƒä¿®æ”¹äº†å®ƒçš„ç±»å‹</p>
</blockquote>
<p>Switchæ–¹æ³•å·²ç»å¯ä»¥å¾ˆå¥½çš„å®ç°ä¸€ä¸ªç®€å•çš„çŠ¶æ€æœºäº†ï¼Œä½†æ˜¯åœ¨FSMä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ›´è¿›ä¸€æ­¥ï¼Œé€šè¿‡OOPçš„æ€æƒ³æ¥ç¼–å†™FSMã€‚é€šè¿‡å®ç°çŠ¶æ€æ¥å£ã€è®©æ¯ä¸ªçŠ¶æ€æˆä¸ºç±»ã€çŠ¶æ€å§”æ‰˜è¿™ä¸‰æ­¥ä¾¿å¯ä»¥å®ç°è¿™ä¸€ç‚¹ã€‚å…¶æ ¸å¿ƒç›®çš„æ˜¯å°†çŠ¶æ€çš„è¡Œä¸ºå’Œæ•°æ®å°è£…åˆ°å•ä¸€ç±»ä¸­ã€‚</p>
<h3 id="åŠ¨æ€é¢å‘å¯¹è±¡FSMå®ç°">åŠ¨æ€é¢å‘å¯¹è±¡FSMå®ç°</h3>
<p><strong>çŠ¶æ€åŸºç±»ä¸çŠ¶æ€ç±»</strong>ï¼š</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">StatePattern</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">FsmBase</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnEnter</span>()</span> &#123;&#125;</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnExit</span>()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">OnUpdate</span>()</span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> FsmBase <span class="title">TransitState</span>()</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">IdleState</span> : <span class="title">FsmBase</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="built_in">float</span> _changeTime;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">IdleState</span>(<span class="params"><span class="built_in">float</span> changeTime</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            _changeTime = changeTime;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnEnter</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Debug.Log(<span class="string">&quot;Idle Enter&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnUpdate</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Debug.Log(<span class="string">&quot;Idle Update&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> FsmBase <span class="title">TransitState</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            _changeTime -= Time.deltaTime;</span><br><span class="line">            <span class="keyword">if</span> (_changeTime &lt; <span class="number">0.1f</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> AttackState();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AttackState</span> : <span class="title">FsmBase</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnExit</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Debug.Log(<span class="string">&quot;Attack Exit&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnUpdate</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Debug.Log(<span class="string">&quot;Attack Update&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> FsmBase <span class="title">TransitState</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (Input.GetKeyDown(KeyCode.A))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> IdleState(<span class="number">3f</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>äººç‰©è„šæœ¬</strong>ï¼š</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">StatePattern</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Test</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> FsmBase _current;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            _current = <span class="keyword">new</span> IdleState(<span class="number">1f</span>);</span><br><span class="line">            _current.OnEnter();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            FsmBase temp = _current.TransitState();</span><br><span class="line">            <span class="keyword">if</span> (temp != _current)</span><br><span class="line">            &#123;</span><br><span class="line">                _current.OnExit();</span><br><span class="line">                _current = temp;</span><br><span class="line">                _current.OnEnter();</span><br><span class="line">            &#125;</span><br><span class="line">            _current.OnUpdate();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å¹¶å‘çŠ¶æ€æœº">å¹¶å‘çŠ¶æ€æœº</h2>
<p>å½“æˆ‘ä»¬é€šè¿‡FSMæ¥ç®¡ç†ä¸€ä¸ªè§’è‰²çš„çŠ¶æ€ï¼Œæœ‰èµ°ã€è·‘ã€è·³ç­‰ï¼Œè‹¥æˆ‘ä»¬ç°åœ¨æƒ³ä¸ºè¿™ä¸ªè§’è‰²æ·»åŠ å„ç±»æ­¦å™¨ï¼Œè‹¥æˆ‘ä»¬ä»ç„¶é€šè¿‡å•ä¸€FSMæ¥è¿›è¡Œç®¡ç†ï¼ŒçŠ¶æ€å°±ä¼šå˜æˆèµ°æ–©ã€è·‘æ–©ã€è·³åŠˆã€èµ°å°„ã€è·‘å°„ç­‰ï¼Œå¦‚æœæˆ‘ä»¬è¿˜æƒ³æ·»åŠ åˆ«çš„è§’è‰²æ¨¡å—ï¼Œå°±ä¼šè®©å•ä¸€FSMçš„çŠ¶æ€æ•°é‡æˆæŒ‡æ•°ä¸Šæ¶¨ï¼Œè¿™å¹¶ä¸æ˜“äºç¼–å†™ã€‚</p>
<p>è¿™ç§æƒ…å†µä¸‹ï¼Œå¹¶å‘çŠ¶æ€æœºä¾¿å¯ä»¥è¢«ä½¿ç”¨ï¼Œå…¶æ ¸å¿ƒä¾¿æ˜¯<strong>åˆ†ç¦»è§’è‰²çŠ¶æ€ï¼Œé€šè¿‡å¤æ•°çŠ¶æ€æœºè¿›è¡Œç®¡ç†</strong>ï¼Œå¦‚ä¸Šè¿°ä¾‹å­ä¸­ï¼Œå¯ä»¥åˆ†ç¦»ä¸ºâ€œè§’è‰²åŠ¨ä½œâ€ä¸â€œè§’è‰²è£…å¤‡â€ï¼Œé€šè¿‡ä¸¤ä¸ªåŒæ—¶è¿è¡Œçš„çŠ¶æ€æœºè¿›è¡Œç®¡ç†ã€‚</p>
<h2 id="åˆ†å±‚çŠ¶æ€æœº">åˆ†å±‚çŠ¶æ€æœº</h2>
<p>å½“çŠ¶æ€æœºä¸­æœ‰å¤šä¸ªçŠ¶æ€æœ‰éƒ¨åˆ†ç›¸ä¼¼çš„è¡Œä¸ºæ—¶ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥é€šè¿‡åˆ†å±‚çŠ¶æ€æœºæ¥å‡å°‘ä»£ç ç¼–å†™é‡ã€‚</p>
<p>å› ä¸ºæˆ‘ä»¬é‡‡ç”¨äº†OOPçš„æ€æƒ³æ¥å»ºæ„çŠ¶æ€æœºï¼Œè€ŒOOPä¸­ç±»å…±äº«ä»£ç çš„å½¢å¼ä¸ºç»§æ‰¿ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥ä¸ºè¿™äº›çŠ¶æ€åˆ›å»ºçˆ¶ç±»ä½œä¸ºçˆ¶çŠ¶æ€ï¼Œå­çŠ¶æ€è¿›è¡Œç»§æ‰¿å³å¯ã€‚</p>
<h2 id="ä¸‹æ¨çŠ¶æ€æœº">ä¸‹æ¨çŠ¶æ€æœº</h2>
<p>é€šè¿‡çŠ¶æ€æ ˆæ¥ç®¡ç†çŠ¶æ€ï¼ŒæŠŠæ–°çŠ¶æ€æ¨å…¥æ ˆï¼Œå½“å‰çŠ¶æ€ä¸ºæ ˆé¡¶çš„çŠ¶æ€ï¼Œå½“æˆ‘ä»¬ä¸éœ€è¦è¯¥çŠ¶æ€æ—¶å‡ºæ ˆå³å¯ï¼Œè¿™æ ·ä¾¿å¯ä»¥å®ç°è®°å¿†çŠ¶æ€çš„ç›®çš„ã€‚</p>
]]></content>
      <categories>
        <category>Notes</category>
        <category>Design Pattern</category>
        <category>ã€ŠGame Programming Patternsã€‹</category>
      </categories>
      <tags>
        <tag>Note</tag>
        <tag>ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title>2048</title>
    <url>/posts/42265/</url>
    <content><![CDATA[<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303251612203.png" alt="2048" style="zoom: 25%;" />
<blockquote>
<p><strong>é¡¹ç›®åœ°å€</strong>ï¼š<a href="https://github.com/hmxsqaq/Unity-2048-New">https://github.com/hmxsqaq/Unity-2048-New</a></p>
</blockquote>
]]></content>
      <categories>
        <category>Projects</category>
        <category>ç»å…¸å°æ¸¸æˆå¤åˆ»</category>
      </categories>
      <tags>
        <tag>C#</tag>
        <tag>Unity</tag>
        <tag>GameProject</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Œæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€è¯»ä¹¦ç¬”è®°å…­ï¼šåºåˆ—æ¨¡å¼ï¼ˆæ›´æ–°ä¸­ï¼‰</title>
    <url>/posts/2006/</url>
    <content><![CDATA[<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202304070014396.jpeg" alt="img"></p>
<blockquote>
<p><strong>ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹-Bob Nystrom</strong></p>
<p><strong>ä¹¦ç±æ±‰åŒ–ç‰ˆç½‘å€ï¼š<a href="https://gpp.tkchu.me/">https://gpp.tkchu.me/</a></strong></p>
<p><strong>ç¬”è®°ç›®å½•ï¼š<a href="https://hmxs.games/posts/2000/">https://hmxs.games/posts/2000/</a></strong></p>
</blockquote>
<hr>
<h1>åºåˆ—æ¨¡å¼</h1>
<p>åœ¨æ¸¸æˆåˆ¶ä½œä¸­ï¼Œâ€œæ—¶é—´â€æ˜¯ä¸€ä¸ªæå…¶é‡è¦çš„æ¦‚å¿µï¼Œæˆ‘ä»¬éœ€è¦ä¸ºæˆ‘ä»¬åˆ›é€ çš„è™šæ‹Ÿä¸–ç•Œèµ‹äºˆæ—¶é’Ÿã€‚æœ¬ç« èŠ‚åºåˆ—æ¨¡å¼(SequencingPatterns)ä¾¿æ˜¯æ„å»ºæ—¶é’Ÿçš„å·¥å…·ã€‚</p>
<p><strong>æ¸¸æˆå¾ªç¯</strong>æ˜¯æ—¶é’Ÿçš„ä¸»è½´</p>
<p>å¯¹è±¡é€šè¿‡<strong>Updateæ–¹æ³•</strong>å“åº”æ¸¸æˆå¾ªç¯</p>
<p>åº”ç”¨<strong>åŒç¼“å†²æ¨¡å¼</strong>å¯ä»¥å‚¨å­˜å¿«ç…§æ¥éšè—è®¡ç®—æœºé¡ºåºæ‰§è¡Œçš„ç‰¹æ€§ï¼Œä½¿æ¸¸æˆçœ‹èµ·æ¥æ˜¯åŒæ­¥æ›´æ–°çš„</p>
<hr>
<h2 id="åŒç¼“å†²æ¨¡å¼">åŒç¼“å†²æ¨¡å¼</h2>
]]></content>
      <categories>
        <category>Notes</category>
        <category>Design Pattern</category>
        <category>ã€ŠGame Programming Patternsã€‹</category>
      </categories>
      <tags>
        <tag>Note</tag>
        <tag>ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title>FlappyBird</title>
    <url>/posts/16350/</url>
    <content><![CDATA[<p><img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303251606418.png" alt="FlappyBird"></p>
<blockquote>
<p><strong>é¡¹ç›®åœ°å€ï¼š</strong></p>
<p>Unity: <a href="https://github.com/hmxsqaq/Unity-FlappyBird">https://github.com/hmxsqaq/Unity-FlappyBird</a></p>
<p>Pygame: <a href="https://github.com/hmxsqaq/Pygame-FlappyBird">https://github.com/hmxsqaq/Pygame-FlappyBird</a></p>
</blockquote>
]]></content>
      <categories>
        <category>Projects</category>
        <category>ç»å…¸å°æ¸¸æˆå¤åˆ»</category>
      </categories>
      <tags>
        <tag>C#</tag>
        <tag>Unity</tag>
        <tag>GameProject</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>/css/hmxs_custom.css</url>
    <content><![CDATA[#web_bg{filter:blur(3px) brightness(70%)}#footer{background:0 0!important}#page-header{background:0 0!important}#footer::before{background:0 0!important}#page-header::before{background:0 0!important}[data-theme=dark] #footer::before{background:0 0!important}[data-theme=dark] #page-header::before{background:0 0!important}]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/css/custom_loading.css</url>
    <content><![CDATA[.loading-img{background:url(https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202312251233199.jpeg) no-repeat center center;background-size:cover}]]></content>
  </entry>
  <entry>
    <title>å…³äºæˆ‘</title>
    <url>/about/index.html</url>
    <content><![CDATA[<img src="https://hmxs-1315810738.cos.ap-shanghai.myqcloud.com/img/202303231227575.jpg" style="zoom: 33%;" />
<h2 id="Who-am-Iï¼Ÿ">Who am Iï¼Ÿ</h2>
<p>ä½ å¥½ï¼æˆ‘æ˜¯å¾½å¢¨ ğŸ¤£ğŸ‘‰<s>çœŸåå°±ä¸è¯´äº†ï¼ŒæŠŠå¤´åƒpoä¸Šé¢å·²ç»å¤Ÿç¾è€»çš„äº†</s></p>
<p>ç›®å‰å°±è¯»äº<code>ä¸­å›½ä¼ åª’å¤§å­¦-åŠ¨ç”»ä¸æ•°å­—è‰ºæœ¯å­¦é™¢-æ•°å­—åª’ä½“æŠ€æœ¯ï¼ˆæ¸¸æˆè®¾è®¡æŠ€æœ¯ä¸“ä¸šï¼‰</code></p>
<p>æ­£åœ¨ä¸ºäº†æˆä¸ºä¸€ååˆæ ¼çš„æ¸¸æˆç¨‹åºè€ŒåŠªåŠ›ï¼Œæœªæ¥æƒ³å»<code>USC</code>/<code>CMU</code>/<code>Utah</code>è¿›ä¿®æ¸¸æˆå¼€å‘ç›¸å…³ä¸“ä¸šï¼ˆè¢«è‹±è¯­æŠ˜ç£¨ä¸­ï¼‰</p>
<p>äººæ ¼æµ‹è¯•æ˜¯<code>INTP-A</code> ï¼Œ<s>åŠå¹´å‰è¿˜æ˜¯ISFJæ¥ç€ğŸ¤¨</s></p>
<h2 id="Interests">Interests</h2>
<p>ACGçˆ±å¥½è€…ï¼Œå•æœºå¤©é¾™äººï¼ŒåŠ¨æ¼«å®…ï¼Œé˜´æš—é€¼ï¼›å–œæ¬¢æ•´ç†ä¸œè¥¿ã€å†™åšå®¢ã€æ”¶è—æŒæœº/è®¾å®šé›†/æ¸¸æˆç›˜/æ‰‹åŠç­‰å„ç§å¥‡å¥‡æ€ªæ€ªçš„ä¸œè¥¿</p>
<ul>
<li>
<p>æ¸¸æˆæ–¹é¢ï¼šSwitch/3DS/PSV/PCç©å®¶ï¼Œæœ€å–œæ¬¢çš„æ¸¸æˆæ˜¯<code>åä¸‰æœºå…µé˜²å«åœˆ</code>å’Œ<code>å¡å°”è¾¾ä¼ è¯´ç³»åˆ—</code>ï¼Œé“è¡€ä»»è±šï¼Œä½†ä¹Ÿç©MOBAï¼ˆLOLå¤§ä¹±æ–—ï¼‰ã€äºŒæ¬¡å…ƒæ‰‹æ¸¸ï¼ˆå…¬ä¸»è¿ç»“ï¼‰ã€TCGï¼ˆå½±ä¹‹è¯—ï¼‰ï¼›æ€»ä¹‹é™¤äº†FPSï¼ˆ<s>æ‰“ä¸å‡†å•Š</s>ï¼‰ä»€ä¹ˆéƒ½ç©ä¸€ç‚¹ï¼Œä½†éƒ½ä¸ç²¾é€š</p>
</li>
<li>
<p>åŠ¨æ¼«æ–¹é¢ï¼šæœ€å–œæ¬¢çš„ç•ªæ˜¯<code>Clannad</code>ï¼Œæ¯å­£æ–°ç•ªéƒ½ä¼šè¿½ï¼Œçœ‹ç•ªæ²¡æœ‰ç‰¹åˆ«çš„å€¾å‘</p>
</li>
<li>
<p>æŠ€æœ¯æ–¹é¢ï¼šå–œæ¬¢æ£é¼“æ•ˆç‡å’Œç¾åŒ–å·¥å…·ï¼Œå–œæ¬¢åšæ¸¸æˆï¼Œç›®å‰åœ¨ç”¨çš„æ¸¸æˆå¼•æ“æ˜¯<code>Unity</code></p>
</li>
<li>
<p>éŸ³ä¹æ–¹é¢ï¼šä¸»è¦å¬æ‘‡æ»šã€JPOPã€ACGç›¸å…³æ­Œæ›²ï¼Œæœ€å–œæ¬¢çš„ä¹é˜Ÿæ˜¯<code>One OK Rock</code>å’Œ<code>My First Stroy</code></p>
</li>
</ul>
<h2 id="Skills">Skills</h2>
<ul>
<li>[x] ä¸€ç‚¹ç‚¹C#ä¸Unity</li>
<li>[x] ä¸€ç‚¹ç‚¹Python</li>
<li>[x] ä¸€ç‚¹ç‚¹C/C++</li>
<li>[x] ä¸€ç‚¹ç‚¹æ¸¸æˆè®¾è®¡</li>
</ul>
<h2 id="Projects">Projects</h2>
<p>è¿™é‡Œæ˜¯æˆ‘å‚ä¸çš„ä¸€äº›æ¸¸æˆç›¸å…³é¡¹ç›®</p>
<table>
<thead>
<tr>
<th style="text-align:center">Projects</th>
<th style="text-align:center">Introduction</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/1/">ã€ŠReviveã€‹UE GameJam 2022</a></td>
<td style="text-align:center">ä¸»é¢˜ä¸ºã€Œè‡ªç§çš„åŸºå› ã€ï¼Œä¸€æ¬¾ä»¥æ€€èƒä½“éªŒä¸ºæ ¸å¿ƒçš„ä¸¥è‚ƒæ¸¸æˆ</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/2/">ã€Šèº²é¿ç—…æ¯’ã€‹ä¸¥è‚ƒæ¸¸æˆå·¥åŠä½œå“</a></td>
<td style="text-align:center">ä¸€æ¬¾è¯ç”Ÿäºç–«æƒ…å¤§èƒŒæ™¯ä¸‹ï¼Œä»¥ä¼ é€’é˜²ç–«çŸ¥è¯†ä¸ºç›®çš„çš„ç›Šæ™ºå°æ¸¸æˆ</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/3/">ã€ŠCyberpsychosisã€‹AI GameJam 2023</a></td>
<td style="text-align:center">ä¸»é¢˜ä¸ºã€Œå’Œè°çš„ç¼åˆæ€ªã€ï¼Œ50%ç¾æœ¯èµ„æºç”±AIå®Œæˆï¼Œä¸€æ¬¾å°†â€œæ¨ç®±å­â€ä¸â€œè”åˆç§»åŠ¨â€æœºåˆ¶ç›¸ç»“åˆçš„æ¸¸æˆ</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/5/">ã€ŠSCPã€‹æ¸¸æˆåˆ›ä½œ1 week3</a></td>
<td style="text-align:center">ä¸»é¢˜ä¸ºã€ŒSCPã€ï¼Œä¸€æ¬¾ä»¥é»‘æš—ã€ç¥ç§˜ã€ææ€–ä¸ºæ ¸å¿ƒçš„2Då†’é™©æ¸¸æˆ</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/6/">ã€Šè¾Ÿé‚ªå‚©ç‹®ã€‹æ¸¸åˆ›1 ç»“è¯¾</a></td>
<td style="text-align:center">CUCæ¸¸æˆåˆ›ä½œ1è¯¾ç¨‹ç»“è¯¾ä½œå“ï¼Œä¸€æ¬¾ç»“åˆä¼ ç»Ÿèˆç‹®æ–‡åŒ–çš„2då¹³å°è·³è·ƒæ¸¸æˆ</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/7/">ã€Šç”µå‡»å°å­ã€‹CiGA GameJam 2023</a></td>
<td style="text-align:center">ä¸»é¢˜ä¸ºã€ŒTouchã€ï¼Œä¸€æ¬¾ä»¥å†¬å¤©é™ç”µç”µäººä¸ºçµæ„Ÿçš„æ¶æä¼‘é—²æ¸¸æˆ</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/4/">ã€Šè”æœºè±¡æ£‹ã€‹æ¸¸æˆç¼–ç¨‹å®è®­</a></td>
<td style="text-align:center">CUCæ¸¸æˆç¼–ç¨‹å®è®­è¯¾ç¨‹ç»“è¯¾ä½œå“ï¼Œä¸€æ¬¾åŸºäºCè¯­è¨€çš„å¯ç‚¹å¯¹ç‚¹è”æœºçš„ä¸­å›½è±¡æ£‹æ¸¸æˆ</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/8/">ã€ŠJust Suckã€‹å‰æ¯”ç‰¹GameJam 2023</a></td>
<td style="text-align:center">ä¸‰ç­‰å¥–ä½œå“ï¼ŒJamä¸»é¢˜ä¸ºã€Œå¸æ”¶ã€ï¼Œä¸€æ¬¾æç®€è®¾è®¡é£æ ¼çš„ä¼‘é—²æ¸¸æˆ</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/9/">ã€Šå¹æ°”çƒã€‹æ¸¸æˆåˆ›ä½œ2 week1</a></td>
<td style="text-align:center">CUCæ¸¸æˆåˆ›ä½œ2ç¬¬ä¸€æ¬¡ä½œä¸šï¼Œä¸€æ¬¾æœºåˆ¶ç®€å•ä½†æ¬¢ä¹çš„æ´¾å¯¹ä¼‘é—²æ¸¸æˆ</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/10/">ã€ŠBlindTrustã€‹æ¸¸æˆåˆ›ä½œ2 week3</a></td>
<td style="text-align:center">CUCæ¸¸æˆåˆ›ä½œ2ç¬¬ä¸‰æ¬¡ä½œä¸šï¼Œä¸€ä¸ªç®€æ˜“çš„æ¨¡æ‹Ÿç›²äººå‡ºè¡Œæ¨¡æ‹Ÿå™¨ï¼Œä½¿ç”¨äº†ç½‘ç»œè”æœºæŠ€æœ¯</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/11/">ã€ŠAssAssInã€‹æ¸¸æˆåˆ›ä½œ2 ç»“è¯¾</a></td>
<td style="text-align:center">CUCæ¸¸æˆåˆ›ä½œ2è¯¾ç¨‹ç»“è¯¾ä½œå“ï¼Œä¸€æ¬¾åŠ¨æ•ˆåä¸½çš„åŒäººå¯¹æˆ˜æ´¾å¯¹æ¸¸æˆ</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/12/">ä»é›¶å¼€å§‹çš„C++è½¯å…‰æ …æ¸²æŸ“å™¨</a></td>
<td style="text-align:center">ä¸€ä¸ªå¾®å‹ C++ è½¯å…‰æ …æ¸²æŸ“å™¨ï¼Œå¯ä»¥è¿›è¡Œç®€å•çš„æ¸²æŸ“</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/hmxsqaq/Unity-Framework">Unityå°æ¸¸æˆæ¡†æ¶-ç»ƒä¹ ç”¨</a></td>
<td style="text-align:center">ä¸ºUnityå¼€å‘çš„ä¸€å¥—é€‚ç”¨äºå°æ¸¸æˆçš„æ¸¸æˆæ¡†æ¶ï¼ŒåŒ…å«äº†å¯¹è±¡æ± ã€äº‹ä»¶ä¸­å¿ƒã€éŸ³é¢‘UIç®¡ç†å™¨ç­‰æ¨¡å—</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/hmxsqaq/Unity-HmxsToolkit">Hmxs Toolkit</a></td>
<td style="text-align:center">ä¸€ä¸ªä¸ªäººToolkité¡¹ç›®ï¼Œä¼šè®°å½•ä¸€äº›è‡ªå·±å†™<s>Ctrl+C/V</s>çš„Unityæ¨¡å—/åŠŸèƒ½/ç³»ç»Ÿ/è½®å­</td>
</tr>
</tbody>
</table>
<h2 id="Notes">Notes</h2>
<p>è¿™é‡Œæ˜¯æˆ‘çš„ä¸€äº›å­¦ä¹ ç¬”è®°</p>
<table>
<thead>
<tr>
<th style="text-align:center">Notes</th>
<th style="text-align:center">Introduction</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/100/">ã€3B1B-çº¿æ€§ä»£æ•°çš„æœ¬è´¨ã€‘å­¦ä¹ ç¬”è®°</a></td>
<td style="text-align:center">é€šè¿‡ 3Blue1Brown çš„ã€Šçº¿æ€§ä»£æ•°çš„æœ¬è´¨ã€‹ç³»åˆ—è§†é¢‘å¤ä¹ çº¿æ€§ä»£æ•°</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/1001/">ã€The Cherno-C++ã€‘å­¦ä¹ ç¬”è®°</a></td>
<td style="text-align:center">é€šè¿‡ The Cherno çš„ç³»åˆ—è§†é¢‘å­¦ä¹  C++</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/104/">ã€C#-åå°„ã€‘å­¦ä¹ ç¬”è®°</a></td>
<td style="text-align:center">æ•´ç†äº† C# ä¸­åå°„çš„åŸç†ä¸ç›¸å…³çŸ¥è¯†</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/103/">ã€C#-æ³›å‹çº¦æŸã€‘å­¦ä¹ ç¬”è®°</a></td>
<td style="text-align:center">å¯¹C#ä¸­çš„æ³›å‹çº¦æŸä¸åº”ç”¨çš„çŸ¥è¯†ç‚¹æ•´ç†</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/105/">ã€Unity-Input Systemã€‘å­¦ä¹ ç¬”è®°</a></td>
<td style="text-align:center">å¯¹Unityä¸­çš„æ–°è¾“å…¥ç³»ç»Ÿ Input System çš„åŸç†ä¸ä½¿ç”¨æ–¹æ³•æ•´ç†</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/106/">ã€Unity-Timelineã€‘å­¦ä¹ ç¬”è®°</a></td>
<td style="text-align:center">å¯¹Unityä¸­çš„å¼ºå¤§çš„å¯è§†åŒ–å·¥å…· Timeline çš„å­¦ä¹ ç¬”è®°</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/101/">ã€GAMES101ã€‘å­¦ä¹ ç¬”è®°</a></td>
<td style="text-align:center">é€šè¿‡å¤§åé¼é¼çš„GAMES101ç³»åˆ—è¯¾ç¨‹å…¥é—¨å›¾å½¢å­¦</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/2000/">ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹è¯»ä¹¦ç¬”è®°ï¼ˆæ›´æ–°ä¸­ï¼‰</a></td>
<td style="text-align:center">é€šè¿‡ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹ä¸€ä¹¦å­¦ä¹ æ¸¸æˆå¼€å‘ä¸­çš„è®¾è®¡æ¨¡å¼</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://hmxs.games/posts/4000/">ã€Šç®—æ³•4ã€‹è¯»ä¹¦ç¬”è®°ï¼ˆæ›´æ–°ä¸­ï¼‰</a></td>
<td style="text-align:center">å¤§åé¼é¼çš„ã€Šç®—æ³•:ç¬¬å››ç‰ˆã€‹çš„è¯»ä¹¦ç¬”è®°</td>
</tr>
</tbody>
</table>
<h2 id="ä¸€äº›ç¢ç¢å¿µ">ä¸€äº›ç¢ç¢å¿µ</h2>
<p>ä¸çŸ¥é“ä¸ºä»€ä¹ˆçªç„¶æƒ³å†™ä¸ªAbout meï¼Œå˜›ï¼Œåæ­£ä¹Ÿæ²¡äººçœ‹ï¼Œå°±å½“æ˜¯ä¸€äº›å¯¹è‡ªå·±çš„è¯„ä»·å§</p>
<p>ä¸çŸ¥ä¸è§‰å·²ç»ä¸Šäº†å¿«ä¸¤å¹´å¤§å­¦äº†ï¼Œæ„Ÿè§‰ç»å†äº†å¾ˆå¤šï¼Œä½†æ˜¯å¥½åƒä¹Ÿæ²¡å¹²ä»€ä¹ˆ<s>æˆ‘æè¿™æè¿™å‘¢</s>ï¼Œä»å…¥æ ¡åˆ°è½¬ä¸“ä¸šå†åˆ°ç°åœ¨ï¼Œè®¤è¯†äº†å¾ˆå¤šå¾ˆä¼˜ç§€çš„äººï¼Œæœ‰æ—¶å€™çœ‹åˆ°ä»–ä»¬çœŸçš„ä¼šå¾ˆç„¦è™‘å•ŠğŸ™ƒ</p>
<p>ä½†æ˜¯æƒ³æ¥è¿™æ ·ä¹ŸæŒºå¥½çš„å§ï¼Œè¿½èµ¶ä»–ä»¬æˆ–è®¸å¯ä»¥æˆä¸ºæˆ‘çš„åŠ¨åŠ›ä¹‹ä¸€ï¼Ÿ</p>
<p>æ€»ä¹‹æ— è®ºå¦‚ä½•ï¼Œè™½ç„¶ä¸ä¼šçš„ä¸œè¥¿è¶Šå­¦è¶Šå¤šï¼Œèº«è¾¹çš„å¤§ä½¬ä¹Ÿè¶Šæ¥è¶Šå“ˆäººï¼Œä½†æ˜¯æ€»æ˜¯æ‰¾åˆ°äº†ä¸€ç‚¹ç‚¹ç›®æ ‡ä¸æ¢¦æƒ³ï¼Œè‡³å°‘ç°åœ¨èƒ½çŸ¥é“è‡ªå·±æƒ³å¹²ä»€ä¹ˆï¼Œèƒ½å­¦ä»€ä¹ˆ</p>
<p>å¦‚æœä½ èƒ½çœ‹åˆ°è¿™é‡Œçš„è¯ï¼Œ<strong>å‰è·¯æ¼«æ¼«ï¼Œä¸å›å…±å‹‰ã€‚</strong></p>
]]></content>
  </entry>
  <entry>
    <title>åˆ†ç±»</title>
    <url>/categories/index.html</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/css/progress_bar.css</url>
    <content><![CDATA[.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:2000;position:fixed;margin:auto;top:10px;left:0;right:0;height:8px;border-radius:8px;width:4rem;background:#eaecf2;border:1px #e3e8f7;overflow:hidden}.pace-inactive .pace-progress{opacity:0;transition:.3s ease-in}.pace .pace-progress{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box;-webkit-transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0);-o-transform:translate3d(0,0,0);transform:translate3d(0,0,0);max-width:200px;position:absolute;z-index:2000;display:block;top:0;right:100%;height:100%;width:100%;background:linear-gradient(-45deg,#ee7752,#e73c7e,#23a6d5,#23d5ab);animation:gradient 1.5s ease infinite;background-size:200%}.pace.pace-inactive{opacity:0;transition:.3s;top:-8px}@keyframes gradient{0%{background-position:0 50%}50%{background-position:100% 50%}100%{background-position:0 50%}}]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/css/font.css</url>
    <content><![CDATA[@font-face{font-family:mononoki;font-display:swap;src:url('../fonts/mononoki-Regular.ttf') format("truetype")}@font-face{font-family:LXGWWenKaiGBLite;font-display:swap;src:url('../fonts/LXGWWenKaiGBLite-Medium.ttf') format("truetype")}]]></content>
  </entry>
  <entry>
    <title>å‹é“¾</title>
    <url>/link/index.html</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>æ ‡ç­¾</title>
    <url>/tags/index.html</url>
    <content><![CDATA[]]></content>
  </entry>
</search>
